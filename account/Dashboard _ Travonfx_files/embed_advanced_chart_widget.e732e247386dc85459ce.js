(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[63277,47365,54453,48847,96325],{826512:e=>{e.exports={}},503595:(e,t,i)=>{"use strict";i.d(t,{asyncWindowOpen:()=>r});var s=i(314802);const n=i(777754).t(null,void 0,i(390879));function r(e,t,i){return window.TVD||(0,s.isOnMobileAppPage)("any")?function(e,t,i){return e.then((e=>{void 0!==e&&open(e,t,i)}),(()=>{}))}(e,t,i):async function(e,t,i){const s=URL.createObjectURL(new Blob([`<!doctype html><html style="background-color:${getComputedStyle(document.documentElement).backgroundColor}"><head><meta charset="utf-8"><title>${n}</title></head><body style="background-color:${getComputedStyle(document.body).backgroundColor}"></body></html>`],{type:"text/html"}));try{const n=open(s,t,i);if(!n)throw new Error("cound not open a new tab");const r=await e.catch((()=>{}));void 0!==r?n.location.replace(r):n.close()}finally{URL.revokeObjectURL(s)}}(e,t,i)}},45696:(e,t,i)=>{"use strict";i.d(t,{getStorageTarget:()=>a,globallySharedChartId:()=>o,sharedChartId:()=>r});var s=i(175203),n=i(266325);const r="_shared",o="UserSync";async function a(e,t,i,o){try{const a=new URL("/chart-token/",location.href);a.searchParams.append("image_url",e);const l=window.user.id||-1;a.searchParams.append("user_id",""+l);const u=await fetch(a.toString(),{signal:o});if(!u.ok)throw new Error(`Http response is not ok: ${u.status}}`);const c=await u.json();if(s.telemetry.sendLineToolsStorageReport("line_tools_token_request_success"),null==o?void 0:o.aborted)throw(0,n.createAbortError)();let d=t;return 2===i?d=void 0:1===i&&(d=r),{token:c.token,chartId:d,path:2===i?"user/sources":`layout/${e}/sources`}}catch(e){throw(0,n.isAbortError)(e)||s.telemetry.sendLineToolsStorageReport("line_tools_token_request_error"),e}}},198303:(e,t,i)=>{"use strict";i.d(t,{SavingLineToolsError:()=>s});class s extends Error{constructor(e,t){super(t),this.shouldBeCooled=e}}},778016:(e,t,i)=>{"use strict";i.d(t,{canUpgradePlan:()=>h,enabled:()=>u,getConfig:()=>d});var s=i(650151),n=i(409352),r=i(102710),o=i(833813),a=i(822122),l=i(255453);function u(e,t,i){let s=window.user;i&&(s=i);const n=d(e,t,s);return!!n&&!(n[o.ProductFeatures.DISABLE_ON_TRIAL]&&(!s||s.is_trial))}function c(e){const t=n[e];return t?t.extends?Object.assign({},c(t.extends),t):t:null}function d(e,t,i){var s;let n=c(t||function(e){let t=window.user;e&&(t=e);let i=(null==t?void 0:t.pro_plan)||a.ProPlans.Free;const s=i!==a.ProPlans.Free&&!(0,l.isTrialProduct)(i);return s||(i=(0,l.getProductForTrial)(i)),s&&t&&!t.new_pro_product_line&&(i=`__legacy_${i}`),i}(i));if(!n)return null;const o=null===(s=window.TradingView)||void 0===s?void 0:s.widgetCustomer;return o&&r[o]&&(n=Object.assign({},n,r[o])),n&&n[e]||null}function h(){var e,t,i,n;const r=null!==(t=null===(e=d(o.ProductFeatures.BACKEND_CONNECTIONS))||void 0===e?void 0:e.limit)&&void 0!==t?t:0,a=(0,s.ensureDefined)(window.pro),l=a.getProductsByType(a.PRODUCT_TYPES.pro_plan);for(const e of l)if((null!==(n=null===(i=d(o.ProductFeatures.BACKEND_CONNECTIONS,(0,
s.ensureDefined)(e.id)))||void 0===i?void 0:i.limit)&&void 0!==n?n:0)>r)return!0;return!1}},552279:(e,t,i)=>{"use strict";i.d(t,{reloginOrGoPro:()=>h,runOrGoPro:()=>d,runOrGoProWithoutSync:()=>c});var s=i(526225),n=i(960337),r=i(778016),o=i(833813);function a(e,t,i){return t.value||(0,r.enabled)(e,i)}function l(e,t,i){switch(e){case o.ProductFeatures.SCREENER_INTERVALS:return function(e,t){const i=(0,r.getConfig)(o.ProductFeatures.SCREENER_INTERVALS,t);return!(!i||!i.interval)&&i.interval.includes(e.interval)}(t,i);case o.ProductFeatures.SCREENER_AUTO_REFRESH:return a(o.ProductFeatures.SCREENER_AUTO_REFRESH,t,i);case o.ProductFeatures.ALERTS_NO_EXPIRATION:return a(o.ProductFeatures.ALERTS_NO_EXPIRATION,t,i);default:return(0,r.enabled)(e,i)}}var u=i(781666);function c(e,t,i,s){l(t,s)?e():(0,n.createGoProDialog)(i)}async function d(e,t,i,n={}){const r=window.is_authenticated;window.is_authenticated&&window.user.is_pro&&await(0,s.syncUserData)("gopro"),r===window.is_authenticated?c(e,t,i,n):(0,u.showSignModal)({source:i.goproSource,feature:i.feature,signinSuccess:e})}async function h(e){const t=window.is_authenticated;window.is_authenticated&&window.user.is_pro&&await(0,s.syncUserData)("gopro"),t===window.is_authenticated?(0,n.createGoProDialog)(e):(0,u.showSignModal)({source:e.goproSource,feature:e.feature})}},125226:(e,t,i)=>{"use strict";var s=i(49437).TVLocalStorage,n=i(707957).Delegate,r=i(855385);i(638456);var o=new n;TradingView.FeatureToggle={force_prefix:"forcefeaturetoggle.",onChanged:new n,enableFeature:function(e){s.setItem(this.force_prefix+e,"true"),o.fire(e)},disableFeature:function(e){s.setItem(this.force_prefix+e,"false"),o.fire(e)},resetFeature:function(e){s.removeItem(this.force_prefix+e),o.fire(e)},onFeaturesStateChanged:function(){return o}},TradingView.isFeatureEnabled=function(e){var t="featuretoggle_seed";function n(e){try{var i=r(e+function(){if(window.user&&window.user.id)return window.user.id;var e=s.getItem(t);return null!==e||(e=Math.floor(1e6*Math.random()),s.setItem(t,e)),e}());return new DataView(i).getUint32(0,!0)/4294967296}catch(e){return.5}}function a(t){return!("local"!==window.environment||!function(e){
var t=["tick_intervals","show_reset_chart_only_if_required","broker_FXCM_token_v2","broker_TRADESTATION","broker_TRADOVATE_dev","black_friday_mainpage","black_friday_popup","datawindow","trading-fast-renew-oauth-token","switching_year_to_month_disabled","default_year_billing_cycle_switcher","marketing-analytics","visible_address_fields_by_default","slow-support-warning","hide-trading-floating-toolbar","save-short-streams","details_disable_bid_ask","vat_disabled","pro_plan_upgrades_disabled","pro_plan_downgrades_disabled","disable_recaptcha_on_signup","braintree-gopro-in-order-dialog","braintree-apple-pay","braintree-apple-pay-trial","braintree-3ds-enabled","trial_increased_monthly_discounts","razorpay-card-tvcoins","razorpay-card-subscriptions","razorpay-upi-tvcoins","razorpay-upi-subscriptions","razorpay-use-recurring-billing-scheduler","hide_gopro_popup_upgrade_button","tradestation_use_sync_mapper","broker_id_session","remove_line_tools_from_content","disable_retry_load_linetools_from_storage","modular_broker_use_sync_mapper","do_not_save_shared_line_tools_to_charts","save_shared_line_tools","multichart_replay","chart_storage_with_broker_name","oanda-european-accounts-warning","mobile_show_bottom_panel","disable_save_settings","desktop_version_notification_enabled","favorites-in-broker-dropdown","enable_toggle_streams_rtmp_url","hide_ecomonic_events","mobile_trading_web","mobile_trading_ios","mobile_trading_android","hide_real_brokers_on_mobile","disable_tradestation_country_block","enable_trading_server_logger","hide_ranges_label_colors","disable_user_specific_encryption","minds_widget_enabled","collapse_pane_buttons_when_connected_to_broker","enable_new_execution_style","disable_pushstream_connections_for_anonymous_users","use_new_paper_status_mapping","use_staging_verifier","fxcm_fcl_api","ally_use_new_sso_url","ibkr_use_new_init_session_api","enable_eventsource_pushstream_transport","enable_eventsource_pushstream_mobile","ftx_request_server_logger","ibkr_request_server_logger","disallow_concurrent_sessions","check_ibkr_side_maintenance","tradestation_request_server_logger","trading_request_server_logger","hide_tweet_drawingtool","RU_SF_disable","RU_VOR_disable","enable_monaco_editor","enable_import_inlay_hints","enable_pine_editor_status_bar","enable_pine_logs","enable_new_custom_public_chats","bottom_panel_track_events","continuous_front_contract_trading","vertex-tax-included","enable_place_order_context_in_instant_mode","multiple_SoS","enable_edit_order_context_in_instant_mode","show_data_problems_in_help_center","chart_storage_hibernation_delay_60min","chart_storage_hibernation_delay_10min","chart_storage_hibernation_delay_5min","widget-sheriff","enable_sign_in_popup_with_evercookie","center_alignment_replay_position","start_replay_right_after_point_selection","switching_raf_toast","show_trading_buttons_in_am","order_type_specific_settings_saving","enable_share_idea_via_twitter","hide_position_trade_value","alerts-restrict-offline-clear-requests","show_alert_clock_icon","alerts-logos-in-widgets","enable_qty_calculator_in_replay","alerts-widgets-use-facade","alerts-facade-use-permission-proxy","forexcom_session_v2","add_financials_for_symbols","hide_percent_bottom_toolbar","hide_log_bottom_toolbar","hide_auto_bottom_toolbar","remove_lines_submenu","new_idea_publish_page","new_script_publish_page","enable_logo_in_mobile_apps","show_symbol_logo_in_legend","fxcm_fcl_server_logger","minds_comments_enable_for_free_users","alerts-hide-widget-filters-by-type"],i="[A-Z]+[a-zA-Z0-9_]+",s=new RegExp(`broker_${i}_dev`,"g"),n=new RegExp(`hide_${i}_on_ios`,"g"),r=new RegExp(`hide_${i}_on_android`,"g"),o=new RegExp(`hide_${i}_on_mobile_web`,"g")
;return-1===t.indexOf(e)&&-1===e.indexOf("-maintenance")&&!1===s.test(e)&&!1===n.test(e)&&!1===r.test(e)&&!1===o.test(e)}(t))||(!e[t]||-1!==e[t])&&(!!("true"===s.getItem(TradingView.FeatureToggle.force_prefix+t)||window.is_authenticated&&"undefined"!=typeof user&&user.settings&&"true"===user.settings[TradingView.FeatureToggle.force_prefix+t])||!("false"===s.getItem(TradingView.FeatureToggle.force_prefix+t)||window.is_authenticated&&"undefined"!=typeof user&&user.settings&&"false"===user.settings[TradingView.FeatureToggle.force_prefix+t])&&(!!e[t]&&(1===e[t]||n(t)<=e[t])))}return TradingView.onWidget()||Promise.all([i.e(38835),i.e(1867),i.e(34604)]).then(i.bind(i,501867)).then((t=>{t.pushStreamMultiplexer.on("featuretoggle",(function(t){var i=a(t.name);e[t.name]=t.state,i!==a(t.name)&&o.fire(t.name)}))})),a}(window.featureToggleState||{}),t.FeatureToggle=TradingView.FeatureToggle,t.isFeatureEnabled=TradingView.isFeatureEnabled,t.onFeaturesStateChanged=TradingView.FeatureToggle.onFeaturesStateChanged.bind(TradingView.FeatureToggle)},656130:(e,t,i)=>{"use strict";i.d(t,{generateChartUrl:()=>n});var s=i(314802);function n(e){const t=e.chartId?`/chart/${e.chartId}/`:"/chart/",i=new URL(t,location.href);return e.symbol&&i.searchParams.append("symbol",e.symbol),e.interval&&i.searchParams.append("interval",e.interval),e.style&&i.searchParams.append("style",e.style),(0,s.urlWithMobileAppParams)(i.href)}},251954:(e,t,i)=>{"use strict";i.r(t),i.d(t,{emit:()=>d,emitOnce:()=>h,on:()=>l,subscribe:()=>u,subscribeToAll:()=>c,unsubscribe:()=>a});var s=i(707957);const n={},r=[],o={};function a(e,t,i){n[e].unsubscribe(i,t)}function l(e,t,i){u(e,t,i)}function u(e,t,i,r){n.hasOwnProperty(e)||(n[e]=new s.Delegate),o[e]?t.call(i):n[e].subscribe(i,t,r)}function c(e){r.push(e)}function d(e,...t){const i=[e].concat(t);r.forEach((e=>{e.apply(null,i)})),n.hasOwnProperty(e)&&n[e].fire.apply(n[e],t)}function h(e){o[e]&&console.warn(`Something went wrong: emitOnce called multiple times with same event (${e})`),o[e]=!0,d.apply(null,arguments)}},588948:(e,t,i)=>{"use strict";i.d(t,{deleteField:()=>u,getFreshInitData:()=>l,getInitData:()=>a,updateInitData:()=>o});var s=i(650151);const n=(0,i(201089).getLogger)("Common.InitData"),r=window.initData||{};function o(){window.initData&&window.initData!==r&&(Object.assign(r,window.initData),window.initData=r);const e=document.querySelectorAll('script[type="application/prs.init-data+json"]');for(let t=0;t<e.length;t++){const i=e[t];try{const e=JSON.parse((0,s.ensureNotNull)(i.textContent));Object.assign(r,e)}catch(e){n.logWarn(`Failed to parse initData element. ${e}`)}finally{(0,s.ensureNotNull)(i.parentNode).removeChild(i)}}}function a(){return r}function l(){return o(),r}function u(e){delete r[e]}},49437:(e,t,i)=>{"use strict";const{getLogger:s}=i(201089),n=s("TVLocalStorage");var r=function(){try{this.isAvailable=!0,this.localStorage=window.localStorage,this.localStorage.setItem("tvlocalstorage.available","true")}catch(e){delete this.isAvailable,delete this.localStorage}this._updateLength();try{
this._report()}catch(e){}};r.prototype._report=function(){if(this.isAvailable){const e=10,t=[];for(let e=0;e<this.localStorage.length;e++){const i=this.key(e);t.push({key:i,length:String(this.getItem(i)).length})}t.sort(((e,t)=>t.length-e.length));const i=t.slice(0,e);t.sort(((e,t)=>t.key.length-e.key.length));const s=t.slice(0,e);n.logNormal(`Total amount of keys in Local Storage: ${this.length}`),n.logNormal(`Top ${e} keys with longest values: ${JSON.stringify(i)}`),n.logNormal(`Top ${e} longest key names: ${JSON.stringify(s)}`);try{navigator.storage.estimate().then((e=>{n.logNormal(`Storage estimate: ${JSON.stringify(e)}`)}))}catch(e){}}},r.prototype.length=0,r.prototype.isAvailable=!1,r.prototype.localStorage={"tvlocalstorage.available":"false"},r.prototype._updateLength=function(){if(this.isAvailable)this.length=this.localStorage.length;else{var e,t=0;for(e in this.localStorage)this.localStorage.hasOwnProperty(e)&&t++;this.length=t}},r.prototype.key=function(e){return this.isAvailable?this.localStorage.key(e):Object.keys(this.localStorage)[e]},r.prototype.getItem=function(e){return this.isAvailable?this.localStorage.getItem(e):void 0===this.localStorage[e]?null:this.localStorage[e]},r.prototype.setItem=function(e,t){this.isAvailable?this.localStorage.setItem(e,t):this.localStorage[e]=t,this._updateLength()},r.prototype.removeItem=function(e){this.isAvailable?this.localStorage.removeItem(e):delete this.localStorage[e],this._updateLength()},r.prototype.clear=function(){this.isAvailable?this.localStorage.clear():this.localStorage={},this._updateLength()};var o=function(e){this.storage=e};o.prototype.getItem=function(e){return Promise.resolve(this.storage.getItem(e))},o.prototype.setItem=function(e,t){return Promise.resolve(this.storage.setItem(e,t))},window.TVLocalStorage=new r,window.TVLocalStorageAsync=new o(window.TVLocalStorage),e.exports={TVLocalStorage:window.TVLocalStorage,TVLocalStorageAsync:window.TVLocalStorageAsync}},895370:(e,t,i)=>{"use strict";i.d(t,{addPerfMark:()=>u,perfMeasureOperation:()=>c});var s=i(541558);function n(){}const r=console.timeStamp?console.timeStamp.bind(console):n,o=window.performance&&performance.mark?performance.mark.bind(performance):n,a=window.performance&&performance.measure?performance.measure.bind(performance):n,l=window.performance&&performance.clearMarks?performance.clearMarks.bind(performance):n;function u(e){r(e),o(e)}async function c(e,t){const i=`measure-${e}-${(0,s.randomHash)()}`;o(i);try{return await t()}finally{a(e,i),l(i)}}},971417:(e,t,i)=>{"use strict";function s(e){return e===n(e)}function n(e){const t=e.indexOf("$"),i=e.indexOf("@");return t<0&&i>=0?null:e.substring(Math.max(t+1,0),i>=0?i:e.length)}function r(e){return e.startsWith("PUB;")}function o(e){return e.startsWith("USER;")}function a(e){return e.startsWith("STD;")}function l(e){return e.includes("Candlestick%1Pattern%1")}function u(e){return e.startsWith("EDGR_")}i.d(t,{extractPineId:()=>n,isCandleStickId:()=>l,isCustomPineId:()=>o,isEdgrPineId:()=>u,isPineIdString:()=>s,isPublishedPineId:()=>r,
isStandardPineId:()=>a})},520533:(e,t,i)=>{"use strict";function s(e){return"scriptTitle"in e&&"modified"in e}function n(e){return"userId"in e&&"scriptAccess"in e}function r(e){return"strategy"===e.kind}function o(e){return"library"===e.kind}i.d(t,{isPubPineInfo:()=>n,isSavedPineInfo:()=>s,isScriptLibrary:()=>o,isScriptStrategy:()=>r})},887357:(e,t,i)=>{"use strict";var s,n;i.d(t,{NewsItemPermission:()=>s,NewsWidgetPlacement:()=>n}),function(e){e.Headline="headline",e.Preview="preview",e.Link="link",e.Provider="provider"}(s||(s={})),function(e){e.WidgetBar="widgetbar",e.Main="main",e.Chart="chart"}(n||(n={}))},659863:(e,t,i)=>{"use strict";i.r(t),i.d(t,{qaGlobals:()=>s});const s=new class{constructor(e,t){this._test=e[t]={}}provide(e,t){this._test[e]=t}}(window,"qaGlobals")},175203:(e,t,i)=>{"use strict";i.d(t,{telemetry:()=>c});var s=i(707957),n=i(120780),r=i(638456),o=i(314802);i(659863);const a=(0,i(201089).getLogger)("Common.Telemetry"),l={default:15e3,site:3e5},u=["before_websocket_connection_time_frame","websocket_connection_time_frame","first_series_full_time_frame","page_full_load_time_frame","page_load_time_frame"];const c=new class{constructor(){this.reportSent=new s.Delegate,this.timeCounters={series:{marks:[]},study:{},pine:{}},this._timeoutIds={},this._commonAdditionalData={cluster:null,userId:"0"},this._reportStash={}}setSessionInfo(e){const t=this._parseCluster(e);null!==t&&(this._commonAdditionalData.cluster=t)}sendReport(e,t,i){var s;if(!this._isAbleToSendReport(t))return;const n=this._getSubserviceType(e),r=this._getHost(e,n);if(null!==r){if(i=void 0===i?{count:1}:i,this._addReportToStash(i,t,r),!this._timeoutIds[e]){const t=null!==(s=l[e])&&void 0!==s?s:l.default;this._timeoutIds[e]=setTimeout(this._sendTelemetryToService.bind(this,e,r),t)}}else a.logError(`Unable to get host for counter: ${t}, metric type: ${e}, serivce type: ${n}`)}sendChartReport(e,t,i=!0){this._sendServiceSpecifiedReport("charts",e,t,i)}sendLineToolsStorageReport(e,t,i=!0){this._sendServiceSpecifiedReport("line_tools_storage",e,t,i)}_sendServiceSpecifiedReport(e,t,i,s=!0){this._updateUserInfo(),i=void 0===i?{count:1}:i,s&&(i=this._appendCommonAdditionalInfo(i,["cluster","userId"])),this.sendReport(e,t,i)}_updateUserInfo(){const e="user"in window&&"id"in window.user?window.user.id:"0";this._commonAdditionalData.userId=String(e)}_isAbleToSendReport(e){const t=window.TELEMETRY_HOSTS,i=u.includes(e),s=Boolean(window.TradingView.onChartPage||(0,r.onWidget)());return t&&(!i||s)}_sendTelemetryToService(e,t){if(this._reportStash.hasOwnProperty(t)){const e=this._cropParams(this._reportStash[t]),i=this._renameAllParams(e),s={event:"report_stash",params:this._cleanAllParams(i)};a.logDebug(`Report to host: ${t}; stash: ${JSON.stringify(this._reportStash[t])}`),this.reportSent.fire(this._reportStash[t]),delete this._reportStash[t],(0,n.fetch)(`${t}/report`,{method:"POST",body:JSON.stringify(s)})}this._timeoutIds[e]=null}_getHost(e,t){const i=window.TELEMETRY_HOSTS,s=i[e]&&i[e][t];return Boolean(s)?s:null}_getSubserviceType(e){
if(!["charts","site"].includes(e))return"all";let t="free";const i=window.user.is_pro;return"charts"===e&&(0,o.isOnMobileAppPage)("old")?t=i?"ios_pro":"ios_free":"charts"===e&&(0,o.isOnMobileAppPage)("new")?t=i?"android_pro":"android_free":(0,r.onWidget)()?t="widget":i&&(t="pro"),t}_parseCluster(e){let t;try{t=JSON.parse(e).session_id}catch(e){return a.logError("Could not parse cluster id (session id)"),null}const i=/(.*@)(.*)/gi.exec(t);return null!==i&&i.length>=3?i[2]:null}_appendCommonAdditionalInfo(e,t){return t.forEach((t=>{t in this._commonAdditionalData&&(e.additional=e.additional||{},e.additional[t]=this._commonAdditionalData[t])})),e}_cropParams(e){var t;for(const i in e)e.hasOwnProperty(i)&&e[i].length>1e3&&(e.too_much_metrics_frame=null!==(t=e.too_much_metrics_frame)&&void 0!==t?t:[],e.too_much_metrics_frame.push({value:e[i].length,additional:{event:i}}),delete e[i]);return e}_renameAllParams(e){const t={};for(const i in e)e.hasOwnProperty(i)&&(t[i]=[],e[i].forEach((e=>{t[i].push(this._renameEntryParams(e))})));return t}_renameEntryParams(e){const t={count:"c",value:"v",text:"t",additional:"a"};return Object.keys(e).reduce(((i,s)=>(i[t[s]]=e[s],i)),{})}_cleanAllParams(e){const t={};for(const i in e)if(e.hasOwnProperty(i)){t[i]=[];const s={c:0};e[i].forEach((e=>{const n=this._cleanEntryParams(e),r=Object.keys(n).length;1===r&&void 0!==n.c?s.c+=n.c:r>0&&t[i].push(n)})),s.c>0&&t[i].push(s),0===t[i].length&&delete t[i]}return t}_cleanEntryParams(e){const t=Object.keys(e).reduce(((t,i)=>"c"!==i&&"t"!==i||e[i]?(t[i]=e[i],t):t),{});return"c"in t||"v"in t||"t"in t?t:{}}_addReportToStash(e,t,i){i in this._reportStash||(this._reportStash[i]={}),t in this._reportStash[i]||(this._reportStash[i][t]=[]),Object.keys(e).length>0&&this._reportStash[i][t].push(e)}}},345848:(e,t,i)=>{"use strict";i.d(t,{trackEvent:()=>l});var s=i(251954),n=i(244842);const r=(0,i(201089).getLogger)("Common.TrackEvent"),o=[/Study_(Drawing)_(.*)/,/(Study)_(.*)@tv-basicstudies/,/(Study)_(.*)/,/(Chart Style) (.*)/];let a=!1;const l=(e,t,i)=>{if(a)return;if(n.enabled("charting_library_base"))return void((e,t,i)=>{t=t||e||i||"";let n="";for(let e=0;e<o.length;e++){const i=t.match(o[e]);if(i&&3===i.length){t=i[1],n=i[2];break}}(0,s.emit)(t.toLowerCase().replace(" ","_"),{category:e,label:i,value:n})})(e,t,i);let l=(e?e+":":"")+t;i&&(l+=" "+i),r.logNormal(l),n.enabled("widget")||!window._UNIT_TESTS&&window.gtag&&window.gtag("event",t,{event_category:e,event_label:i})};"undefined"!=typeof window&&(window.TradingView=window.TradingView||{},window.TradingView.trackEvent=l)},600225:(e,t,i)=>{"use strict";i.d(t,{IndicatorsPreloader:()=>g});var s=i(516684),n=i(604061),r=i(251687),o=i(777754),a=i(304328),l=i(650151);async function u(){const[e,t]=await Promise.all([(0,s.requestFundamentalScripts)(),(0,a.getFinancialsData)()]),i=function(e,t){const i={};e.forEach((e=>{const t=(0,a.getIdWithoutPeriod)(e.id);t&&!i[t]&&(i[t]={...e,nestingLevel:-1,idWithoutPeriod:t,parentIdWithoutPeriod:(0,a.getIdWithoutPeriod)(e.parent),periodData:[],shortTitle:""})})),
t.forEach((e=>{if(!e.extra.fund_id)return;const t=(0,a.getIdWithoutPeriod)(e.extra.fund_id),s=i[(0,l.ensureDefined)(t)];if(!s)return;const n={period:e.extra.financialPeriod,scriptIdPart:e.scriptIdPart,scriptName:e.scriptName,version:e.version};s.shortTitle=e.extra.shortDescription,s.tags=e.extra.tags,s.periodData.push(n)}));const s=Object.values(i),n=(e,t)=>e.period&&t.period?e.period.localeCompare(t.period):0;return s.forEach((e=>{e.periodData.length>1&&e.periodData.sort(n)})),s}((0,a.filterHiddenItems)(t),e),n=function(e){const t=[...e].map((e=>{var t;if(null===(t=e.children)||void 0===t?void 0:t.length){const t=(0,a.flattenTree)(e.children);return{...e,children:t}}return e}));return(0,a.splitByCategory)(t)}(function(e){const t=(0,a.toTree)(e);return(0,a.sortByOrdinal)(t)}(i));return function(e){const t={};return Object.keys(e).forEach((i=>{const s=[];e[i].forEach((e=>{const t=c([e])[0];if(t)if(t.children){const e=c(t.children).map((e=>d(e,!0)));s.push(d(t),...e)}else s.push(d(t))})),t[i]=s})),t}(n)}function c(e){const t=e.filter((e=>void 0===e.indicatorVisible||e.indicatorVisible));return t.filter((e=>e.periodData.length>0))}function d(e,t=!1){const{id:s,name:n,shortTitle:r,idWithoutPeriod:a,periodData:l,tags:u}=e;return{id:s,shortTitle:r,periodData:l,tags:u,name:o.t(n,{context:"study"},i(168716)),solutionId:_(a),isNested:t}}const h=i(384898);function _(e){return h[e]}var p=i(867778);class g{constructor(e){this._chartWidgetCollection=e}getIndicatorPromises(){var e,t,i,o,a,l,c,d,h;const _=(null===(e=this._initIndicatorsPromises)||void 0===e?void 0:e.javaStudiesPromise)||(0,n.requestBuiltInJavaStudies)(this._chartWidgetCollection),p=(null===(t=this._initIndicatorsPromises)||void 0===t?void 0:t.standardScriptsPromise)||(0,s.requestBuiltinScripts)(),g=(null===(i=this._initIndicatorsPromises)||void 0===i?void 0:i.candlestickScriptsPromise)||(0,s.requestCandlestickScripts)(),m=(null===(o=this._initIndicatorsPromises)||void 0===o?void 0:o.publicPineStudiesPromise)||(0,n.fetchPublicPineStudies)((0,n.createPublicStudiesRequestParams)("top")),f=(null===(a=this._initIndicatorsPromises)||void 0===a?void 0:a.trendingStudiesPromise)||(0,n.fetchPublicPineStudies)((0,n.createPublicStudiesRequestParams)("trending")),y=(null===(l=this._initIndicatorsPromises)||void 0===l?void 0:l.editorsPicksStudiesPromise)||(0,n.fetchEditorsPicksStudies)(),v=null===(c=this._initIndicatorsPromises)||void 0===c?void 0:c.addonsPromise,b=(null===(d=this._initIndicatorsPromises)||void 0===d?void 0:d.pinePermissionsPromise)||r.PinePerm.listScripts(),S=(null===(h=this._initIndicatorsPromises)||void 0===h?void 0:h.financialsPromise)||u(),w=this._getInviteOnlyScriptsPromise(b),T=(0,s.requestUserScripts)();return this._initIndicatorsPromises={javaStudiesPromise:_,userScriptsPromise:T,standardScriptsPromise:p,candlestickScriptsPromise:g,publicPineStudiesPromise:m,trendingStudiesPromise:f,addonsPromise:v,pinePermissionsPromise:b,editorsPicksStudiesPromise:y,financialsPromise:S,inviteOnlyScriptsPromise:w},this._initIndicatorsPromises}
async _getInviteOnlyScriptsPromise(e){try{const t=await e;return t?function(e){if(!e||!e.done)return e;const t=e;return new Promise(((e,i)=>{t.done((t=>{e(t)})).fail((e=>{i(e)}))}))}((0,p.info)(t)):Promise.resolve([])}catch(e){return Promise.resolve([])}}}},604061:(e,t,i)=>{"use strict";i.d(t,{createPublicStudiesRequestParams:()=>a,fetchEditorsPicksStudies:()=>r,fetchLoadMorePublicStudies:()=>o,fetchPublicPineStudies:()=>n,requestBuiltInJavaStudies:()=>l});var s=i(120780);async function n(e){return(await(0,s.fetch)(`/pubscripts-library/?${e}`)).json()}async function r(){return(await(0,s.fetch)("/pubscripts-library/editors-picks/")).json()}async function o(e){return(await(0,s.fetch)(e)).json()}function a(e){const t={offset:0,count:20,type:0,sort:e};return new URLSearchParams(Object.entries(t)).toString()}function l(e){return e.activeChartWidget.value().metaInfoRepository().findAllJavaStudies()}},261309:(e,t,i)=>{"use strict";i.d(t,{SYMBOL_LIST_REPOSITORY_BACKEND_SERVICE:()=>s});const s={id:"SymbolListRepositoryBackend"}},986738:(e,t,i)=>{"use strict";i.d(t,{ChartSession:()=>o});var s=i(707957),n=i(558603),r=i(389137);class o extends n.Session{constructor(e,t=!1){super(e,"cs",!1),this._sessionDisabled=!1,this._handler=null,this._criticalError=new s.Delegate,this._symbolResolveMap=new Map,this._disableStatistics=t}destroy(){this._criticalError.destroy(),this._handler=null,this._symbolResolveMap.clear(),super.destroy()}serverTimeOffset(){return this._getChartApi().serverTimeOffset()}switchTimezone(e){return this._getChartApi().switchTimezone(this.sessionId(),e)}defaultResolutions(){return this._getChartApi().defaultResolutions()}availableCurrencies(){return this._getChartApi().availableCurrencies()}availableUnits(){return this._getChartApi().availableUnits()}availablePriceSources(e){return this._getChartApi().availablePriceSources(e)}resolveSymbol(e,t,i){if(this._symbolResolveMap.has(t)){const[e,s]=this._symbolResolveMap.get(t);return Array.isArray(s)?s.push(i):s.then(i),e}{const s=[i];return this._getChartApi().resolveSymbol(this.sessionId(),e,t,(i=>{"symbol_error"===i.method?this._symbolResolveMap.delete(t):this._symbolResolveMap.set(t,[e,Promise.resolve(i)]),s.forEach((e=>e(i)))})),this._symbolResolveMap.set(t,[e,s]),e}}requestFirstBarTime(e,t,i){return this._getChartApi().requestFirstBarTime(this.sessionId(),e,t,i)}createSeries(e,t,i,s,n,r,o){return this._getChartApi().createSeries(this.sessionId(),e,t,i,s,n,r,o)}modifySeries(e,t,i,s,n,r){return this._getChartApi().modifySeries(this.sessionId(),e,t,i,s,n,r)}removeSeries(e){return!!this.isConnected().value()&&this._getChartApi().removeSeries(this.sessionId(),e)}requestMoreData(e,t,i){return"number"==typeof e?this._getChartApi().requestMoreData(this.sessionId(),e):this._getChartApi().requestMoreData(this.sessionId(),e,t,i)}requestMoreTickmarks(e,t,i){return(0,r.isNumber)(e)?this._getChartApi().requestMoreTickmarks(this.sessionId(),e):this._getChartApi().requestMoreTickmarks(this.sessionId(),e,t,i)}requestMetadata(e,t){
this._getChartApi().requestMetadata(this.sessionId(),e,t)}canCreateStudy(e){return this._getChartApi().canCreateStudy(e)}getStudyCounter(){return this._getChartApi().getStudyCounter()}createStudy(e,t,i,s,n,r,o){return this._getChartApi().createStudy(this.sessionId(),e,t,i,s,n,r,o)}rebindStudy(e,t,i,s,n,r,o){return this._getChartApi().rebindStudy(this.sessionId(),e,t,i,s,n,r,o)}modifyStudy(e,t,i,s,n){return this._getChartApi().modifyStudy(this.sessionId(),e,t,i,s,n)}removeStudy(e,t){return this._getChartApi().removeStudy(this.sessionId(),e,t)}createPointset(e,t,i,s,n,r){return this._getChartApi().createPointset(this.sessionId(),e,t,i,s,n,r)}modifyPointset(e,t,i,s){return this._getChartApi().modifyPointset(this.sessionId(),e,t,i,s)}removePointset(e){return this._getChartApi().removePointset(this.sessionId(),e)}setVisibleTimeRange(e,t,i,s,n,r){0}criticalError(){return this._criticalError}connect(e=null){null!==e&&(this._handler=e),this._symbolResolveMap.clear(),super.connect()}setHandler(e){this._handler=e}connected(){return this.isConnected().value()&&!this._sessionDisabled}disable(){this._sessionDisabled=!0}chartApi(){return this._getChartApi()}_sendCreateSession(){Object.keys(this).forEach((e=>{/^(s|st|symbol_)\d+$/.test(e)&&delete this[e]})),this._getChartApi().chartCreateSession(this.sessionId(),this._disableStatistics)}_sendRemoveSession(){this._getChartApi().chartDeleteSession(this.sessionId())}_onMessage(e){this._handler&&this._handler(e)}_onCriticalError(e,t){this._criticalError.fire(e,t),super._onCriticalError(e,t)}}},578988:(e,t,i)=>{"use strict";i.d(t,{backend:()=>O});var s={};i.r(s),i.d(s,{getCharts:()=>_,getChartsCount:()=>p,getDrawingTemplates:()=>D,getStandardStudyTemplateContentById:()=>P,getStudyTemplateContent:()=>w,getStudyTemplateContentById:()=>C,getStudyTemplatesList:()=>v,invalidateStudyTemplatesList:()=>b,loadChart:()=>g,loadDrawingTemplate:()=>A,removeChart:()=>f,removeDrawingTemplate:()=>L,removeStudyTemplate:()=>T,removeStudyTemplateById:()=>I,renameStudyTemplate:()=>k,replaceStudyTemplate:()=>E,saveChart:()=>m,saveDrawingTemplate:()=>x,saveStudyTemplate:()=>S});i(823127);var n=i(656130),r=i(930003);const o=(0,i(201089).getLogger)("Lib.AsyncGzip"),a=[];var l=i(120780);function u(e){if(e.ok)return e.json();throw new Error("not ok")}function c(e){if(e.ok)return e.json();throw new Error("not ok")}var d=i(314802),h=i(823127);function _(e){return new Promise(((t,i)=>{h.getJSON("/my-charts/",{limit:e},t).fail(i)}))}function p(e,t){h.getJSON("/api/v1/charts/count/",void 0,e).fail(t)}function g(e){const t=(0,n.generateChartUrl)({chartId:e.url}),i=document.createElement("a");i.href=t,!(0,d.isOnMobileAppPage)("new")&&/^\/chart(\/|$)/.test(location.pathname)&&(i.target="_blank",i.rel="noopener"),i.click()}function m(e,t,s,n,l){return function(e){let t;const s=new Promise(((s,n)=>{let o=setTimeout(n,5e3,new Error("Loading timed out"));t=a.pop()||new r.Worker(new URL(i.p+i.u(31482),i.b),{name:"Async gzip worker"}),t.onerror=n,t.onmessageerror=n,t.onmessage=e=>{clearTimeout(o),
"done"===e.data.type?s(e.data.payload):o=setTimeout(n,3e4,new Error("Processing timed out"))},t.postMessage({type:"do",payload:e})}));return s.then((()=>{a.length<1?(delete t.onerror,delete t.onmessage,delete t.onmessageerror,a.push(t)):t.terminate()}),(e=>{o.logError(`Worker request failed: ${e.message}`),t.terminate()})),s}(n.content).catch((()=>null)).then((e=>{const t=new FormData;for(const i in n)"content"===i&&e?t.append(i,new Blob([e],{type:"application/gzip"}),"blob.gz"):t.append(i,String(n[i]));return fetch("/savechart/",{method:"POST",credentials:"same-origin",body:t})})).then((e=>{if(!e.ok)throw e;return e.text()}))}function f(e){return fetch("/api/v1/charts/delete/",{method:"POST",credentials:"same-origin",body:JSON.stringify({uid:[e]}),headers:new Headers({"Content-Type":"application/json"})}).then((e=>{if(!e.ok)throw e;return e.json()})).then((e=>{if(e.error)throw e.error}))}let y=null;function v(){return null===y&&(y=(0,l.fetch)("/api/v1/study-templates",{credentials:"same-origin"}).then(u).then((e=>{const t=new Set((e.standard||[]).map((e=>e.name))),i=(e.custom||[]).map((e=>({...e,is_default:!1})));for(const e of i)t.delete(e.name);const s=(e.standard||[]).filter((e=>t.has(e.name))).map((e=>({...e,is_default:!0})));return[...i,...s]}))),y}function b(){y=null}function S(e){return t={name:e.name,content:e.content,meta_info:e.meta_info||{indicators:[]}},(0,l.fetch)("/api/v1/study-templates",{credentials:"same-origin",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>{if(e.ok)return e.json().then((e=>({result:e})));switch(e.status){case 403:return e.json().then((e=>({error:e.code})));case 422:return e.json().then((e=>({error:e.code,id:e.id})));default:throw new Error("not ok")}}));var t}async function w(e){throw new Error("Not implemented")}async function T(e){throw new Error("Not implemented")}function C(e,t){(function(e){return(0,l.fetch)(`/api/v1/study-templates/${e}`,{credentials:"same-origin"}).then(u)})(e).then(t)}function P(e,t){(function(e){return(0,l.fetch)(`/api/v1/study-templates/standard/${e}`,{credentials:"same-origin"}).then(u)})(e).then(t)}function I(e,t){(function(e){return(0,l.fetch)(`/api/v1/study-templates/${e}`,{credentials:"same-origin",method:"DELETE"}).then((e=>{if(!e.ok)throw new Error("not ok")}))})(e).then(t)}function k(e,t,i){(function(e,t){return(0,l.fetch)(`/api/v1/study-templates/${e}/rename/`,{credentials:"same-origin",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(u)})(e,{name:t}).then(i)}function E(e,t,i){(function(e,t){return(0,l.fetch)(`/api/v1/study-templates/${e}`,{credentials:"same-origin",method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(u)})(e,{name:t.name,content:t.content,meta_info:t.meta_info||{indicators:[]}}).then(i)}function D(e){return function(e){return(0,l.fetch)(`/drawing-templates/${e}/`,{credentials:"same-origin"}).then(c)}(e)}function x(e,t,i){return function(e,t,i){const s=new FormData;return s.append("name",t),s.append("tool",e),
s.append("content",i),(0,l.fetch)("/save-drawing-template/",{method:"POST",credentials:"same-origin",body:s}).then(c)}(e,t,i)}function A(e,t){return async function(e,t){const i=await(0,l.fetch)(`/drawing-template/${e}/?templateName=${encodeURIComponent(t)}`,{credentials:"same-origin"}),s=await c(i);return JSON.parse(s.content)}(e,t)}function L(e,t){return function(e,t){const i=new FormData;return i.append("name",t),i.append("tool",e),(0,l.fetch)("/remove-drawing-template/",{method:"POST",credentials:"same-origin",body:i}).then(c)}(e,t)}const O=s},988124:(e,t,i)=>{"use strict";var s=i(414879),n=i(783433).tzData;let r;function o(e){this._name=e;var t=n[e];if(t||(t={time:[],offset:[]},this._invalid=!0),t.time.length!==t.offset.length&&(t={time:[],offset:[]},this._invalid=!0),!t.time_utc){for(var i=t.time,s=t.offset,r=i.length,o=new Array(r),a=0;a<r;a++)i[a]*=1e3,s[a]*=1e3,o[a]=i[a]-s[a];t.time_utc=o}this.tz=t}function a(e,t){var i=e.length;if(0===i)return-1;if(isNaN(t))throw Error("Key is NaN");for(var s=0,n=i-1,r=l((s+n)/2);;){if(e[r]>t){if((n=r-1)<s)return r}else if(n<(s=r+1))return r<i-1?r+1:-1;r=l((s+n)/2)}}o.prototype.offset_utc=function(e){return o._offset(this.tz.time_utc,this.tz.offset,e)},o.prototype.offset_loc=function(e){return o._offset(this.tz.time,this.tz.offset,e)},o.prototype.name=function(){return this._name},o.prototype.correction_loc=function(e){var t=this.tz.time,i=this.tz.offset,s=a(t,e);if(s<1)return 0;var n=i[s]-i[s-1];if(n>0&&e-t[s-1]<=n)return n;return 0},o.prototype.is_valid=function(){return!this._invalid},o._offset=function(e,t,i){var s=a(e,i);return-1===s?0:t[s]};var l=function(e){return 0|e},u=function(e){return 60*e*1e3},c=function(e,t){return d(e)-d(t)},d=function(e){return e<0?l(e/1e3)-(e%1e3!=0?1:0):l(e/1e3)};function h(e){return e%4==0&&(e%100!=0||e%400==0)}var _={0:0,1:31,2:59,3:90,4:120,5:151,6:181,7:212,8:243,9:273,10:304,11:334},p={...s.WeekDays,...s.Months,YEAR:1,MONTH:2,WEEK_OF_YEAR:3,DAY_OF_MONTH:5,DAY_OF_YEAR:6,DAY_OF_WEEK:7,HOUR_OF_DAY:11,MINUTE:12,SECOND:13,minutesPerDay:1440,millisecondsPerDay:u(1440),get_minutes_from_hhmm:function(e){return-1!==e.indexOf(":")&&(e=e.split(":").join("")),e%100+60*l(e/100)},get_year:function(e){return e.getUTCFullYear()},get_month:function(e){return e.getUTCMonth()},get_hours:function(e){return e.getUTCHours()},get_minutes:function(e){return e.getUTCMinutes()},get_seconds:function(e){return e.getUTCSeconds()},get_day_of_month:function(e){return e.getUTCDate()},get_day_of_week:function(e){return e.getUTCDay()+1},get_day_of_year:function(e){var t=e.getUTCMonth(),i=_[t];return t>p.JANUARY+1&&h(e.getUTCFullYear())&&(i+=1),i+e.getUTCDate()},get_week_of_year:function(e){var t=new Date(Date.UTC(e.getUTCFullYear(),0,1)).getUTCDay(),i=0===t?1:8-t,s=p.get_day_of_year(e)-i;return Math.ceil(s/7)+1},get_minutes_from_midnight:function(e){return 60*p.get_hours(e)+p.get_minutes(e)},set_hms:function(e,t,i,s,n,r){e.setUTCHours(t),e.setUTCMinutes(i),e.setUTCSeconds(s),e.setUTCMilliseconds(n),void 0!==r&&p.correct_time(e,r)},correct_time:function(e,t){
var i=e.getTime(),s=t.correction_loc(i);e.setTime(i+s)},add_days_considering_dst:function(e,t,i){var s=e.offset_utc(t),n=this.clone(t);this.add_date(n,i);var r=e.offset_utc(n);return n.setTime(n.getTime()+s-r),n},add_years_considering_dst:function(e,t,i){let s=t;for(let t=Math.abs(i);t>0;t--)s=this.add_days_considering_dst(e,s,this.get_days_per_year(s)*Math.sign(i));return s},add_date:function(e,t){e.setTime(e.getTime()+t*p.millisecondsPerDay)},add_minutes:function(e,t){e.setTime(e.getTime()+u(t))},clone:function(e){return new Date(e.getTime())},get_days_per_year:function(e){var t=e.getUTCFullYear();return this.days_per_year(t)},days_per_year:function(e){return h(e)?366:365},get_days_in_month:function(e,t){let i;switch(e){case 0:case 2:case 4:case 6:case 7:case 9:case 11:i=31;break;case 1:i=28,h(t)&&i++;break;default:i=30}return i},get_part:function(e,t){switch(t){case p.YEAR:return p.get_year(e);case p.MONTH:return p.get_month(e);case p.DAY_OF_MONTH:return p.get_day_of_month(e);case p.WEEK_OF_YEAR:return p.get_week_of_year(e);case p.DAY_OF_WEEK:return p.get_day_of_week(e);case p.HOUR_OF_DAY:return p.get_hours(e);case p.MINUTE:return p.get_minutes(e);case p.DAY_OF_YEAR:return p.get_day_of_year(e);case p.SECOND:return p.get_seconds(e);default:return e.getTime()}},time_minutes:u,time_seconds:function(e){return 1e3*e},time_minutes_diff:function(e,t){return l(c(e,t)/60)},time_seconds_diff:c,utc_to_cal:function(e,t){return new Date(p.utc_to_cal_ts(e,t))},utc_to_cal_ts:function(e,t){return t+e.offset_utc(t)},get_cal:function(e,t,i,s,n,r,o){var a=new Date(Date.UTC(t,i,s,n||0,r||0,o||0)),l=e.offset_utc(+a);return new Date(a.valueOf()-l)},get_cal_from_unix_timestamp_ms:function(e,t){return new Date(t+e.offset_utc(t))},get_cal_utc:function(e,t,i){return new Date(Date.UTC(e,t,i))},cal_to_utc:function(e,t){var i=t.getTime();return i-e.offset_loc(i)},get_timezone:function(e){return new o(e)},shift_day:function(e,t){var i=e-1;return(i+=t)>6?i%=7:i<0&&(i=(7+i%7)%7),i+1},setCustomTimezones:function(e){r=e}};e.exports=p},678515:(e,t,i)=>{"use strict";function s(e,t){return e<=t}function n(e,t){return e>=t}function r(e,t,i){return Math.min(Math.max(e,t),i)}function o(e){return e<0?-1:e>0?1:0}function a(e){if(e<0)return!1;if(e>1e18)return!0;for(let t=e;t>1;t/=10)if(t%10!=0)return!1;return!0}function l(e,t,i){return t-e<=i}function u(e,t,i){return Math.abs(e-t)<i}function c(e){return e<=0?NaN:Math.log(e)/Math.log(10)}function d(e,t){return e<t?-1:e>t?1:0}function h(e,t=d){if(e.length<1)throw Error("array is empty");let i=e[0];for(let s=0;s<e.length;++s)t(e[s],i)<0&&(i=e[s]);return i}function _(e,t=d){if(e.length<1)throw Error("array is empty");let i=e[0];for(let s=0;s<e.length;++s)t(e[s],i)>0&&(i=e[s]);return i}function p(e){const t=Math.ceil(e);return t%2!=0?t-1:t}function g(e){return e>0?Math.floor(e):Math.ceil(e)}i.r(t),i.d(t,{ceiledEven:()=>p,clamp:()=>r,defComparator:()=>d,equal:()=>u,greaterOrEqual:()=>l,greaterThan:()=>n,isBaseDecimal:()=>a,lessThan:()=>s,log10:()=>c,max:()=>_,min:()=>h,sign:()=>o,toInt:()=>g})},618820:(e,t,i)=>{
"use strict";i.d(t,{isDrawingToolbarVisible:()=>l});var s=i(62802),n=i(244842),r=i(401580);const o=!n.enabled("hide_left_toolbar_by_default"),a=s.getBool("ChartDrawingToolbarWidget.visible",o),l=new r.WatchedValue(a)},373571:(e,t,i)=>{"use strict";i.r(t),i.d(t,{Action:()=>a,ActionAsync:()=>l,Loader:()=>c,Separator:()=>u});var s=i(650151),n=i(707957),r=i(470316),o=i(541558);class a{constructor(e,t=o.guid()){this.type="action",this._destroyed=!1,this._binding=null,(0,s.assert)(void 0!==e.actionId,"actionId must be defined"),this.id=t,this._onUpdate=new n.Delegate,this._options=e,this.update(e)}execute(){this._options.checkable&&this.update({checked:!this._options.checked}),this._options.onExecute&&this._options.onExecute(this)}getLabel(){return this._options.label||""}getSubItems(){return this._options.subItems||[]}isDisabled(){return!0===this._options.disabled}isActive(){return!0===this._options.active}isCheckable(){return!0===this._options.checkable}isChecked(){return!0===this._options.checked}isLoading(){return!0===this._options.loading}getSize(){var e;return null!==(e=this._options.size)&&void 0!==e?e:"normal"}getPayload(){return this._options.payload}update(e){this._destroyed||(this._unbindShortcut(),e.hotkeyHash&&(this._options.shortcutHint=(0,r.humanReadableHash)(e.hotkeyHash)),this._options=Object.assign(this._options,e),this._bindShortcut(),this._onUpdate.fire(this))}onUpdate(){return this._onUpdate}getState(){return{actionId:this._options.actionId,label:this.getLabel(),disabled:this.isDisabled(),active:this.isActive(),subItems:this.getSubItems(),checkable:this.isCheckable(),checked:this.isChecked(),loading:this.isLoading(),size:this.getSize(),doNotCloseOnClick:this._options.doNotCloseOnClick||!1,shortcutHint:this._options.shortcutHint,hint:this._options.hint,icon:this._options.icon,iconChecked:this._options.iconChecked,toolbox:this._options.toolbox,showToolboxOnHover:this._options.showToolboxOnHover||!1,statName:this._options.statName,name:this._options.name,invisibleHotkey:this._options.invisibleHotkey,noInteractive:this._options.noInteractive}}getBinding(){return this._binding}setBinding(e){this._binding=e}destroy(){var e,t;this._destroyed=!0,this._onUpdate.destroy(),null!==this._binding&&this._binding.destroy(),this._unbindShortcut(),null===(t=(e=this._options).onDestroy)||void 0===t||t.call(e)}options(){return this._options}_bindShortcut(){if(!this._options.hotkeyGroup||!this._options.hotkeyHash)return;const e="string"==typeof this._options.label?this._options.label:this._options.name;this._hotkeyAction=this._options.hotkeyGroup.add({hotkey:this._options.hotkeyHash,desc:e,handler:()=>this.execute(),isDisabled:()=>this.isDisabled()})}_unbindShortcut(){this._hotkeyAction&&(this._hotkeyAction.destroy(),delete this._hotkeyAction)}}class l extends a{constructor(e,t,i){super({actionId:e},i),this._loader=t,this._loaded=!1}loadOptions(){return this._loadingPromise||(this._loadingPromise=this._loader().then((e=>{this._loaded=!0,this.update(e)}))),this._loadingPromise}getState(){return this.loadOptions(),
super.getState()}isLoading(){return!this.isLoaded()}isLoaded(){return this._loaded}}class u{constructor(e){this.type="separator",this.id=o.guid(),this._hint=e}getHint(){return this._hint}}class c extends a{constructor(e){super({actionId:e})}isLoading(){return!0}getSize(){return"big"}}},199471:(e,t,i)=>{"use strict";i.d(t,{addExclusionArea:()=>w,addExclusionAreaByScope:()=>S,calcTextHorizontalShift:()=>v,clearRect:()=>_,createBoundCanvas:()=>y,createDisconnectedBoundCanvas:()=>m,createDisconnectedCanvas:()=>g,disableSelection:()=>b,drawScaled:()=>p,fillRect:()=>h,getBindingPixelRatio:()=>l,getContext2D:()=>u,getPrescaledContext2D:()=>c,getPretransformedContext2D:()=>d,measureText:()=>C});var s=i(327714),n=i(650151),r=i(109154),o=i(31341),a=i(638456);function l(e){return(0,r.getCanvasDevicePixelRatio)(e.canvasElement)}function u(e){const t=(0,n.ensureNotNull)(e.getContext("2d"));return t.setTransform(1,0,0,1,0,0),t}function c(e){const t=(0,n.ensureNotNull)(e.getContext("2d")),i=(0,r.getCanvasDevicePixelRatio)(e);return t.setTransform(i,0,0,i,0,0),t}function d(e,t){const i=(0,n.ensureNotNull)(e.canvasElement.getContext("2d")),s=l(e);return i.setTransform(s,0,0,s,0,0),t||i.translate(.5,.5),i}function h(e,t,i,s,n,r){e.save(),e.translate(-.5,-.5),e.fillStyle=r,e.fillRect(t,i,s,n),e.restore()}function _(e,t,i,s,n,r){e.save(),e.translate(-.5,-.5),e.globalCompositeOperation="copy",e.fillStyle=r,e.fillRect(t,i,s,n),e.restore()}function p(e,t,i,s){e.save(),e.scale(t,i),s(),e.restore()}function g(e,t,i){const s=f(e);return void 0===i&&(i=(0,r.getCanvasDevicePixelRatio)(s)),s.width=t.width*i,s.height=t.height*i,s}function m(e,t){const i=f(e),n=(0,s.bindCanvasElementBitmapSizeTo)(i,{type:"device-pixel-content-box",transform:(e,t)=>({width:Math.max(e.width,t.width),height:Math.max(e.height,t.height)})});return n.resizeCanvasElement(t),n}function f(e){const t=e.createElement("canvas");return b(t),t}function y(e,t){const i=f((0,n.ensureNotNull)(e.ownerDocument));e.appendChild(i);const r=(0,s.bindCanvasElementBitmapSizeTo)(i,{type:"device-pixel-content-box",transform:(e,t)=>({width:Math.max(e.width,t.width),height:Math.max(e.height,t.height)})});return r.resizeCanvasElement(t),r}function v(e,t){return"center"===e.textAlign?0:(0,o.isRtl)()?"start"===e.textAlign||"right"===e.textAlign?t:0:"start"===e.textAlign||"left"===e.textAlign?0:t}function b(e){e.style.userSelect="none",e.style.webkitUserSelect="none",e.style.msUserSelect="none",e.style.MozUserSelect="none",e.style.webkitTapHighlightColor="transparent"}function S(e,t){const{context:i,horizontalPixelRatio:s,verticalPixelRatio:n,bitmapSize:r}=e;i.beginPath(),i.rect(0,0,r.width,r.height);for(let e=0;e<t.length;e++){let{x:r,y:o}=t[e];r*=s,o*=n,0!==e?i.lineTo(r,o):i.moveTo(r,o)}i.closePath(),i.clip("evenodd")}function w(e,t,i){S({context:e,horizontalPixelRatio:t.pixelRatio,verticalPixelRatio:t.pixelRatio,bitmapSize:(0,s.size)({width:t.physicalWidth,height:t.physicalHeight}),mediaSize:(0,s.size)({width:t.cssWidth,height:t.cssHeight})},i)}let T;function C(e,t){return T||function(){
const e=document.createElement("canvas");e.width=0,e.height=0,(0,a.isMac)()&&(e.style.display="none",document.body.append(e)),T=(0,n.ensureNotNull)(e.getContext("2d")),T.textBaseline="alphabetic",T.textAlign="center"}(),T.font=t,T.measureText(e)}},708706:(e,t,i)=>{"use strict";i.d(t,{ChartChangesWatcher:()=>r,changedAll:()=>n});var s=i(707957);const n=3;class r{constructor(e,t,i){this._undoHistoryHasChanges=!1,this._changesMask=0,this._recursiveLoopingGuard=!1,this._handleMetainfoChanged=()=>{this._changesMask=1|this._changesMask},this._recalculateHaveChanges=(e,t)=>{if(!this._recursiveLoopingGuard)try{this._recursiveLoopingGuard=!0;const e=this._undoHistoryHasChanges?1:0;let i=this._lineToolsHaveChanges.value()?2:0;const s=this._changesMask;this._changesMask=e|i,s!==this._changesMask&&(this._changesMask&&(this._chartWidgetCollection.getAll().forEach((e=>{var i;null===(i=e.lineToolsSynchronizer())||void 0===i||i.markAsValidatedBecauseOfSavingToContent(!!t)})),i=this._lineToolsHaveChanges.value()?2:0,this._changesMask=e|i),this._onValueChanged.fire(0!==this._changesMask))}finally{this._recursiveLoopingGuard=!1}},this._chartWidgetCollection=e,this._undoHistory=e.undoHistory,this._lineToolsHaveChanges=e.lineToolsSynchronizerHasChanges,this._chartSaver=t,this._globalEvents=i,this._onValueChanged=new s.Delegate,this._subscribe()}destroy(){this._unsubscribe(),this._onValueChanged.destroy()}changes(){return this._changesMask}hasChanges(){return this._changesMask>0}getOnChange(){return this._onValueChanged}_subscribe(){this._globalEvents.subscribe("chart_loaded",this._handleChartLoaded,this),this._globalEvents.subscribe("chart_migrated",this._handleChartMigrated,this),this._undoHistory.undoStack().onChange().subscribe(this,this._handleUndoHistoryChange),this._chartSaver.chartSaved().subscribe(this,this._handleChartSaved),this._lineToolsHaveChanges.subscribe(this._recalculateHaveChanges);this._chartWidgetCollection.metaInfo.name.subscribe(this._handleMetainfoChanged)}_unsubscribe(){this._globalEvents.unsubscribe("chart_loaded",this._handleChartLoaded,this),this._globalEvents.unsubscribe("chart_migrated",this._handleChartMigrated,this),this._undoHistory.undoStack().onChange().unsubscribe(this,this._handleUndoHistoryChange),this._chartSaver.chartSaved().unsubscribe(this,this._handleChartSaved),this._lineToolsHaveChanges.unsubscribe(this._recalculateHaveChanges);this._chartWidgetCollection.metaInfo.name.unsubscribe(this._handleMetainfoChanged)}_setUndoHistoryHasChanges(e,t){this._undoHistoryHasChanges=e,this._recalculateHaveChanges(e,t)}_handleChartLoaded(){this._setUndoHistoryHasChanges(!1)}_handleUndoHistoryChange(e){e&&!e.customFlag("doesnt_affect_save")&&this._setUndoHistoryHasChanges(!0)}_handleChartMigrated(){this._setUndoHistoryHasChanges(!0)}_handleChartSaved(e){e&&this._setUndoHistoryHasChanges(!1,!0)}}},342395:(e,t,i)=>{"use strict";i.d(t,{makeSnapshotRequest:()=>u,takeChartSnapshot:()=>l,takeChartSnapshotPromise:()=>a});i(586463);var s=i(777754),n=i(244842),r=i(229534),o=i(120780);function a(e,t={}){
return new Promise(((i,s)=>{l(e,i,s,t)}))}async function l(e,t,i,s={}){var n;const r=new FormData;if(void 0!==s.previews)for(const e of s.previews)r.append("previews[]",e);void 0!==s.cme&&r.append("cme",String(s.cme)),void 0!==s.wl&&r.append("wl",String(s.wl)),void 0!==s.onWidget&&r.append("onWidget",String(s.onWidget)),s.isReport&&r.append("isReport",String(s.isReport)),s.asyncSave&&r.append("asyncSave",String(s.asyncSave));const o=window.urlParams;o&&o.locale&&r.append("language",o.locale);const a=e.activeChartWidget.value(),l=a.widgetCustomer();void 0!==l&&r.append("customer",l);let c=a.properties().childs().timezone.value();"exchange"===c&&(c=(null===(n=a.model().mainSeries().symbolInfo())||void 0===n?void 0:n.timezone)||c),r.append("timezone",c),r.append("symbol",a.model().mainSeries().symbol());const d=await e.clientSnapshot({showHeaderMainSymbol:s.showHeaderMainSymbol}),h=await new Promise((e=>d.toBlob(e)));null!==h&&r.append("preparedImage",h),u(r,t,i,s)}async function u(e,t,a,l={}){const u=n.enabled("charting_library_base")?l.snapshotUrl||"https://www.tradingview.com/snapshot/":"/snapshot/";try{const n=await(0,o.fetch)(u,{body:e,method:"POST",credentials:"same-origin"}),c=await n.text();if(n.ok)t(c);else{if("suspicious_chart_snapshots_error"===c){const e=s.t(null,void 0,i(347362)).format({start_link:'<a class="tv-dialog__link js-send-report-link" href="#" data-issue-type="other">',end_link:"</a>"});l.onInvalidSnapshotImage&&l.onInvalidSnapshotImage();return(0,r.createErrorDialog)({title:s.t(null,void 0,i(567137)),content:e,btnType:"danger"}).then((e=>{e.on("afterOpen",(()=>{i.e(1484).then(i.bind(i,601042)).then((({bugDialogCreationHandler:t})=>{t(),e.$el.find(".js-send-report-link").click((()=>{e.close()}))}))})),e.open()}))}a()}}catch(e){a()}}},242558:(e,t,i)=>{"use strict";i.d(t,{createDwmAligner:()=>u,createTimeToBarTimeAligner:()=>d});var s=i(988124),n=i(244842),r=i(223699),o=i(995310),a=i(547944);const l=new o.SessionInfo("Etc/UTC","0000-0000:1234567");function u(e,t){if(!c()||!r.Interval.isDWM(e))return null;const i=new o.SessionInfo(t.timezone,t.session,t.session_holidays,t.corrections),n=(0,a.newBarBuilder)(e,i,l);return{timeToSessionStart:e=>n.tradingDayToSessionStart(e),timeToExchangeTradingDay:e=>{const t=s.utc_to_cal(i.timezone,e),n=i.spec.correctTradingDay(t);return s.set_hms(n,0,0,0,0,s.get_timezone("Etc/UTC")),n.getTime()}}}function c(){return!n.enabled("disable_resolution_rebuild")}function d(e,t){if(!c())return e=>e;const i=new o.SessionInfo(t.timezone,t.session,t.session_holidays,t.corrections),s=(0,a.newBarBuilder)(e,i,i,!1);return e=>s.alignTimeIfPossible(e)}},995310:(e,t,i)=>{"use strict";i.d(t,{BarBuilderBase:()=>a,SessionInfo:()=>o});var s=i(988124),n=i(987571),r=i(854453);class o{constructor(e,t,i,s){this.init(e,t,i,s),this._state={timezone:e,spec:t,holidays:i,corrections:s}}init(e,t,i,n){this.timezone=s.get_timezone(e),this.spec=new r.SessionSpec(e,t,i,n)}state(){return this._state}static fromState(e){return new o(e.timezone,e.spec,e.holidays,e.corrections)}}class a{alignTime(e){
if(isNaN(e))return NaN;let t=this.indexOfBar(e);return t===n.SessionStage.POST_SESSION&&(this.moveTo(e),t=this.indexOfBar(e)),t<0?NaN:this.startOfBar(t)}}},987571:(e,t,i)=>{"use strict";var s;i.d(t,{SessionStage:()=>s}),function(e){e[e.PRE_SESSION=-1]="PRE_SESSION",e[e.POST_SESSION=-2]="POST_SESSION",e[e.LASTBAR_SESSION=-3]="LASTBAR_SESSION"}(s||(s={}))},854453:(e,t,i)=>{"use strict";i.d(t,{SessionSpec:()=>y});var s=i(988124),n=i(674981),r=i(476172);function o(e,t){return e.compareTo(t)}class a{constructor(e,t,i){this._dayOfWeek=e,this._start=t,this._length=i}start(){return this._start+s.minutesPerDay*this.sessionStartDaysOffset()}startOffset(){return this._start}sessionStartDaysOffset(){return this._start>=0?0:this._start%s.minutesPerDay==0?-Math.ceil(this._start/s.minutesPerDay):-Math.floor(this._start/s.minutesPerDay)}sessionEndDaysOffset(){const e=this._start+this._length;return e>=0?0:e%s.minutesPerDay==0?-Math.ceil(e/s.minutesPerDay):-Math.floor(e/s.minutesPerDay)}isOvernight(){return this._start<0}dayOfWeek(){return this._dayOfWeek}sessionStartDayOfWeek(){let e=this._dayOfWeek-this.sessionStartDaysOffset();return e<s.SUNDAY&&(e+=7),e}sessionEndDayOfWeek(){let e=this.sessionStartDayOfWeek()+this.sessionEndDaysOffset();return e>s.SATURDAY&&(e=1),e}length(){return this._length}weight(){return this._dayOfWeek*s.minutesPerDay+this._start}compareTo(e){const t=this.weight(),i=t+this._length,s=e.weight(),n=s+e._length;return t<=s&&s<i||s<=t&&t<n?0:t>s?1:-1}contains(e){const t=60*s.get_hours(e)+s.get_minutes(e);let i=s.get_day_of_week(e)-this._dayOfWeek;i>0&&(i-=7);const n=i*s.minutesPerDay+t;return n>=this._start&&n<this._start+this._length}}class l{constructor(e,t,i){this.weekIndex=e,this.entryIndex=t,this.entries=i}getEntry(){return this.entries[this.entryIndex]}}var u=i(194582);const c=[s.MONDAY,s.TUESDAY,s.WEDNESDAY,s.THURSDAY,s.FRIDAY],d=[s.SUNDAY,s.MONDAY,s.TUESDAY,s.WEDNESDAY,s.THURSDAY,s.FRIDAY,s.SATURDAY],h=(0,u.getLogger)("Chart.Model.SessionSpec");function _(e){return e>=48&&e<=57}class p{constructor(){this.entries=[],this.firstDayOfWeek=s.MONDAY,this.weekEndsCount=-1,this.maxTradingDayLength=0}parseSessions(e,t){var i;let s=!1;this._clear(),this.timezone=e;const{hasErrors:n,spec:r}=this._parseFirstDayOfWeek(t);if("24x7"===r.toLowerCase())for(const e of d)this.entries.push(p._createSessionEntry(e,0,0,0,0));else{let e=!1;const t=new Map;for(const i of r.split("|")){const n=i.split(":");if(1!==n.length&&2!==n.length){s=!0,h.logError(`Bad session section: ${i}`);continue}const r=1===n.length;if(r){if(e){s=!0,h.logError(`Duplicated default section: ${i}`);continue}e=!0}const o=r?c:p._parseWorkingDays(n[1]);for(const e of o)r&&t.has(e)||t.set(e,n[0])}for(const e of d){const i=t.get(e);if(void 0!==i)for(const t of i.split(",")){const{hasErrors:i,sessionEntry:n}=p._parseSessionEntry(e,t);i&&(s=i),this.entries.push(n)}}}this.entries.sort(o);const a=new Map;for(const e of this.entries){const t=e.dayOfWeek();a.set(t,e.length()+(null!==(i=a.get(t))&&void 0!==i?i:0))}return this.maxTradingDayLength=0,a.forEach((e=>{
this.maxTradingDayLength=Math.max(this.maxTradingDayLength,e)})),this.weekEndsCount=7-a.size,s||n}static parseHolidaysAndCorrections(e,t,i){const n=new Map,r=new Map,o=e=>{const t=this._parseDay(e),i=t.toString(),s=r.get(i);return void 0!==s?s:(r.set(i,t),t)};if(""!==t){const e=[];for(const i of t.split(",")){if(8!==i.length)throw new Error(`bad holiday date: ${i}`);const t=o(i);n.set(t,e)}}if(""===i)return n;const l=s.get_timezone("Etc/UTC");for(const e of i.split(";")){const t=e.split(":");if(2!==t.length)throw new Error(`bad correction section: ${e}`);const i=[];if("dayoff"!==t[0])for(const e of t[0].split(","))i.push(this._parseSessionEntry(1,e).sessionEntry);for(const e of t[1].split(",")){if(8!==e.length)throw new Error(`bad correction date: ${e}`);const t=o(e),r=s.get_day_of_week(s.get_cal(l,t.year,t.month-1,t.day)),u=[];for(const e of i)u.push(new a(r,e.startOffset(),e.length()));n.set(t,u)}}return n}_clear(){this.entries=[],this.timezone="",this.firstDayOfWeek=s.MONDAY,this.weekEndsCount=-1}_parseFirstDayOfWeek(e){const t=e.split(";");if(t.length>2)return h.logError(`Only one \`first day\` specification expected @ session ${e}`),{hasErrors:!0,spec:e};if(1===t.length)return{hasErrors:!1,spec:e};let i=1;let n=t[0].indexOf("-")>=0?NaN:parseInt(t[0]);return isNaN(n)&&(i=0,n=parseInt(t[1])),n<s.SUNDAY||n>s.SATURDAY?(h.logError(`Unexpected day index @ session: ${e}; day index ${n}`),{hasErrors:!0,spec:e}):(this.firstDayOfWeek=n,{hasErrors:!1,spec:t[i]})}static _parseDay(e){const t=parseInt(e.substring(0,4)),i=parseInt(e.substring(4,6)),s=parseInt(e.substring(6,8));return new r.BusinessDay(t,i,s)}static _parseSessionEntry(e,t){let i=!1,s=t.split("-");2!==s.length&&(i=!0,h.logError(`Bad sessions entry: ${t}`),s=["0000","0000"]);let n=0,r=s[0];if(r.includes("F")){const e=r.split("F");r=e[0],n=""!==e[1]?parseInt(e[1]):1}let o=0,a=s[1];if(a.includes("F")){const e=a.split("F");a=e[0],o=""!==e[1]?parseInt(e[1]):1}if(!this._isCorrectSession(r)||!this._isCorrectSession(a))throw new Error(`Incorrect entry syntax: ${t}`);const l=r,u=a;return{hasErrors:i,sessionEntry:this._createSessionEntry(e,p._minutesFromHHMM(l),p._minutesFromHHMM(u),n,o)}}static _isCorrectSession(e){return 4===e.length&&_(e.charCodeAt(0))&&_(e.charCodeAt(1))&&_(e.charCodeAt(2))&&_(e.charCodeAt(3))}static _parseWorkingDays(e){const t=[];for(let i=0;i<e.length;i++){const s=+e[i];-1===t.indexOf(s)&&t.push(s)}return t}static _minutesFromHHMM(e){return s.get_minutes_from_hhmm(e)}static _createSessionEntry(e,t,i,n,r){0===i&&(i=s.minutesPerDay),n===r&&i<=t&&(n+=1),n>0&&(t-=n*s.minutesPerDay),r>0&&(i-=r*s.minutesPerDay);return new a(e,t,i-t)}}function g(e,t){return e.compareTo(t)<0}function m(e,t){const i=(0,n.lowerbound)(e,t,((e,t)=>-1===e.day.compareTo(t)));return i===e.length?null:e[i]}const f=621672192e5;class y{constructor(e="Etc/UTC",t="0000-0000",i="",n=""){this._entries=[],this._firstDayOfWeek=s.MONDAY,this._entriesHash=new Map,this._holidayAndCorrectionMap=new Map,this._holidaySessions=[];const r=new p;r.parseSessions(e,t),this._entries=r.entries,
this._timezone=r.timezone,this._spec=t,this._firstDayOfWeek=r.firstDayOfWeek,this._weekEndsCount=r.weekEndsCount,this._maxTradingDayLength=r.maxTradingDayLength;const o=p.parseHolidaysAndCorrections(e,i,n),a=s.get_timezone(e);this._isThereCorrections=""!==i||""!==n,o.forEach(((e,t)=>{this._holidayAndCorrectionMap.set(t.toString(),e),this._holidaySessions.push({day:t,sessions:e});const i=this.getWeekIndex(t.toCalendar(a));this._entriesHash.set(i,null)})),this._holidaySessions.sort(((e,t)=>e.day.compareTo(t.day)))}entries(){return this._entries}timezone(){return this._timezone}spec(){return this._spec}firstDayOfWeek(){return this._firstDayOfWeek}addSessionEntry(e,t,i,n,r){0===i&&(i=s.minutesPerDay),n===r&&i<=t&&(n+=1),n>0&&(t-=n*s.minutesPerDay),r>0&&(i-=r*s.minutesPerDay);const o=i-t;this._entries.push(new a(e,t,o))}longestSessionLength(){let e=0,t=0;for(const t of this._holidaySessions)t.sessions.forEach((t=>{e=Math.max(e,t.length())}));return this._entries.forEach((e=>{t=Math.max(t,e.length())})),Math.max(e,t)}isWeekEnd(e){const t=(0,n.lowerbound)(this._entries,new a(e,0,0),((e,t)=>e.dayOfWeek()<t.dayOfWeek()));return t>this._entries.length-1||this._entries[t].dayOfWeek()!==e}isCalWeekEnd(e){const t=s.get_day_of_week(e);if(!this._isThereCorrections)return this.isWeekEnd(t);const i=r.BusinessDay.fromCalendar(e),n=this._holidayAndCorrectionMap.get(i.toString());return void 0===n?this.isWeekEnd(t):0===n.length}hasWeekEnds(){return this.weekEndsCount()>0}weekEndsCount(){return this._weekEndsCount}maxTradingDayLength(){return this._maxTradingDayLength}holidaysFromYearStart(e){if(!this._isThereCorrections)return 0;const t=s.get_timezone(this._timezone),i=new r.BusinessDay(s.get_year(e),s.JANUARY,1),n=r.BusinessDay.fromCalendar(e);let o=0;const a=this._selectHolidays(i,n);for(let e=0;e<a.length;e++){const i=a[e].day.toCalendar(t);this.isWeekEnd(s.get_day_of_week(i))?o+=0===a[e].sessions.length?0:-1:o+=0===a[e].sessions.length?1:0}return o}intradayCanBeBuiltFrom24x7(e){return this._entries.every((t=>t.start()%e==0&&t.length()%e==0))}indexOfSession(e,t,i){const r=this._getEntriesForWeek(e);let o=(0,n.lowerbound)(r,new a(t,i,0),g);if(o!==r.length)return new l(e,o,r);let u=e;const c=7-t+this._firstDayOfWeek-1;for(i=-(s.minutesPerDay-i+c*s.minutesPerDay);;){u++;const e=this._getEntriesForWeek(u);if(0!==e.length)return o=(0,n.lowerbound)(e,new a(this._firstDayOfWeek,i,0),g),new l(u,o,e)}}findSession(e,t,i,s=0){const n=this.indexOfSession(e,t,i),r=n.entries;let o=n.entryIndex;if(0!==s){const e=r[o].dayOfWeek(),t=s>0?1:-1;for(;;){const i=o+t;if(i<0||i>=r.length||r[i].dayOfWeek()!==e)break;o=i}}return new l(n.weekIndex,o,r)}getWeekIndex(e){if(!this._isThereCorrections)return 0;const t=s.get_day_of_week(e)-s.SUNDAY,i=s.get_timezone("Etc/UTC"),n=s.get_cal(i,s.get_year(e),s.get_month(e),s.get_day_of_month(e)-t);return Math.floor((n.getTime()+f)/1e3/86400/7)}correctTradingDay(e){
const t=s.get_day_of_week(e),i=60*s.get_hours(e)+s.get_minutes(e),n=this.getWeekIndex(e),r=this.findSession(n,t,i,0),o=r.getEntry().dayOfWeek()-t+7*(r.weekIndex-n);return 0!==o&&s.add_date(e,o),e}alignToSessionStart(e,t=0){const i=s.get_day_of_week(e),n=60*s.get_hours(e)+s.get_minutes(e),r=this.getWeekIndex(e),o=this.findSession(r,i,n,t),a=o.getEntry(),l=a.dayOfWeek()-i+7*(o.weekIndex-r);0!==l&&s.add_date(e,l);const u=a.startOffset();return s.set_hms(e,u/60,u%60,0,0,s.get_timezone(this._timezone)),a.length()}businessDaysToCalendarDays(e,t){let i=this.getWeekIndex(e),n=s.get_day_of_week(e),r=0,o=0;for(;o<t;){const e=this._getEntriesForWeek(i);let a=0;for(let i=n;i<=s.SATURDAY;i++){r++;let s=!0;for(;a<e.length&&!(e[a].dayOfWeek()>i);)e[a].dayOfWeek()<i||s&&(s=!1,o++),a++;if(o>=t)return r}i++,n=s.SUNDAY}return r}calendarDaysToBusinessDays(e,t){let i=this.getWeekIndex(e),n=s.get_day_of_week(e),r=0,o=0;for(;r<t;){const e=this._getEntriesForWeek(i);let a=0;for(let i=n;i<=s.SATURDAY;i++){r++;let s=!0;for(;a<e.length&&!(e[a].dayOfWeek()>i);)e[a].dayOfWeek()<i||s&&(s=!1,o++),a++;if(r>=t)return o}i++,n=s.SUNDAY}return o}alignToNearestSessionStart(e,t){return this._alignToNearestSessionValue(e,t,this._entrySessionStart.bind(this))}alignToNearestSessionEnd(e,t){return this._alignToNearestSessionValue(e,t,this._entrySessionEnd.bind(this))}leftBorderOfDailyBar(e){const t=this._getEntriesForDay(e);return 0===t.length?null:(t.sort(o),this._getLeftEntryBorder(e,t[0]))}bordersOfDailyBar(e){const t=this._getEntriesForDay(e);if(0===t.length)return null;t.sort(o);const i=this._getLeftEntryBorder(e,t[0]),n=t[t.length-1],r=s.clone(e);let a=60*(n.startOffset()+n.length())-1;const l=Math.floor(a/3600);return a-=3600*l,s.set_hms(r,l,a/60,a%60,0,s.get_timezone(this._timezone)),{from:i,to:r}}getEntriesForWeekByCalendar(e){const t=this.getWeekIndex(e);return this._getEntriesForWeek(t)}_getEntriesForWeek(e){let t=this._entriesHash.get(e);if(void 0===t)return this._entries;if(null!==t)return t;const i=s.get_timezone(this._timezone);t=this._entries.slice();const n=this._weekIndexToCalendar(e),a=this._weekIndexToCalendar(e+1),l=r.BusinessDay.fromCalendar(n),u=r.BusinessDay.fromCalendar(a),c=this._selectHolidays(l,u);for(const e of c){const n=e.day.toCalendar(i),r=s.get_day_of_week(n);t=t.filter((e=>e.dayOfWeek()!==r)),t=t.concat(e.sessions)}return t.sort(o),this._entriesHash.set(e,t),t}_selectHolidays(e,t){const i=[];let s=e;for(;;){const e=m(this._holidaySessions,s);if(null===e)return i;if(!e.day.before(t))return i;i.push(e),s=e.day.addDays(1)}}_weekIndexToCalendar(e){const t=1e3*(86400*e*7+86400)-f,i=s.get_cal_from_unix_timestamp_ms(s.get_timezone("Etc/UTC"),t),n=s.get_timezone("Etc/UTC");return s.get_cal(n,s.get_year(i),s.get_month(i),s.get_day_of_month(i))}_alignToNearestSessionValue(e,t,i){const n=s.get_day_of_week(e),r=60*s.get_hours(e)+s.get_minutes(e),o=this.getWeekIndex(e);let a=this.findSession(o,n,r);if(a.getEntry().contains(e)&&o===a.weekIndex||1===t)return i(a,s.clone(e),t)
;const u=a.getEntry(),c=u.contains(e),d=o===a.weekIndex,h=u.sessionStartDaysOffset()-u.dayOfWeek()>=0;if(c&&(d||h))return i(a,s.clone(e),t);let _=a.entryIndex-1;if(_<0){let e=a.weekIndex,t=a.entries;for(;_<0;)e--,t=this._getEntriesForWeek(e),_+=t.length;a=new l(e,_,t)}else a=new l(a.weekIndex,_,a.entries);return i(a,s.clone(e),t)}_entrySessionStart(e,t,i){return this._entrySessionValue(e,t,i,(e=>60*e.start()))}_entrySessionEnd(e,t,i){return this._entrySessionValue(e,t,i,(e=>60*(e.start()+e.length())-1))}_entrySessionValue(e,t,i,n){let r=s.get_day_of_week(t);const o=e.getEntry();let a=o.dayOfWeek()-o.sessionStartDaysOffset();const l=this.getWeekIndex(t);let u=e.weekIndex-l,c=!1;if(a<s.SUNDAY&&(u<=0?c=!0:u--,a+=7),(u>0&&i>=0||u<0&&i<0)&&s.add_date(t,7*u),!o.contains(t)){let e=a-r;c&&i<0&&(e=-(7-a+r)),s.add_date(t,e),r=s.get_day_of_week(t)}o.isOvernight()&&r===o.dayOfWeek()&&s.add_date(t,-o.sessionStartDaysOffset());let d=n(o);const h=Math.floor(d/3600);return d-=3600*h,s.set_hms(t,h,d/60,d%60,0,s.get_timezone(this._timezone)),t}_getEntriesForDay(e){const t=s.get_day_of_week(e);return this._getEntriesForWeek(this.getWeekIndex(e)).filter((e=>e.dayOfWeek()===t))}_getLeftEntryBorder(e,t){const i=s.clone(e),n=t.startOffset();return s.set_hms(i,n/60,n%60,0,0,s.get_timezone(this._timezone)),i}}},707621:(e,t,i)=>{"use strict";i.d(t,{allChartStyles:()=>o,commonChartStyles:()=>r,japaneseChartStyles:()=>n});var s=i(244842);function n(){const e=[8];return s.enabled("japanese_chart_styles")&&(e.push(4,7,5,6),e.push(11)),e}function r(){const e=[0,1,9,13,2,14,15,3,16,10];return e.push(12),e}function o(){return r().concat(n())}},853965:(e,t,i)=>{"use strict";i.r(t),i.d(t,{DefaultProperty:()=>p,createDefaultsState:()=>d,saveDefaultProperties:()=>_});var s=i(822914),n=i(712433),r=i(702040),o=i(42292),a=i(354950),l=i.n(a),u=i(707957);function c(e,t){const i=(0,s.default)(e);return t.forEach((e=>(0,r.default)(i,e.split(".")))),i}function d(e,t,i,r){const a=e?o.defaults:o.factoryDefaults,l=t.startsWith("study_")?(0,s.default)(a("study")):{};let u=(0,s.default)(a(t,r));return t.startsWith("study_")&&u.inputs&&delete u.inputs.symbol,"linetoolicon"===t&&e&&(u.icon=(0,o.defaults)(t).icon),"linetooemoji"===t&&e&&(u.emoji=(0,o.defaults)(t).emoji),"linetoolsticker"===t&&e&&(u.sticker=(0,o.defaults)(t).sticker),u=c(u,i),(0,n.default)(l,u),l}let h=!1;function _(e){h=e}class p extends(l()){constructor(e,t,i,s){super(function(e,t,i,s){let r;return void 0===s&&(s=!0),i?r=t:(r=d(s,e,[],null),t&&(0,n.default)(r,t)),r}(e,t,i,s)),this._exclusions=[],this._restoreFactoryDefaultsEvent=new u.Delegate,this._defaultName=e,this._useUserPreferences=null==s||s,this.listeners().subscribe(this,p.prototype.onPropertyChanged),this._restoreFactoryDefaultsEvent=new u.Delegate}preferences(){return this.state(this._exclusions)}mergePreferences(e){this.mergeAndFire(c(e,this._exclusions))}addExclusion(e){this._exclusions.indexOf(e)<0&&this._exclusions.push(e)}removeExclusion(e){const t=this._exclusions.indexOf(e);-1!==t&&this._exclusions.splice(t,1)}
restoreFactoryDefaults(){const e=d(!1,this._defaultName,this._exclusions,null);this.mergeAndFire(e),this._defaultName.startsWith("study_")&&!this._defaultName.startsWith("study_VbPFixed")||(0,o.saveDefaults)(this._defaultName,void 0),this._restoreFactoryDefaultsEvent.fire()}onRestoreFactoryDefaults(){return this._restoreFactoryDefaultsEvent}onPropertyChanged(){!h||this._defaultName.startsWith("study_")&&!this._defaultName.startsWith("study_VbPFixed")||this.saveDefaults()}saveDefaults(){this._useUserPreferences&&(0,o.saveDefaults)(this._defaultName,this.preferences())}clone(e){const t=new p(this._defaultName,this.state(),null==e?void 0:e.replaceByState,this._useUserPreferences);for(let e=0;e<this._exclusions.length;++e)t.addExclusion(this._exclusions[e]);return t}}},885482:(e,t,i)=>{"use strict";i.r(t),i.d(t,{SelectPointMode:()=>s,activePointSelectionMode:()=>K,barTimesUnderCursor:()=>G,beenSetLineToolLastPoint:()=>R,cancelLineTool:()=>ee,cancelledLineTool:()=>O,changeLineStyle:()=>ce,changeLineTool:()=>oe,changedLineStyle:()=>z,changedLineTool:()=>V,continueLineTool:()=>Z,continuedLineTool:()=>L,copiedLineTool:()=>j,copyLineTool:()=>de,createLineTool:()=>X,createdLineTool:()=>A,crosshairLock:()=>S,cursorTool:()=>I,drawOnAllCharts:()=>Te,drawOnAllChartsMode:()=>Ce,emojiTool:()=>C,finishChangingLineTool:()=>ae,finishLineTool:()=>ue,finishMovingLineTool:()=>ne,finishedChangingLineTool:()=>U,finishedLineTool:()=>H,finishedMovingLineTool:()=>F,hideAllDrawings:()=>ve,hideAllIndicators:()=>be,hideMarksOnBars:()=>we,iconTool:()=>T,init:()=>me,isDirectionalMovementActive:()=>x,isStudyEditingNow:()=>Y,isToolCreatingNow:()=>k,isToolEditingNow:()=>E,isToolMovingNow:()=>D,lockDrawings:()=>Se,moveLineTool:()=>se,movedLineTool:()=>M,properties:()=>ye,removeLineTool:()=>le,removedLineTool:()=>B,resetToCursor:()=>g,restoreLineTool:()=>he,restoreLineToolState:()=>_e,restoredLineTool:()=>q,restoredLineToolState:()=>$,runOnDrawingStateReady:()=>fe,setLineToolLastPoint:()=>te,startChangingLineTool:()=>re,startMovingLineTool:()=>ie,startedChangingLineTool:()=>W,startedMovingLineTool:()=>N,stickerTool:()=>P,tool:()=>w,toolIsCursor:()=>_,toolIsMeasure:()=>p});var s,n=i(650151),r=i(152633),o=i(853965),a=i(401580),l=i(938550),u=i(707957),c=i(62802),d=i(251954),h=i(42292);function _(e){return"cursor"===e||"arrow"===e||"dot"===e}function p(e){return"measure"===e}function g(e=!1){if(!e&&m){if(m.childs().stayInDrawingMode.value())return}w.setValue(I.value())}!function(e){e[e.None=0]="None",e[e.Replay=1]="Replay",e[e.Study=2]="Study"}(s||(s={}));let m=null,f=null,y=null,v=null,b=null
;const S=new l.WatchedObject(null),w=new a.WatchedValue,T=new a.WatchedValue,C=new a.WatchedValue,P=new a.WatchedValue,I=new a.WatchedValue,k=new a.WatchedValue(!1),E=new a.WatchedValue(!1),D=new a.WatchedValue(!1),x=new a.WatchedValue(!1),A=new u.Delegate,L=new u.Delegate,O=new u.Delegate,R=new u.Delegate,N=new u.Delegate,M=new u.Delegate,F=new u.Delegate,W=new u.Delegate,V=new u.Delegate,U=new u.Delegate,B=new u.Delegate,H=new u.Delegate,z=new u.Delegate,j=new u.Delegate,q=new u.Delegate,$=new u.Delegate,K=new a.WatchedValue(s.None),Y=new a.WatchedValue(!1),G=new Map;function J(e,t){const i=t||{value:!1};return t=>{i.value||(i.value=!0,e.fire(t),i.value=!1)}}const Q={value:!1},X=J(A,Q),Z=J(L,Q),ee=J(O,Q),te=J(R,Q),ie=J(N),se=J(M),ne=J(F),re=J(W),oe=J(V),ae=J(U),le=J(B),ue=J(H),ce=J(z,Q),de=J(j,Q),he=J(q),_e=J($);let pe=!1,ge=[];function me(){pe||(w.setValue(c.getValue("chart.cursorPreference","cursor")),w.subscribe((e=>_(e)&&I.setValue(e)),{callWithLast:!0}),I.subscribe((e=>{e&&c.setValue("chart.cursorPreference",e)})),m=new o.DefaultProperty("drawings"),f=(0,r.createPrimitiveProperty)(),y=(0,r.createPrimitiveProperty)(),v=(0,r.createPrimitiveProperty)(),b=(0,r.createPrimitiveProperty)(),f.setValue(!1),y.setValue(!1),v.setValue(!1),b.setValue(!1),w.subscribe((()=>{(0,d.emit)("onSelectedLineToolChanged")})),T.subscribe((()=>{(0,h.saveDefaults)("linetoolicon",{...(0,h.defaults)("linetoolicon"),icon:T.value()})})),C.subscribe((()=>{(0,h.saveDefaults)("linetoolemoji",{...(0,h.defaults)("linetoolemoji"),emoji:C.value()})})),P.subscribe((()=>{(0,h.saveDefaults)("linetoolsticker",{...(0,h.defaults)("linetoolsticker"),sticker:P.value()})})),pe=!0,ge.forEach((e=>e())),ge=[])}function fe(e){pe?e():ge.push(e)}function ye(){return(0,n.ensureNotNull)(m)}function ve(){return(0,n.ensureNotNull)(f)}function be(){return(0,n.ensureNotNull)(y)}function Se(){return(0,n.ensureNotNull)(v)}function we(){return(0,n.ensureNotNull)(b)}function Te(){return ye().childs().drawOnAllCharts}function Ce(){return ye().childs().drawOnAllChartsMode}},182436:(e,t,i)=>{"use strict";i.d(t,{NumericFormatter:()=>r});var s=i(624444),n=i(960521);class r{constructor(e){this._precision=e}format(e){return(void 0!==this._precision?e.toFixed(this._precision):r.formatNoE(e)).replace(".",s.formatterOptions.decimalSign)}parse(e){const t=e.replace(s.formatterOptions.decimalSign,".");let i=parseFloat(t);return this._precision&&(i=+i.toFixed(this._precision)),i}static formatNoE(e){if(!Number.isFinite(e))return String(e);const t=new n.Big(e);return t.lt(1)?t.toFixed():t.toString()}}},943994:(e,t,i)=>{"use strict";i.d(t,{PLACE_HOLDER:()=>o,VolumeFormatter:()=>a});var s=i(777754),n=i(182436),r=i(389137);const o="---";class a{constructor(e){this.type="volume",this._numericFormatter=new n.NumericFormatter,this._fractionalValues=void 0!==e&&e>0,this._precision=e}state(){return{precision:this._precision}}format(e,t){if(!(0,r.isNumber)(e))return o;let n="";return e<0?(n="−",e=-e):e>0&&t&&(n="+"),
e>=1e100?s.t(null,void 0,i(343088)):(!this._fractionalValues||e>=995?e=Math.round(e):this._fractionalValues&&(e=+e.toFixed(this._precision)),e<995?n+this._formatNumber(e):e<999995?n+this._formatNumber(e/1e3)+"K":e<999999995?(e=1e3*Math.round(e/1e3),n+this._formatNumber(e/1e6)+"M"):e<999999999995?(e=1e6*Math.round(e/1e6),n+this._formatNumber(e/1e9)+"B"):(e=1e9*Math.round(e/1e9),n+this._formatNumber(e/1e12)+"T"))}parse(e){if("---"===e)return{error:"not a number",res:!1,value:NaN};const t={K:1e3,M:1e6,B:1e9,T:1e12},i=e.slice(-1);if(t.hasOwnProperty(i)){const s=this._numericFormatter.parse(e.slice(0,-1));return(0,r.isNumber)(s)?{res:!0,value:s*t[i]}:{error:"not a number",res:!1,value:NaN}}{const t=this._numericFormatter.parse(e);return(0,r.isNumber)(t)?{res:!0,value:t}:{error:"not a number",res:!1,value:NaN}}}static serialize(e){return e.state()}static deserialize(e){return new a(e.precision)}_formatNumber(e){if(this._fractionalValues&&0!==e){const t=14-Math.ceil(Math.log10(e)),i=Math.pow(10,t);e=Math.round(e*i)/i}return this._numericFormatter.format(e).replace(/(\.[1-9]*)0+$/,((e,t)=>t))}}},982217:(e,t,i)=>{"use strict";var s;i.d(t,{TitleDisplayTarget:()=>s}),function(e){e[e.DataWindow=2]="DataWindow",e[e.StatusLine=8]="StatusLine"}(s||(s={}))},223699:(e,t,i)=>{"use strict";i.d(t,{Interval:()=>c,ResolutionKind:()=>r,SpecialResolutionKind:()=>o,isHour:()=>h});const s=/^(\d*)([TSHDWMR])$/,n=/^(\d+)$/;var r,o;!function(e){e.Ticks="ticks",e.Seconds="seconds",e.Minutes="minutes",e.Days="days",e.Weeks="weeks",e.Months="months",e.Range="range",e.Invalid="invalid"}(r||(r={})),function(e){e.Hours="hours"}(o||(o={}));const a={};a[r.Ticks]=1e3,a[r.Seconds]=1e3,a[r.Minutes]=60*a[r.Seconds],a[r.Days]=1440*a[r.Minutes],a[r.Weeks]=7*a[r.Days];const l={T:r.Ticks,S:r.Seconds,D:r.Days,W:r.Weeks,M:r.Months,R:r.Range},u=new Set([r.Ticks,r.Seconds,r.Minutes]);class c{constructor(e,t){this._kind=r.Invalid,this._multiplier=0,e!==r.Invalid&&t>0&&(this._kind=e,this._multiplier=t)}kind(){return this._kind}multiplier(){return this._multiplier}isValid(){return this.kind()!==r.Invalid&&this.multiplier()>0}isDWM(){return this.isValid()&&!this.isRange()&&!this.isIntraday()&&!this.isTicks()}isIntraday(){const e=u.has(this.kind());return this.isValid()&&e}isSeconds(){return this.kind()===r.Seconds}isMinutes(){return this.kind()===r.Minutes}isMinuteHours(){return this.kind()===r.Minutes&&h(this.multiplier())}isDays(){return this.kind()===r.Days}isWeeks(){return this.kind()===r.Weeks}isMonths(){return this.kind()===r.Months}isRange(){return this.kind()===r.Range}isTicks(){return this.kind()===r.Ticks}isTimeBased(){return!this.isRange()}letter(){return this.isValid()&&this.kind()!==r.Minutes?this.kind()[0].toUpperCase():""}value(){return this.isValid()?this.kind()===r.Minutes?this.multiplier()+"":this.multiplier()+this.letter():""}isEqualTo(e){if(!(e instanceof c))throw new Error("Argument is not an Interval");return!(!this.isValid()||!e.isValid())&&(this.kind()===e.kind()&&this.multiplier()===e.multiplier())}inMilliseconds(e=Date.now()){
if(!this.isValid()||this.isRange())return NaN;if(this.isMonths()){const t=new Date(e);t.setUTCMonth(t.getUTCMonth()+(this.multiplier()||1));return+t-e}const t=this.multiplier();return a[this.kind()]*t}static isEqual(e,t){return e===t||c.parse(e).isEqualTo(c.parse(t))}static parseExt(e){e=(e+"").toUpperCase().split(",")[0];let t=s.exec(e);return null!==t?"H"===t[2]?{interval:new c(r.Minutes,60*d(t[1])),guiResolutionKind:o.Hours}:{interval:new c(l[t[2]],d(t[1])),guiResolutionKind:l[t[2]]}:(t=n.exec(e),null!==t?{interval:new c(r.Minutes,d(t[1])),guiResolutionKind:r.Minutes}:{interval:new c(r.Invalid,0),guiResolutionKind:r.Invalid})}static parse(e){return c.parseExt(e).interval}static kind(e){return c.parse(e).kind()}static isValid(e){return c.parse(e).isValid()}static isDWM(e){return c.parse(e).isDWM()}static isIntraday(e){return c.parse(e).isIntraday()}static isSeconds(e){return c.parse(e).isSeconds()}static isMinutes(e){return c.parse(e).isMinutes()}static isMinuteHours(e){return c.parse(e).isMinuteHours()}static isDays(e){return c.parse(e).isDays()}static isWeeks(e){return c.parse(e).isWeeks()}static isMonths(e){return c.parse(e).isMonths()}static isRange(e){return c.parse(e).isRange()}static isTicks(e){return c.parse(e).isTicks()}static isTimeBased(e){return c.parse(e).isTimeBased()}static normalize(e){const t=c.parse(e);return t.isValid()?t.value():null}}function d(e){return 0===e.length?1:parseInt(e,10)}function h(e){return e>=60&&!(e%60)}},534741:(e,t,i)=>{"use strict";var s;i.d(t,{PlotRowSearchMode:()=>s}),function(e){e[e.NearestLeft=-1]="NearestLeft",e[e.Exact=0]="Exact",e[e.NearestRight=1]="NearestRight"}(s||(s={}))},31712:(e,t,i)=>{"use strict";i.r(t),i.d(t,{LineToolCollectedProperty:()=>u,LineToolColorsProperty:()=>d,LineToolMultiplePropertyBaseImpl:()=>l,LineToolWidthsProperty:()=>c,MultipleLineColorsProperty:()=>p,MultipleLineWidthsProperty:()=>_});var s=i(201089),n=i(707957),r=i(428123);const o=(0,s.getLogger)("Chart.LineToolCollectedProperty");class a{applyValue(e,t){e.setValue(t)}}class l{constructor(e,t){this._onChange=new n.Delegate,this._properties=e,e.forEach((e=>e.subscribe(this,(()=>{this._onChange.fire(this)})))),this._showIfProperty=t}visible(){var e;return!this._showIfProperty||(null===(e=this._showIfProperty)||void 0===e?void 0:e.value())}value(){if(0===this._properties.length)return o.logError("Incorrect call, should not request value of 0 properties"),"mixed";const e=this._properties[0].value();return 1===this._properties.length||this._properties.every((t=>t.value()===e))?e:"mixed"}state(){}merge(){}destroy(){this._properties.forEach((e=>e.unsubscribeAll(this))),this._onChange.destroy()}subscribe(e,t){this._onChange.subscribe(e,t)}unsubscribe(e,t){this._onChange.unsubscribe(e,t)}unsubscribeAll(e){this._onChange.unsubscribeAll(e)}storeStateIfUndefined(){return!0}weakReference(){return(0,r.weakReference)(this)}ownership(){return(0,r.ownership)(this)}}class u extends l{setValue(e,t,i){if("mixed"===e)return;const s=null!=i?i:new a;this._properties.forEach((t=>s.applyValue(t,e)))}}
class c extends u{}class d extends u{firstColor(){return this._properties[0].value()}}class h extends l{setValue(e,t,i){if("mixed"===e)return;const s=null!=i?i:new a;this._properties.forEach((t=>t.setValue(e,void 0,s)))}}class _ extends h{}class p extends h{}},713473:(e,t,i)=>{"use strict";var s;i.r(t),i.d(t,{cloneLineTool:()=>N,createLineTool:()=>I,createLineToolProperties:()=>E,createStudyLineToolProperties:()=>D,getNewToolProperties:()=>w,initAllLineToolsFromContent:()=>P,initLineTool:()=>C,isLineTool:()=>A,isStudyLineTool:()=>L,isTrading:()=>O,lineToolByLinkKey:()=>M,prepareLineToolPropertiesByOwnerSource:()=>k,setNewToolProperties:()=>b,supportsPhantomMode:()=>x,tryFindStudyLineToolNameByStudyId:()=>R,unsetNewToolProperties:()=>S});var n=i(650151),r=i(86441),o=i(395098),a=i(817724),l=i(821979),u=i(968361),c=i(44004),d=i(224153),h=i(928890),_=i(975630),p=i(484775),g=i(477227),m=i(616117);function f(e){for(const t of Object.keys(e))TradingView[t]=e[t]}f(s||(s=i.t(u,2))),f({LineToolRegressionTrend:c.LineToolRegressionTrend,LineToolVbPFixed:d.LineToolVbPFixed,LineToolFixedRangeVolumeProfile:h.LineToolFixedRangeVolumeProfile,LineToolAnchoredVWAP:_.LineToolAnchoredVWAP}),f(p);const y={};Object.assign(y,s||(s=i.t(u,2)));let v=null;function b(e,t,i){return null!==v&&v.tool===e&&v.toolData===t||(v={properties:E(e,void 0,i),tool:e,toolData:t}),v.properties}function S(){v=null}function w(e){return null!==v&&v.tool===e?v.properties:null}const T=new Map([["LineToolPriceNote",async()=>(await Promise.all([i.e(33038),i.e(25900),i.e(56386),i.e(380)]).then(i.bind(i,82618))).LineToolPriceNote]]);async function C(e){if(y[e])return;if(!y.hasOwnProperty(e))return;const t=(0,n.ensureDefined)(T.get(e));y[e]=await t()}async function P(e){if(!e)return;const t=new Set;("charts"in e?e.charts:[e]).forEach((e=>{e.panes.forEach((e=>{e.sources.forEach((e=>{(0,m.isLineToolName)(e.type)&&t.add(e.type)}))}))})),await Promise.all(Array.from(t).map((e=>C(e))))}function I(e,t,i,s,r,o){let a;if((0,n.assert)((0,m.isLineToolName)(e),"Unknown line tool: "+e),r||i||(i=w(e)||void 0),"LineToolVbPFixed"===e)a=new d.LineToolVbPFixed(t,i,(0,n.ensureDefined)(s),r,o);else if("LineToolFixedRangeVolumeProfile"===e)a=new h.LineToolFixedRangeVolumeProfile(t,i,(0,n.ensureDefined)(s),r,o);else if("LineToolRegressionTrend"===e)a=new c.LineToolRegressionTrend(t,i,(0,n.ensureDefined)(s),r,o);else if("LineToolAnchoredVWAP"===e)a=new _.LineToolAnchoredVWAP(t,i,(0,n.ensureDefined)(s),r,o);else if(e in p){a=new((0,n.ensureDefined)(p[e]))(t,i,(0,n.ensureDefined)(s),r,o)}else{a=new((0,n.ensureDefined)(y[e]))(t,i,r,o)}return a.toolname=e,S(),a}function k(e,t){const i=(0,n.ensureNotNull)(t.symbolSource());e.childs().symbol.setValue(i.symbol()),i.model().currencyConversionEnabled()&&e.childs().currencyId.setValue(i.currency()),i.model().unitConversionEnabled()&&e.childs().unitId.setValue(i.unit()),e.childs().symbolStateVersion.setValue(2),e.childs().zOrderVersion.setValue(2)}function E(e,t,i){if((0,n.assert)((0,m.isLineToolName)(e),`${e} should be name of the line tool`),
"LineToolVbPFixed"===e)return d.LineToolVbPFixed.createProperties(i,t);if("LineToolFixedRangeVolumeProfile"===e)return h.LineToolFixedRangeVolumeProfile.createProperties(i,t);if("LineToolRegressionTrend"===e)return c.LineToolRegressionTrend.createProperties(i,t);if("LineToolAnchoredVWAP"===e)return _.LineToolAnchoredVWAP.createProperties(i,t);if(e in p){return(0,n.ensureDefined)(p[e]).createProperties(t)}return(0,n.ensureDefined)(y[e]).createProperties(t)}function D(e,t,i,s,r){if((0,n.assert)((0,m.isStudyLineToolName)(e),`${e} should be name of the study line tool`),"LineToolVbPFixed"===e)return d.LineToolVbPFixed.createPropertiesFromStudyMetaInfoAndState(t,i,s,r);if("LineToolFixedRangeVolumeProfile"===e)return h.LineToolFixedRangeVolumeProfile.createPropertiesFromStudyMetaInfoAndState(t,i,s,r);if("LineToolRegressionTrend"===e)return c.LineToolRegressionTrend.createRegressionTrendPropertiesFromStudyMetaInfoAndState(t,i,s,r);if("LineToolAnchoredVWAP"===e)return _.LineToolAnchoredVWAP.createPropertiesFromStudyMetaInfoAndState(t,i,s,r);if(e in p){return(0,n.ensureDefined)(p[e]).createPropertiesFromStudyMetaInfoAndState(t,i,s,r)}throw new Error(`Property creation is not implemented for study line tool ${e}`)}function x(e){(0,n.assert)((0,m.isLineToolName)(e),`${e} should be name of the line tool`);const t=(s||(s=i.t(u,2)))[e];return void 0!==t&&Boolean(t.supportPhantomMode)}function A(e){return e instanceof l.LineDataSource}function L(e){return e instanceof a.StudyLineDataSource}function O(e){return e instanceof g.LineToolTrading}function R(e){let t=null;if(e===c.LineToolRegressionTrend.studyId()?t="LineToolRegressionTrend":e===d.LineToolVbPFixed.studyId()?t="LineToolVbPFixed":e===h.LineToolFixedRangeVolumeProfile.studyId()&&(t="LineToolFixedRangeVolumeProfile"),null===t)for(const t in p)if(p[t].studyId()===e)return t;return t}function N(e,t,i,s){const a=t.toolname,l=t.properties().state();l.intervalsVisibilities=(0,o.mergeIntervalVisibilitiesDefaults)(null==l?void 0:l.intervalsVisibilities);const u=E(t.toolname,l,e);u.childs().visible.setValue(!0);const c=(0,n.ensureNotNull)(t.ownerSource()),d=I(a,e,u);void 0!==s&&d.setId(s),d.setOwnerSource(c),d.toolname=a;const h=d.clonePositionOffset();if(t.isFixed()){const e=(0,n.ensureDefined)(t.fixedPoint()),s=i?e.add(new r.Point(h.xCoordOffset,h.yCoordOffset)):e;d.addFixedPoint(s)}const _=t.normalizedPoints(),p=i?function(e,t,i){const s=(0,n.ensureNotNull)(t.priceScale()),r=(0,n.ensureNotNull)(t.firstValue());return e.map((e=>{const t=e.price,n=s.priceToCoordinate(t,r)+i.yCoordOffset,o=s.coordinateToPrice(n,r);return{time_t:e.time_t,price:o,offset:e.offset+i.barOffset}}))}(_,c,h):_,g=t.points();return d.restorePoints(p,g),d.cloneData&&d.cloneData(t),d.recalculateStateByData&&d.recalculateStateByData(),d}function M(e,t){var i;return null!==(i=e.dataSources().find((e=>A(e)&&e.linkKey().value()===t)))&&void 0!==i?i:null}},251687:(e,t,i)=>{"use strict";i.d(t,{PinePerm:()=>l});i(823127);var s=i(120780),n=i(823127);const r="user__username";function o(e){const t=new FormData
;return t.append("pine_id",e.pine_id),t.append("username_recip",e.username_recip),e.expiration&&t.append("expiration",e.expiration),t}class a extends Error{constructor(e,t,i){super(e),this.title=i,this.code=t}}var l;!function(e){let t;!function(e){e.UserDoesNotHavePermission="user_does_not_have_permission",e.UserIsBanned="user_is_banned",e.Exists="exists"}(t=e.StatusCode||(e.StatusCode={})),e.add=function(e){return window.is_authenticated?(0,s.fetch)("/pine_perm/add/",{body:o(e),credentials:"include",method:"POST"}).then((e=>e.json().then((t=>{const i=t.status;if("exists"===i)throw new a(i,i);if(!e.ok)throw new a(t.detail,t.code,t.title)})))):Promise.reject()},e.remove=function(e,t){return window.is_authenticated?n.ajax({data:{pine_id:t,username_recip:e},dataType:"json",type:"POST",url:"/pine_perm/remove/"}):n.Deferred().reject()},e.listUsers=function(e){const{pineId:t,next:i,prev:s,username:o,orderBy:a=r,limit:l=10}=e;return!window.is_authenticated||s&&!i?n.Deferred().reject():n.ajax({data:{pine_id:t,username:o},dataType:"json",type:"POST",url:i||s?`${i}`:`/pine_perm/list_users/?limit=${l}&order_by=${a}`})},e.listScripts=function(){return window.is_authenticated?n.ajax({dataType:"json",type:"POST",url:"/pine_perm/list_scripts/"}):n.Deferred().reject()},e.modifyUserExpiration=function(e){return window.is_authenticated?(0,s.fetch)("/pine_perm/modify_user_expiration/",{body:o(e),credentials:"include",method:"POST"}).then((e=>{if(!e.ok)return e.json().then((e=>{throw Error(e.detail)}))})):Promise.reject()},e.numberOfUsersWithAccess=function(e){return window.is_authenticated?(0,s.fetch)(`/pine_perm/list_users/?pine_id=${e}`,{method:"GET"}).then((e=>e.ok?e.json():e.json().then((e=>{throw new a(e.detail)})))):Promise.reject()}}(l||(l={}))},356747:(e,t,i)=>{"use strict";i.r(t),i.d(t,{QuotesProvider:()=>o});var s=i(876332),n=i(707957),r=i(541558);class o{constructor(e="full"){this._quotes=null,this._quoteSessionSymbol=null,this._quoteSessionClientId="",this._pausedQuoteSessionSymbol=null,this._quotesUpdate=new n.Delegate,this._quoteSymbolChanged=new n.Delegate,this._multiplexerType=e}setQuotesSessionSymbol(e){this._quoteSessionSymbol!==e&&(this._pausedQuoteSessionSymbol=null,this._quoteSessionClientId||(this._quoteSessionClientId="series-"+(0,r.guid)()),this._unsubscribeQuoteSession(),this._quoteSessionSymbol=e,this._quoteSymbolChanged.fire(),e&&this._subscribeQuoteSession(e))}quotesUpdate(){return this._quotesUpdate}quoteSymbolChanged(){return this._quoteSymbolChanged}quotes(){return this._quotes}isPaused(){return null!==this._pausedQuoteSessionSymbol}pause(){null===this._pausedQuoteSessionSymbol&&(this._pausedQuoteSessionSymbol=this._quoteSessionSymbol,this._unsubscribeQuoteSession())}resume(){null!==this._pausedQuoteSessionSymbol&&(this._subscribeQuoteSession(this._pausedQuoteSessionSymbol),this._pausedQuoteSessionSymbol=null)}destroy(){this._unsubscribeQuoteSession()}_onUpdate(e,t){this._quotes=e&&e.values||null,t&&t.values&&this._quotesUpdate.fire(e,t)}_subscribeQuoteSession(e){this._quoteSessionSymbol=e,(0,
s.getQuoteSessionInstance)(this._multiplexerType).subscribe(this._quoteSessionClientId,this._quoteSessionSymbol,this._onUpdate.bind(this))}_unsubscribeQuoteSession(){this._quoteSessionSymbol&&((0,s.getQuoteSessionInstance)(this._multiplexerType).unsubscribe(this._quoteSessionClientId,this._quoteSessionSymbol),this._quoteSessionSymbol=null,this._quotes=null)}}},731042:(e,t,i)=>{"use strict";i.d(t,{compareResolutions:()=>O,convertResolutionsFromSettings:()=>D,getApplicableIntervalForFrequency:()=>C,getDefaultResolution:()=>w,getMaxResolutionValue:()=>E,getResolutionByChartStyle:()=>T,getServerInterval:()=>P,getTranslatedResolution:()=>R,getTranslatedResolutionModel:()=>N,intervalIsSupported:()=>U,isAvailable:()=>b,isIntervalEnabled:()=>W,isResolutionMultiplierValid:()=>I,isSecondsEnabled:()=>F,mergeResolutions:()=>x,normalizeIntervalString:()=>v,parseIntervalValue:()=>V,setLastUsedResolution:()=>S,sortResolutions:()=>A});var s=i(777754),n=i(223699),r=i(444331),o=i(62802),a=i(583912),l=i(337779),u=i(638456),c=i(125226),d=i(389137),h=i(244842);const _=[1,5,10,15,30],p=[1,10,100,1e3],g=(0,c.isFeatureEnabled)("tick_intervals")&&!(0,u.onWidget)(),m={[n.ResolutionKind.Ticks]:1,[n.ResolutionKind.Seconds]:60,[n.ResolutionKind.Minutes]:1440,[n.SpecialResolutionKind.Hours]:24,[n.ResolutionKind.Days]:365,[n.ResolutionKind.Weeks]:52,[n.ResolutionKind.Months]:12,[n.ResolutionKind.Range]:1e6,[n.ResolutionKind.Invalid]:NaN},f={[n.ResolutionKind.Ticks]:0,[n.ResolutionKind.Seconds]:1,[n.ResolutionKind.Minutes]:2,[n.SpecialResolutionKind.Hours]:3,[n.ResolutionKind.Days]:4,[n.ResolutionKind.Weeks]:5,[n.ResolutionKind.Months]:6,[n.ResolutionKind.Range]:7,[n.ResolutionKind.Invalid]:8},y={[n.ResolutionKind.Invalid]:"",[n.ResolutionKind.Ticks]:s.t(null,{context:"interval_short"},i(959231)),[n.ResolutionKind.Seconds]:s.t(null,{context:"interval_short"},i(2949)),[n.ResolutionKind.Minutes]:s.t(null,{context:"interval_short"},i(806791)),[n.SpecialResolutionKind.Hours]:s.t(null,{context:"interval_short"},i(113994)),[n.ResolutionKind.Days]:s.t(null,{context:"interval_short"},i(713395)),[n.ResolutionKind.Weeks]:s.t(null,{context:"interval_short"},i(185521)),[n.ResolutionKind.Months]:s.t(null,{context:"interval_short"},i(137720)),[n.ResolutionKind.Range]:s.t(null,{context:"interval_short"},i(269838))};function v(e){return n.Interval.parse(e).value()}function b(e){const t=n.Interval.parse(e);if(t.isRange())return a.linking.range.value();const i=t.value(),s=a.linking.dataFrequencyResolution.value();if(void 0!==s&&O(i,s)<0)return!1;const r=a.linking.supportedResolutions.value();return void 0!==r?void 0!==r.find((e=>v(e)===i)):t.isIntraday()?Boolean(a.linking.intraday.value()):t.isDWM()}function S(e){n.Interval.isValid(e)&&(n.Interval.isRange(e)?o.setValue("chart.lastUsedRangeResolution",e):o.setValue("chart.lastUsedTimeBasedResolution",e))}function w(e){return e?"100R":"1D"}function T(e,t,i){const s=r.isRangeStyle(e),a=n.Interval.isRange(t);return!s&&a?function(e){const t=o.getValue("chart.lastUsedTimeBasedResolution")
;if(void 0!==t&&n.Interval.isTimeBased(t))return t;let i="1D";for(const t of e){const e=n.Interval.parse(t);if(e.isTimeBased()){const t=e.value();if("1D"===t)return t;i=t}}return i}(i):s&&!a?function(e){const t=o.getValue("chart.lastUsedRangeResolution");if(void 0!==t&&n.Interval.isRange(t))return t;let i="100R";for(const t of e){const e=n.Interval.parse(t);if(e.isRange()){const t=e.value();if("100R"===t)return t;i=t}}return i}(i):t}function C(e,t){return O(t,e)>=0?t:e}function P(e){return n.Interval.isRange(e)?"1":e}function I(e){const{interval:t,guiResolutionKind:i}=n.Interval.parseExt(e);if(!t.isValid())return!1;const s=t.multiplier();if(i===n.ResolutionKind.Seconds)return _.includes(s);if(g&&i===n.ResolutionKind.Ticks)return p.includes(s);return(i===n.SpecialResolutionKind.Hours?s/60:s)<=k(i)}function k(e){const t=m[e];return Number.isNaN(t)?1:t}function E(e){return k(n.Interval.parseExt(e).guiResolutionKind)}function D(e){return Array.isArray(e)?e:Object.keys(e).map(n.Interval.normalize).filter(d.notNull)}function x(...e){let t=[].concat(...e);return t=(0,l.uniq)(t.filter(I).map(v)),A(t)}function A(e){return e.sort(O)}function L(e){const t=n.Interval.parse(e),i=t.multiplier()||1;return t.isMinuteHours()?[n.SpecialResolutionKind.Hours,i/60]:[t.kind(),i]}function O(e,t){if(e===t)return 0;const[i,s]=L(e),[n,r]=L(t);return i!==n?f[i]-f[n]:s-r}function R(e){const{multiplier:t,shortKind:i}=N(e);return`${t}${i}`}function N(e,t){const i=n.Interval.parse(e);let s=i.multiplier(),r=i.kind();if(!i.isValid()){if(t)return null;throw new TypeError("Can't translate invalid interval")}return i.isMinuteHours()&&(s=Math.floor(s/60),r=n.SpecialResolutionKind.Hours),{multiplier:s.toString(),shortKind:M(r),hint:`${s} ${M(r,s)}`,mayOmitMultiplier:i.isDWM()&&1===s,mayOmitShortKind:i.isMinutes()&&!i.isMinuteHours()}}function M(e,t){if(!t)return y[e];switch(e){case n.ResolutionKind.Ticks:return s.t(null,{plural:"ticks",count:t},i(699136));case n.ResolutionKind.Days:return s.t(null,{plural:"days",count:t},i(730572));case n.ResolutionKind.Weeks:return s.t(null,{plural:"weeks",count:t},i(947966));case n.ResolutionKind.Months:return s.t(null,{plural:"months",count:t},i(99062));case n.ResolutionKind.Seconds:return s.t(null,{plural:"seconds",count:t},i(671787));case n.ResolutionKind.Minutes:return s.t(null,{plural:"minutes",count:t},i(569143));case n.SpecialResolutionKind.Hours:return s.t(null,{plural:"hours",count:t},i(52254));case n.ResolutionKind.Range:return s.t(null,{plural:"ranges",count:t},i(682797));default:return e}}function F(){return!0}function W(e){return!0}function V(e){let t;t=g?/^[,\s]*(^[1-9][0-9]*)?\s*([hdwmsrt]?)\s*$/i:/^[,\s]*(^[1-9][0-9]*)?\s*([hdwmsr]?)\s*$/i;const i=t.exec(e)||[],s=~~i[1],n=i[2]&&i[2].toUpperCase()||null,r={qty:!s&&n?1:s,unit:n};return r.error=!s&&!n,r.intraday=!(r.error||r.unit&&"H"!==r.unit&&"S"!==r.unit&&"T"!==r.unit),r.range="R"===r.unit,r}function U(e){if(h.enabled("allow_supported_resolutions_set_only")){const t=n.Interval.normalize(e);return null!==t&&b(t)}{const t=V(e);if(t.error)return!1
;if(!h.enabled("custom_resolutions")){const t=n.Interval.normalize(e),i=window.ChartApiInstance.defaultResolutions().filter(W);if(!t||-1===i.indexOf(t))return!1}const i=a.linking.dataFrequencyResolution.value();if(void 0!==i&&null!==t.unit&&C(i,t.unit)!==t.unit)return!1;if(t.range)return a.linking.range.value();if(t.intraday)return a.linking.intraday.value();{const e=a.linking.supportedResolutions.value();return!e||null!==t.unit&&!!~e.indexOf(t.unit)}}}},444331:(e,t,i)=>{"use strict";i.r(t),i.d(t,{actualSymbol:()=>de,chartStyleStudyId:()=>U,createSeriesFormatter:()=>$,displayedSymbolExchange:()=>ce,displayedSymbolName:()=>ue,extractSymbolNameFromSymbolInfo:()=>ae,getChartStyleByResolution:()=>V,getDefaultStyle:()=>W,getLastUsedRawDataStyle:()=>F,getLastUsedSingleValueBasedStyle:()=>M,getLastUsedStyle:()=>N,getSeriesDisplayErrorWV:()=>Te,getSeriesPriceFormattingState:()=>q,getStudySymbolExchange:()=>be,getTranslatedChartStyleName:()=>P,hasProjection:()=>z,hasVolume:()=>ye,isCloseBasedSymbol:()=>ge,isConvertedToOtherCurrency:()=>Q,isConvertedToOtherUnit:()=>te,isEconomicSymbol:()=>ve,isFutureContinuousSymbolWithBackajustment:()=>Se,isFuturesContractSymbol:()=>we,isMeasureUnitSymbol:()=>me,isPriceSourceStyle:()=>j,isRangeBasedStyle:()=>k,isRangeStyle:()=>E,isRawDataStyle:()=>L,isRegularSessionId:()=>pe,isRequiringRestartSeriesStyles:()=>I,isSingleValueBasedStyle:()=>A,isTimeBasedStyle:()=>D,isValidStyle:()=>x,measureUnitId:()=>fe,preparePriceAxisProperties:()=>B,proSymbol:()=>he,setLastUsedRawDataStyle:()=>R,setLastUsedStyle:()=>O,symbolBaseCurrency:()=>J,symbolCurrency:()=>Y,symbolCurrencyConvertible:()=>K,symbolCurrentContract:()=>se,symbolForApi:()=>_e,symbolHasEconomicEvents:()=>oe,symbolHasPreOrPostMarket:()=>ne,symbolHasSeveralSessions:()=>re,symbolOriginalCurrency:()=>G,symbolOriginalUnit:()=>ee,symbolTitle:()=>le,symbolUnit:()=>Z,symbolUnitConvertible:()=>X,symbolUnitConvertibleGroupsIfExist:()=>ie});var s=i(777754),n=i(62802),r=i(519073),o=i(339315),a=i(223699),l=i(624444),u=i(244842),c=i(650151),d=i(943994),h=i(541346),_=i(181728),p=i(66732),g=i(824837);const m=u.enabled("pay_attention_to_ticker_not_symbol"),f=u.enabled("uppercase_instrument_names"),y=u.enabled("charting_library_single_symbol_request"),v=u.enabled("use_ticker_on_symbol_info_update"),b=u.enabled("hide_object_tree_and_price_scale_exchange_label"),S=[4,5,6,7,8],w=[4,5,6,7,11],T=[0,1,9,2,14,15,3,16,10,8,12,13],C=[2,14,15,10,3,13];function P(e){return{0:s.t(null,void 0,i(16812)),1:s.t(null,void 0,i(463528)),2:s.t(null,void 0,i(301277)),14:s.t(null,void 0,i(938397)),15:s.t(null,void 0,i(79511)),3:s.t(null,void 0,i(542097)),16:s.t(null,void 0,i(134911)),9:s.t(null,void 0,i(661582)),10:s.t(null,void 0,i(117712)),12:s.t(null,void 0,i(631994)),13:s.t(null,void 0,i(636018)),4:s.t(null,void 0,i(20801)),7:s.t(null,void 0,i(563492)),5:s.t(null,void 0,i(292901)),6:s.t(null,void 0,i(99969)),11:s.t(null,void 0,i(490357)),8:s.t(null,void 0,i(240530))}[e]}function I(e){return-1!==S.indexOf(e)}function k(e){return-1!==w.indexOf(e)}function E(e){return 11===e}
function D(e){return-1!==T.indexOf(e)}function x(e){return k(e)||D(e)}function A(e){switch(e){case 3:case 10:case 2:case 14:case 15:case 13:return!0;default:return!1}}function L(e){return!o.SYMBOL_STRING_DATA[e]}function O(e,t){x(e)&&(11!==e&&n.setValue("chart.lastUsedStyle",e),L(e)&&R(e),ge(t)&&A(e)&&n.setValue("chart.lastUsedSingleValueBasedStyle",e))}function R(e){n.setValue("chart.rawDataStyle",e)}function N(){const e=n.getInt("chart.lastUsedStyle");return void 0===e?1:e}function M(){const e=n.getInt("chart.lastUsedSingleValueBasedStyle");return void 0===e?14:e}function F(){return n.getInt("chart.rawDataStyle",1)}function W(e){return e?11:1}function V(e,t){const i=E(t),s=a.Interval.isRange(e);return!i&&s?W(!0):i&&!s?W(!1):t}function U(e,t){const i=o.SYMBOL_STRING_DATA[e];return void 0===i?null:t?`${i.type}-${i.basicStudyVersion}`:i.type}function B(e){const t=e.priceAxisProperties,i=t.lockScale.value(),s=6===e.style.value();(s||i)&&(t.log.setValue(!1),t.percentage.setValue(!1)),t.logDisabled.setValue(!(!s&&!i)),t.percentageDisabled.setValue(!(!s&&!i))}const H=[4,7,5,6];function z(e){return-1!==H.indexOf(e)}function j(e){return C.includes(e)}function q(e,t="default",i=!1){let s,n,r,o=100,a=1;if("default"===t)null!=e&&(({pricescale:o,minmov:a,minmove2:n,fractional:s}=e),r=e.variable_tick_size||void 0);else{let e=t.split(",");3!==e.length&&(e=["100","1","false"]),o=parseInt(e[0]),a=parseInt(e[1]),s="true"===e[2]}return i&&(a=1),{priceScale:o,minMove:a,fractional:s,minMove2:n,variableMinTick:r,ignoreMinMove:i}}function $(e,t,i=!1){if("default"===t&&null!=e){const t=e.formatter||e.format;if("volume"===t)return new d.VolumeFormatter(2);if("percent"===t)return new h.PercentageFormatter(e.pricescale)}const{priceScale:s,minMove:n,fractional:r,minMove2:o,variableMinTick:a}=q(e,t,i);return new l.PriceFormatter(s,n,r,o,a,i)}function K(e){return null!==e&&"spread"!==e.type}function Y(e,t,i){if(null===e)return null;const s=!t||i?e.currency_id:e.currency_code;return void 0===s||""===s||"pct"===s?null:s}function G(e,t){const i=t?e.original_currency_code:e.original_currency_id;return"pct"===i?null:null!=i?i:Y(e,t)}function J(e){return e.base_currency_id||null}function Q(e){return!(null===e||!K(e))&&(void 0!==e.original_currency_id&&e.original_currency_id!==e.currency_id)}function X(e,t){return t&&null!==e&&"spread"!==e.type}function Z(e,t){if(null===e||!t)return null;const i=e.unit_id;return void 0===i||""===i?null:i}function ee(e,t){return t?e.original_unit_id||Z(e,t):null}function te(e,t){return!(null===e||!X(e,t))&&(void 0!==e.original_unit_id&&e.original_unit_id!==e.unit_id)}function ie(e,t){return null!==e&&X(e,t)?e.unit_conversion_types||null:[]}function se(e){return"futures"===e.type&&e.front_contract||null}function ne(e){return null!==e&&void 0!==e.subsessions&&e.subsessions.some((e=>"premarket"===e.id||"postmarket"===e.id))}function re(e){return null!==e&&void 0!==e.subsessions&&e.subsessions.filter((e=>!e.private)).length>1}function oe(e){return null!==e&&("forex"===e.type||(0,_.isCFDSymbol)(e.type,e.typespecs)||(0,
r.hasCryptoTypespec)(e.typespecs||[]))}function ae(e,t){let i=e&&(e.pro_name||e.full_name||e.name);return y&&t?i=t:v&&e&&e.ticker&&(i=e.ticker),f&&i&&(i=i.toUpperCase()),i}function le(e,t,i="exchange"){return t||b?e.name:`${e.name}, ${e[i]}`}function ue(e){let t=e&&(se(e)||e.name)||"";return t.length>40&&(t=t.substring(0,37)+"..."),t.trim()}function ce(e){const t=e?e.exchange:"";return f?t.toUpperCase():t}function de(e,t){return null!==e?e.full_name:t}function he(e,t){var i;return null!==(i=null==e?void 0:e.pro_name)&&void 0!==i?i:t}function _e(e,t){return m&&e?(0,c.ensureDefined)(e.ticker):de(e,t)}function pe(e){return"regular"===e||"us_regular"===e}function ge(e){return"c"===(null==e?void 0:e.visible_plots_set)}function me(e){return null!==e&&("unit"===e.measure&&null!==fe(e))}function fe(e){var t;return null!==(t=null==e?void 0:e.value_unit_id)&&void 0!==t?t:null}function ye(e){return void 0!==e.visible_plots_set&&"ohlcv"===e.visible_plots_set}function ve(e){return null!==e&&"economic"===e.type}function be(e){return ve(e)&&e.source?e.source:e.exchange&&0!==e.exchange.length?e.exchange:void 0}function Se(e){var t;return null!==e&&"futures"===e.type&&Boolean(e.has_backadjustment&&(null===(t=e.typespecs)||void 0===t?void 0:t.includes("continuous")))}function we(e){var t;return null!==e&&"futures"===e.type&&!Boolean(null===(t=e.typespecs)||void 0===t?void 0:t.includes("continuous"))}function Te(e){return(0,p.combine)(((t,i)=>{switch(t){case 4:{const t=e.seriesErrorMessage();return null!==t&&("resolution_not_entitled"===t||"custom_resolution"===t||"seconds_not_entitled"===t||t.startsWith("study_not_auth:"))?null:"invalid_symbol"}case 1:case 2:return null;default:if(i)return"no_data"}return null}),(0,g.createWVFromGetterAndSubscription)((()=>e.status()),e.onStatusChanged()).ownership(),(0,g.createWVFromGetterAndSubscription)((()=>!e.bars().size()&&!e.isInReplay()),e.dataEvents().dataUpdated()).ownership(),(0,g.createWVFromGetterAndSubscription)((()=>({})),e.model().onChartThemeLoaded()).ownership())}},440617:(e,t,i)=>{"use strict";var s=i(354950);TradingView.DEFAULT_BAR_COUNT=300,TradingView.TIME_PLOT=0,TradingView.OPEN_PLOT=1,TradingView.HIGH_PLOT=2,TradingView.LOW_PLOT=3,TradingView.CLOSE_PLOT=4,TradingView.ADT_PLOT=6;var n=i(199833).SeriesBase,r=i(345848).trackEvent,o=i(201089).getLogger("Chart.Series"),a=i(339315),l=i(195543).SeriesHorizontalBaseLinePaneView,u=i(329806).deepExtend,c=i(251954),d=i(315347).TIMEFRAMETYPE,h=i(444331).isSingleValueBasedStyle;class _ extends n{constructor(e,t,i,s){t.removeProperty("currencyId"),super(e,t,i,s),this._chartApi=e._chartApi,this.createPaneView(),this._properties.addExclusion&&(this._properties.addExclusion("visible"),this._properties.addExclusion("currencyId")),this._futureBarsPaneView=null,this.properties().minTick.listeners().subscribe(this,_.prototype._recreateFormatter);var n=this;this.properties().minTick.listeners().subscribe(null,(function(){n._model.fullUpdate()})),this._priceLineView=null,this._baseHorizontalLineView=new l(this),this.bindStyleChange(),
this.bindJapChartsInputs(),this._createIsDWMProperty(),this.createDividendsAdjustmentProperty(),this.dividendsAdjustment.listeners().subscribe(this,(function(){this.restart()})),this._dataPoweredBy=null,this.properties().showCountdown.listeners().subscribe(this,_.prototype._onChangeShowCountdown),this._onChangeShowCountdown(this.properties().showCountdown),this._recreatePriceFormattingDependencies(),this.properties().lineStyle.priceSource.listeners().subscribe(this,this._updateBarFunction),this.properties().lineWithMarkersStyle.priceSource.listeners().subscribe(this,this._updateBarFunction),this.properties().steplineStyle.priceSource.listeners().subscribe(this,this._updateBarFunction),this.properties().areaStyle.priceSource.listeners().subscribe(this,this._updateBarFunction),this.properties().baselineStyle.priceSource.listeners().subscribe(this,this._updateBarFunction),this.properties().columnStyle.priceSource.listeners().subscribe(this,this._updateBarFunction),this._updateBarFunction()}isLoading(){return this._loading}styleStudyInfo(e){return this.styleStudyInfos()[e]}serverTimeOffset(){return this._chartApi.serverTimeOffset()}_onChangeShowCountdown(e){var t=this;e.value()?this._countdownUpdateTimer=this._model.setInterval((function(){t._priceAxisView.updateCountdown()}),500):(this._model.clearInterval(this._countdownUpdateTimer),delete this._countdownUpdateTimer)}_createIsDWMProperty(){this._isDWMProperty=new s(this.isDWM()),this._onRestarted.subscribe(this,(function(){this._isDWMProperty.setValue(this.isDWM())}))}isDWMProperty(){return this._isDWMProperty}isPulse(){return this._symbolInfo&&this._symbolInfo.resolutions.length>0}seriesSource(){return this._seriesSource}_onSeriesTimeFrame(e,t,i,s,n){var r=h(this.style())?e+.5:e,o=t;if(void 0===n)null!==i&&i.type!==d.PeriodBack||(o+=this._model.studyAwareDefaultRightOffset());else if(n.applyDefaultRightMargin)o+=this._model.studyAwareDefaultRightOffset();else if(n.percentRightMargin){var a=t-r+1,l=Math.max(0,Math.min(.99,n.percentRightMargin/100));o+=l*a/(1-l)}this._model.setTimeViewport(r,o)}hl2(e){return(this.high(e)+this.low(e))/2}hlc3(e){return(this.high(e)+this.low(e)+this.close(e))/3}ohlc4(e){return(this.open(e)+this.high(e)+this.low(e)+this.close(e))/4}nearestData(e,t){if(TradingView.isInteger(e)){var i=this.data().search(e,t);return null!==i?i:void 0}o.logDebug("Series.nearestData: incorrect logicalPoint")}nearestIndex(e,t){var i=this.nearestData(e,t);return i?i.index:void 0}purgeSymbolInfo(){this._symbolInfo=null}bindStyleChange(){var e=this;Object.keys(_.STYLE_SHORT_NAMES).map((function(e){return _.STYLE_SHORT_NAMES[e]+"Style"})).forEach((function(t){e._properties[t].listeners().subscribe(e,_.prototype.invalidateBarStylesCache)}))}bindJapChartsInputs(){this._properties.renkoStyle.inputs.boxSize.listeners().subscribe(this,this.onInputChanged),this._properties.renkoStyle.inputs.style.listeners().subscribe(this,this.onInputChanged),this._properties.renkoStyle.inputs.atrLength.listeners().subscribe(this,this.onInputChanged),
this._properties.renkoStyle.inputs.wicks.listeners().subscribe(this,this.onInputChanged),this._properties.renkoStyle.inputs.sources.listeners().subscribe(this,this.onInputChanged),this._properties.pbStyle.inputs.lb.listeners().subscribe(this,this.onInputChanged),this._properties.kagiStyle.inputs.reversalAmount.listeners().subscribe(this,this.onInputChanged),this._properties.kagiStyle.inputs.style.listeners().subscribe(this,this.onInputChanged),this._properties.kagiStyle.inputs.atrLength.listeners().subscribe(this,this.onInputChanged),this._properties.pnfStyle.inputs.boxSize.listeners().subscribe(this,this.onInputChanged),this._properties.pnfStyle.inputs.reversalAmount.listeners().subscribe(this,this.onInputChanged),this._properties.pnfStyle.inputs.sources.listeners().subscribe(this,this.onInputChanged),this._properties.pnfStyle.inputs.style.listeners().subscribe(this,this.onInputChanged),this._properties.pnfStyle.inputs.atrLength.listeners().subscribe(this,this.onInputChanged),this._properties.pnfStyle.inputs.oneStepBackBuilding.listeners().subscribe(this,this.onInputChanged),this._properties.rangeStyle.inputs.phantomBars.listeners().subscribe(this,this.onInputChanged)}createDividendsAdjustmentProperty(){var e=this;e.dividendsAdjustment=new s;var t=function(){var t=e._properties.dividendsAdjustment.value();e.dividendsAdjustment.setValue(t),r("Dividends adjust",!0===t?"On":"Off")};e._properties.dividendsAdjustment.listeners().subscribe(null,t),t()}dividendsAdjustmentProperty(){return this._properties.dividendsAdjustment}applyPreferences(e){var t=u({},e);this.m_priceScale.setMode({autoScale:t.priceAxisProperties.autoScale,percentage:t.priceAxisProperties.percentage,log:t.priceAxisProperties.log,lockScale:t.priceAxisProperties.lockScale}),this.setChartStyleWithIntervalIfNeeded(t.style),delete t.style,delete t.interval,this._properties.mergePreferences(t),this._properties.saveDefaults(),this.createPaneView(),this.invalidateBarStylesCache()}onInputChanged(){this.restart()}getStyleShortName(){var e=this._properties.style.value();if(_.STYLE_SHORT_NAMES.hasOwnProperty(e))return _.STYLE_SHORT_NAMES[e];throw new Error("Missed short name for style "+e)}getStyleProperties(){return this._properties[this.getStyleShortName()+"Style"]}getInputsProperties(){return this.getStyleProperties().inputs||new s}getInputsInfoProperties(){return this.getStyleProperties().inputInfo||new s}getSymbolName(){return this._symbolInfo?this._symbolInfo.name:""}priceScale(){return this.m_priceScale}setPriceScale(e){this.m_priceScale!==e&&(this._priceScaleAboutToBeChanged.fire(),this.m_priceScale=e,this._properties.removeProperty("priceAxisProperties"),this._properties.addChild("priceAxisProperties",e.properties()),this._properties.priceAxisProperties.childChanged(),c.emit("series_event","price_scale_changed"),this._priceScaleChanged.fire(e))}getSourceIcon(){return{type:"loadSvg",svgId:"series."+this.properties().style.value()}}isStyleSupported(e){return!this.isInReplay()||this.isStyleSupportedForReplay(e)}destroy(){
this._quotesProvider.quotesUpdate().unsubscribeAll(this),this._quotesProvider.destroy(),this.clearGotoDateResult(),this._legendView.destroy(),this._marketStatusModel.destroy(),null!==this._dataUpdatedModeModel&&this._dataUpdatedModeModel.destroy(),this._dataProblemModel.destroy(),this._paneView&&this._paneView.destroy&&this._paneView.destroy(),this._seriesSource.destroy(),super.destroy()}dataEvents(){return this._seriesSource.dataEvents()}moveData(e){return this._seriesSource.moveData(e)}}Object.assign(_,a),TradingView.Series=_,t.Series=_,t.isSeries=function(e){return e instanceof _}},175878:(e,t,i)=>{"use strict";i.d(t,{SeriesDataSource:()=>y,initialRequestOptionsToNumBars:()=>f,parseJapaneseProjectionBars:()=>v});var s=i(650151),n=i(389137),r=i(919892),o=i(223699),a=i(544421),l=i(178389),u=i(826989),c=i(442410),d=i(201089),h=i(444331);const _=(0,d.getLogger)("Chart.SeriesDataSource");var p;!function(e){e[e.Idle=0]="Idle",e[e.AwaitingConnection=1]="AwaitingConnection",e[e.AwaitingFirstDataUpdate=2]="AwaitingFirstDataUpdate",e[e.Active=3]="Active"}(p||(p={}));let g=1;let m=1;function f(e){return e.startDate?e.endDate||e.count?e.endDate?["from_to",e.startDate,e.endDate]:["bar_count",e.startDate,(0,s.ensure)(e.count)]:["from_to",e.startDate]:e.count||300}class y{constructor(e,t,i,s){this._symbol=null,this._resolvedSymbolName=null,this._createSeriesOverriddenParams=0,this._instanceId=null,this._symbolInstanceId=null,this._resolution=null,this._timeFrame=null,this._data=new a.SeriesData,this._dataEvents=new c.SeriesDataEvents,this._status=p.Idle,this._turnaroundCounter=1,this._boundOnGatewayIsConnectedChanged=this._onGatewayIsConnectedChanged.bind(this),this._ongoingDataUpdate=Promise.resolve(),this._gateway=e,this._turnaroundPrefix=t,this._createSeriesParams=f(null!=i?i:{count:300}),this._timeFrame=s||null,this._gateway.isConnected().subscribe(this._boundOnGatewayIsConnectedChanged)}destroy(){this.stop(),this._gateway.isConnected().unsubscribe(this._boundOnGatewayIsConnectedChanged)}modifySeries(e,t,i=null,r=!1){r&&(_.logNormal("Due to force flag clearing symbol & resolution to force re-requesting data."),this._symbol=null,this._resolution=null);const a=this._symbol,l=this._resolution;if(this._symbol=e,this._resolution=t,null===this._instanceId)return void(this._timeFrame=i);const u=!(0,n.deepEquals)(a,e)[0]||null!==this._resolvedSymbolName&&this._resolvedSymbolName!==this._getSymbolNameString(e),c=null===l||!o.Interval.isEqual(l,t);(u||c||null!==i)&&(this._timeFrame=null,(u||c)&&this._turnaroundCounter++,u&&this._resolveSymbol(),this._gateway.modifySeries(this._instanceId,this.turnaround(),(0,s.ensureNotNull)(this._symbolInstanceId),this._resolution,i,this._onMessage.bind(this)),this._dataEvents.fireModified())}requestMoreData(e){null!==this._instanceId&&this._gateway.requestMoreData(this._instanceId,e,this._onMessage.bind(this))}requestMoreTickmarks(e){null!==this._instanceId&&this._gateway.requestMoreTickmarks(this._instanceId,e,this._onMessage.bind(this))}isStarted(){return this._status!==p.Idle}isActive(){
return this._status===p.Active}resolution(){return this._resolution}start(){this.isStarted()?_.logNormal("start: data source is already started, nothing to do"):((0,s.assert)(null!==this._symbol,"symbol must be set before start"),(0,s.assert)(null!==this._resolution,"resolution must be set before start"),this._gateway.isConnected().value()?this._createSeries():this._changeStatusTo(p.AwaitingConnection))}stop(){this.isStarted()?(null!==this._instanceId&&(this._gateway.removeSeries(this._instanceId),this._instanceId=null),this._changeStatusTo(p.Idle)):_.logNormal("stop: data source is already stopped, nothing to do")}instanceId(){return this._instanceId}data(){return this._data}clearData(){this.isStarted()?this._enqueueUpdate((()=>this._clearDataImpl())):this._clearDataImpl()}dataEvents(){return this._dataEvents}turnaround(){return`${this._turnaroundPrefix}${this._turnaroundCounter}`}symbolInstanceId(){return this._symbolInstanceId}symbol(){return this._symbol}moveData(e){this._enqueueUpdate((()=>this._data.moveData(e)))}setInitialRequestOptions(e){this._createSeriesOverriddenParams=f(e)}_resolveSymbol(){null!==this._symbol&&(this._symbolInstanceId=this._gateway.resolveSymbol("sds_sym_"+g++,(0,r.encodeExtendedSymbolOrGetSimpleSymbolString)(this._symbol),this._onMessage.bind(this)))}_clearDataImpl(){this._data.clear()}_changeStatusTo(e){(0,s.assert)(this._status!==e,"Source and destination status should be distinct"),_.logNormal(`Status changed from ${p[this._status]} to ${p[e]}`),this._status=e}_createSeries(){(0,s.assert)(this._status!==p.Active,'Status should not be "Active" when creating a study'),this._instanceId="sds_"+m++,this._resolveSymbol();const e=this._createSeriesOverriddenParams||this._createSeriesParams;this._createSeriesOverriddenParams&&(this._createSeriesOverriddenParams=0),this._gateway.createSeries(this._instanceId,this.turnaround(),(0,s.ensureNotNull)(this._symbolInstanceId),(0,s.ensureNotNull)(this._resolution),e,this._timeFrame,this._onMessage.bind(this)),this._timeFrame=null,this._changeStatusTo(p.AwaitingFirstDataUpdate),this._dataEvents.fireCreated(this._instanceId)}_onGatewayIsConnectedChanged(e){e?this._onGatewayConnected():this._onGatewayDisconnected()}_onGatewayConnected(){this._status===p.AwaitingConnection&&this._createSeries()}_onGatewayDisconnected(){this._status!==p.Idle&&this._status!==p.AwaitingConnection&&(this._instanceId=null,this._changeStatusTo(p.AwaitingConnection)),this._turnaroundCounter=1}_onMessage(e){this._enqueueUpdate((()=>this._onMessageImpl(e)))}async _onMessageImpl(e){switch(e.method){case"symbol_resolved":{const[t,i]=e.params;if(t!==this._symbolInstanceId){_.logNormal(`Resolve for old symbol, expected: ${this._symbolInstanceId}, actual ${e.params[0]}`);break}this._onSymbolResolved(i);break}case"symbol_error":if(e.params[0]!==this._symbolInstanceId){_.logNormal(`Symbol error for old symbol, expected: ${this._symbolInstanceId}, actual ${e.params[0]}`);break}this._onSymbolError(e);break;case"series_timeframe":{const[t,i,s,n,r,o,a]=e.params
;if(!this._checkTurnaround(t,i)){_.logNormal(`Time frame for old data, expected: ${this._symbolInstanceId} (${this.turnaround()}), actual ${t} (${i})`);break}this._onSeriesTimeFrame(s,n,r,o,a);break}case"series_error":{const[t,i]=e.params;if(!this._checkTurnaround(t,i)){_.logNormal(`Series error for old data, expected: ${this._symbolInstanceId} (${this.turnaround()}), actual ${t} (${i})`);break}this._onSeriesError(e.params[2]);break}case"series_loading":{const[t,i]=e.params;if(!this._checkTurnaround(t,i))break;this._onSeriesLoading(e.time);break}case"series_completed":{const[t,i,s,n]=e.params;if(!this._checkTurnaround(t,s)){_.logNormal(`Series completed for old data, expected: ${this._symbolInstanceId} (${this.turnaround()}), actual ${t} (${s})`);break}this._onSeriesCompleted(i,e.time,n);break}case"data_update":if(!this._checkTurnaround(e.params.customId,e.params.turnaround)){_.logNormal(`Data update for old data, expected: ${this._symbolInstanceId} (${this.turnaround()}), actual ${e.params.customId} (${e.params.turnaround})`);break}await this._onDataUpdate(e.params.plots,e.params.nonseries,e.params.lastBar);break;case"clear_data":if(e.params.turnaround!==this.turnaround()){_.logNormal(`Clear data for old data, expected: ${this.turnaround()}, actual ${e.params.turnaround}`);break}this._clearDataImpl(),this._dataEvents.fireDataUpdated(void 0,!1,null)}}_onSeriesError(e){let t,i;if("string"==typeof e)i={error:e},t=e;else if(i=e,e.ctx){const i={};Object.entries(e.ctx).forEach((([e,t])=>{i[e]=t.toString()})),t=e.error.format(i)}else t=e.error;if(t.startsWith("study_not_auth:")){const e=t.split(":",2)[1].split("@",2)[0];if(["BarSetRenko","BarSetPriceBreak","BarSetKagi","BarSetPnF"].includes(e))this._dataEvents.fireChartTypeNotPermitted(e);else if("BarSetSpread"===e)this._dataEvents.fireIntradaySpreadNotPermitted();else if("BarSetRange"===e){const e=`${(0,s.ensureNotNull)(this._symbol).inputs.range}R`;this._dataEvents.fireCustomIntervalNotPermitted(e)}}else"resolution_not_entitled"===t?this._dataEvents.fireIntradayExchangeNotPermitted():"custom_resolution"===t?this._dataEvents.fireCustomIntervalNotPermitted((0,s.ensureNotNull)(this._resolution)):"seconds_not_entitled"===t&&this._dataEvents.fireSecondsIntervalNotPermitted();this._dataEvents.fireSeriesError(i)}_onSeriesTimeFrame(e,t,i,s,n){this._dataEvents.fireSeriesTimeFrame(e,t,i,null==s||s,n)}_onSymbolError(e){if(e.params[1]===u.permissionDenied)switch(e.params[2]){case u.SymbolErrorPermissionDeniedReason.Symbol:this._dataEvents.fireSymbolNotPermitted(e.params[3]);break;case u.SymbolErrorPermissionDeniedReason.GroupPermission:this._dataEvents.fireSymbolGroupNotPermitted(e.params[3]);break;default:this._dataEvents.fireSymbolNotPermitted(e.params[2])}else e.params[1]===u.invalidSymbol&&this._dataEvents.fireSymbolInvalid();this._dataEvents.fireSymbolError(e.params[1])}_onSymbolResolved(e){this._resolvedSymbolName=(0,h.symbolForApi)(e,this._getSymbolNameString((0,s.ensureNotNull)(this._symbol))),this._dataEvents.fireSymbolResolved(e)}_getSymbolNameString(e){
return"string"==typeof e.symbol?e.symbol:e.symbol.symbol}async _onDataUpdate(e,t,i){this._onDataUnpacked(e,i,await v(t))}_enqueueUpdate(e){return this._ongoingDataUpdate=this._ongoingDataUpdate.then(e,e),this._ongoingDataUpdate}_onDataUnpacked(e,t,i){if(this._status===p.Idle)return;this._status===p.AwaitingFirstDataUpdate&&(this._changeStatusTo(p.Active),this._clearDataImpl());const s=this._data.bars().size(),n=this._data.bars().firstIndex(),r=this._data.mergeRegularBars(e);null!==i&&(this._data.nsBars().clear(),this._data.nsBars().merge(i.projectionPlots),this._data.lastProjectionPrice=i.lastPrice,null!==i.boxSize&&(this._data.boxSize=i.boxSize),this._data.reversalAmount=i.reversalAmount);const o=null===n||null!==r&&r.index<n;this._dataEvents.fireDataUpdated(t,o,r),s!==this._data.bars().size()&&null!==r&&this._dataEvents.fireBarReceived(r)}_onSeriesLoading(e){this._dataEvents.fireLoading(e)}_onSeriesCompleted(e,t,i){this._dataEvents.fireCompleted({updateMode:e,time:t,flags:i})}_checkTurnaround(e,t){return this._instanceId===e&&(void 0===t||t===this.turnaround())}}async function v(e){if(void 0===e)return{projectionPlots:[],boxSize:null};if(""===e.d||"nochange"===e.indexes)return null;const t=await(0,l.unpackNonSeriesData)(e.d);if(null===t||t.indexes_replace)return null;const i=e.indexes,{bars:s,price:n,boxSize:r,reversalAmount:o}=t.data;return{lastPrice:n,projectionPlots:(s||[]).map((e=>{let t;return"factor"in e?t=e.factor:"additionalPrice"in e&&(t=e.additionalPrice),{index:i[e.time],value:[0,e.open,e.high,e.low,e.close,e.volume,t]}})),reversalAmount:o,boxSize:r}}},379048:(e,t,i)=>{"use strict";var s,n,r,o;i.d(t,{HAlign:()=>n,LineStyle:()=>o,MarkLocation:()=>s}),function(e){e.AboveBar="AboveBar",e.BelowBar="BelowBar",e.Top="Top",e.Bottom="Bottom",e.Right="Right",e.Left="Left",e.Absolute="Absolute",e.AbsoluteUp="AbsoluteUp",e.AbsoluteDown="AbsoluteDown"}(s||(s={})),function(e){e.Left="left",e.Center="center",e.Right="right"}(n||(n={})),function(e){e.Top="top",e.Middle="middle",e.Bottom="bottom"}(r||(r={})),function(e){e[e.Solid=0]="Solid",e[e.Dotted=1]="Dotted",e[e.Dashed=2]="Dashed"}(o||(o={}))},405721:(e,t,i)=>{"use strict";i.r(t),i.d(t,{StudyDataSource:()=>_});var s=i(650151),n=i(707957),r=i(195447),o=i(178389),a=i(173220),l=i(989709),u=i(529968),c=i(799567);const d=(0,i(201089).getLogger)("Chart.StudyDataSource");var h;!function(e){e[e.Idle=0]="Idle",e[e.AwaitingConnection=1]="AwaitingConnection",e[e.AwaitingParent=2]="AwaitingParent",e[e.AwaitingFirstDataUpdate=3]="AwaitingFirstDataUpdate",e[e.Active=4]="Active"}(h||(h={}));class _{constructor(e,t,i,s){this._inputs=null,this._status=h.Idle,this._studyId=null,this._turnaroundCounter=1,this._studyStatus={type:c.StudyStatusType.Undefined},this._studyStatusChanged=new n.Delegate,this._graphics=new u.LiveStudyGraphics,this._dataCleared=new n.Delegate,this._dataUpdated=new n.Delegate,this._boundOnGatewayIsConnectedChanged=this._onGatewayIsConnectedChanged.bind(this),this._ongoingDataUpdate=Promise.resolve(),this._gateway=e,this._metaInfo=s,this._seriesSource=t,
this._turnaroundPrefix=i,this._plots=new r.PlotList((0,l.studyPlotFunctionMap)(s),l.studyEmptyPlotValuePredicate),this._gateway.isConnected().subscribe(this._boundOnGatewayIsConnectedChanged)}destroy(){this.stop(),this._gateway.isConnected().unsubscribe(this._boundOnGatewayIsConnectedChanged)}metaInfo(){return this._metaInfo}inputs(){return this._inputs}setInputs(e){this._inputs=e,null!==this._studyId&&(this._turnaroundCounter++,this._onStudyStatusChangedTo({type:c.StudyStatusType.Undefined}),this._gateway.modifyStudy(this._studyId,this._turnaround(),e,this._onMessage.bind(this)),this._status===h.Active&&this._changeStatusTo(h.AwaitingFirstDataUpdate))}isStarted(){return this._status!==h.Idle}isActive(){return this._status===h.Active}start(){this.isStarted()?d.logNormal("start: data source is already started, nothing to do"):((0,s.assert)(null!==this._inputs,"Inputs should be defined when starting a study data source"),this._gateway.isConnected().value()?this._createStudy():this._changeStatusTo(h.AwaitingConnection))}stop(){this.isStarted()?(null!==this._studyId&&(this._gateway.removeStudy(this._studyId),this._studyId=null,this._onStudyStatusChangedTo({type:c.StudyStatusType.Undefined})),this._changeStatusTo(h.Idle)):d.logNormal("stop: data source is already stopped, nothing to do")}studyId(){return this._studyId}studyStatus(){return this._studyStatus}studyStatusChanged(){return this._studyStatusChanged}plots(){return this._plots}graphics(){return this._graphics}clearData(){this._plots.clear(),this._graphics.clear(),this._dataCleared.fire()}stopAndStealData(){(0,s.assert)(this._status===h.Active,"Couldn't steal data from non-active data source"),this.stop();const e=this._plots,t=this._graphics.extract();return this._plots=new r.PlotList((0,l.studyPlotFunctionMap)(this._metaInfo),l.studyEmptyPlotValuePredicate),{plots:e,graphics:t}}dataCleared(){return this._dataCleared}dataUpdated(){return this._dataUpdated}moveData(e){this._ongoingDataUpdate=this._ongoingDataUpdate.then((()=>{this._plots.move(e)}))}pendingUpdatesReady(){return this._ongoingDataUpdate}_changeStatusTo(e){(0,s.assert)(this._status!==e,"Source and destination status should be distinct"),d.logNormal(`Status changed from ${h[this._status]} to ${h[e]}`),this._status=e}_createStudy(){const e=this._seriesSource.instanceId();null!==e?this._createStudyUsingParentId(e):(this._changeStatusTo(h.AwaitingParent),this._seriesSource.dataEvents().completed().subscribe(this,this._onSeriesCompleted,!0))}_createStudyUsingParentId(e){(0,s.assert)(this._status!==h.Active,'Status should not be "Active" when creating a study'),(0,s.assert)(this._studyStatus.type===c.StudyStatusType.Undefined,'Study status should be "Undefined" when creating a study'),(0,s.assert)(null===this._studyId,"Study id should be empty when creating a study"),this._studyId=(0,a.makeNextStudyId)(),this._gateway.createStudy(this._studyId,this._turnaround(),e,this._metaInfo.fullId+("tv-basicstudies"===this._metaInfo.packageId?"":"!"),(0,s.ensureNotNull)(this._inputs),this._onMessage.bind(this)),
this._changeStatusTo(h.AwaitingFirstDataUpdate)}_onGatewayIsConnectedChanged(e){e?this._onGatewayConnected():this._onGatewayDisconnected()}_onGatewayConnected(){this._status===h.AwaitingConnection&&this._createStudy()}_onGatewayDisconnected(){this._status!==h.Idle&&this._status!==h.AwaitingConnection&&(this._studyId=null,this._changeStatusTo(h.AwaitingConnection),this._studyStatus.type!==c.StudyStatusType.Undefined&&this._onStudyStatusChangedTo({type:c.StudyStatusType.Undefined})),this._turnaroundCounter=1}_onSeriesCompleted(){this._status===h.AwaitingParent&&this._createStudyUsingParentId((0,s.ensure)(this._seriesSource.instanceId()))}_onStudyStatusChangedTo(e){const t=this._studyStatus;this._studyStatus=e,d.logNormal(`Study status type changed from ${c.StudyStatusType[t.type]} to ${c.StudyStatusType[e.type]}`),this._studyStatusChanged.fire(t,e)}_onMessage(e){if("data_update"===e.method){const{customId:t,turnaround:i,plots:n,nonseries:r}=e.params;t===this._studyId&&this._checkTurnaround(i)&&this._onDataUpdate(n,(0,s.ensureDefined)(r))}else if("study_loading"===e.method){const[t,i,s]=e.params;t===this._studyId&&this._checkTurnaround(i)&&this._onStudyLoading(s)}else if("study_completed"===e.method){const[t,i,s]=e.params;t===this._studyId&&this._checkTurnaround(i)&&this._onStudyCompleted(s)}else if("study_error"===e.method){const[t,i,s,n,r]=e.params;t===this._studyId&&this._checkTurnaround(i)&&this._onStudyError(s,n,r)}else"clear_data"===e.method&&this._checkTurnaround(e.params.turnaround)&&this.clearData()}_onDataUpdate(e,t){const i=(0,o.unpackNonSeriesData)(t.d);return this._ongoingDataUpdate=this._ongoingDataUpdate.then((()=>i),(()=>i)).then(this._onDataUnpacked.bind(this,e,t.indexes)),this._ongoingDataUpdate}_onDataUnpacked(e,t,i){this._status!==h.Idle&&(this._status===h.AwaitingFirstDataUpdate&&(this._changeStatusTo(h.Active),this.clearData()),this._mergePlots(e),null!==i&&(i.indexes_replace?((0,s.assert)("nochange"!==t),this._graphics.replaceIndexesTo(t)):("nochange"!==t&&this._graphics.replaceIndexesTo(t),void 0!==i.graphicsCmds&&this._graphics.processCommands(i.graphicsCmds,this._metaInfo.graphics))),this._dataUpdated.fire(e,i,t))}_onStudyLoading(e){this._onStudyStatusChangedTo({type:c.StudyStatusType.Loading,startTime:Date.now()})}_onStudyError(e,t,i){this.clearData();const s="string"==typeof e?{error:e.split(":",2)[0]}:e;this._onStudyStatusChangedTo({type:c.StudyStatusType.Error,errorDescription:s})}_onStudyCompleted(e){this._onStudyStatusChangedTo({type:c.StudyStatusType.Completed})}_mergePlots(e){this._plots.merge(e)}_turnaround(){return`${this._turnaroundPrefix}${this._turnaroundCounter}`}_checkTurnaround(e){const t=this._turnaround();return e===t||e===this._seriesSource.turnaround()||e===`${this._seriesSource.turnaround()}_${t}`}}},62745:(e,t,i)=>{"use strict";i.d(t,{InputDisplayFlags:()=>s,RangeDependentStudyInputNames:()=>n,areStudyInputsEqual:()=>c,editableStudyInputs:()=>_,getInputValue:()=>l,isExtendedInput:()=>o,isExtendedInputSource:()=>a,isStudyInputOptionsInfo:()=>u,
isTimeOrPriceNotHiddenInput:()=>h,rangeDependentStudyInputsToTimeRange:()=>d});var s,n,r=i(598279);function o(e){return(0,r.default)(e)}function a(e){return"source"===e.t}function l(e){return o(e)?e.v:e}function u(e){return["text","integer","float","price","session","resolution"].includes(e.type)&&e.hasOwnProperty("options")}function c(e,t,i){for(const s of e)if(t[s.id]!==i[s.id])return!1;return!0}function d(e){return{from:Math.round(e.first_visible_bar_time/1e3),to:Math.round(e.last_visible_bar_time/1e3)}}function h(e){return("time"===e.type||"price"===e.type)&&!0!==e.isHidden}function _(e){const t=e.filter(h);if(0===t.length)return[];const i=new Map,s=[];t.forEach((e=>{var t;const{group:n,inline:r}=e;if(void 0===r)return void s.push(e);const o=r+(n||"");if(i.has(o))null===(t=i.get(o))||void 0===t||t.push(e);else{const t=[e];i.set(o,t),s.push(t)}}));const n=[];for(let e=0;e<s.length;e++){const t=s[e];Array.isArray(t)?2===t.length&&t[0].type!==t[1].type?n.push(t):n.push(...t):n.push(t)}return n}!function(e){e[e.None=0]="None",e[e.DataWindow=2]="DataWindow",e[e.StatusLine=8]="StatusLine",e[e.All=15]="All"}(s||(s={})),function(e){e.FirstBar="first_visible_bar_time",e.LastBar="last_visible_bar_time",e.Realtime="subscribeRealtime"}(n||(n={}))},223284:(e,t,i)=>{"use strict";i.r(t),i.d(t,{collectDepsForAlert:()=>m,dependenciesForAlerts:()=>f,idForAlert:()=>p,patchChildIdInInputs:()=>h,plotsForAlert:()=>g});var s=i(650151),n=i(62745),r=i(201089),o=i(96080),a=i(97948),l=i(827523),u=i(526075),c=i(368135);const d=(0,r.getLogger)("Chart.Study");function h(e,t,i){void 0!==i&&i.forEach((i=>{const s=e[i];"string"==typeof s?e[i]=_(s,t):(0,n.isExtendedInput)(s)&&(0,n.isExtendedInputSource)(s)?s.v=_((0,n.getInputValue)(s),t):d.logError(`Cannot patch source input, its type is not source: ${JSON.stringify(s)}`)}))}function _(e,t){const[i,s]=e.split("$"),n=t.get(i);return n?n+(void 0===s?"":"$"+s):e}function p(e,t,i){return(0,o.hash)(e+(0,a.sortedStringify)(t)+(null!=i?i:"")).toString()}function g(e,t,i){const n=[c.isLinePlot,c.isShapesPlot,c.isCharsPlot,c.isArrowsPlot,c.isOhlcPlot,c.isAlertConditionPlot];return e.plots.map(((e,t)=>({...e,pinePlotIndex:t}))).filter((e=>!(void 0!==i&&!i.includes(e.id))&&n.some((t=>t(e))))).map((i=>{const n={id:i.id,type:i.type,pinePlotIndex:i.pinePlotIndex,offset:t(i.id)};if(e.styles&&void 0!==e.styles[i.id]){const t=(0,s.ensureDefined)((0,s.ensureDefined)(e.styles)[i.id]);n.title=t.title||"",n.text=t.text||""}return(0,c.isOhlcPlot)(i)&&i.target&&e.ohlcPlots&&e.ohlcPlots[i.target]&&(n.ohlcTitle=(0,s.ensureDefined)((0,s.ensureDefined)(e.ohlcPlots)[i.target]).title),n}))}function m(e,t){const i=[],n=new Map;let r;for(let s=e.length-1;s>=0;s--){const o=e[s],a=(0,l.extractStudyId)(o.metaInfo().id),c=u.StudyMetaInfo.getStudyIdWithLatestVersion(o.metaInfo());r=o.inputsForAlertState();h(r,n,o.metaInfo().inputs.filter((e=>"source"===e.type)).map((e=>e.id)));const d=Object.assign({},r);o.metaInfo().isTVScript&&delete d.text;const _=p(a,d,t);i.push({id:_,study:c,inputs:r}),n.set(o.id(),_)}const o=i.reverse()
;return{idForAlert:(0,s.ensureDefined)(o[0].id),inputsForAlert:(0,s.ensureDefined)(r),studyDependencies:o}}function f(e,t){return e.map((e=>{const i=e.inputs(),s=e.metaInfo();let n=u.StudyMetaInfo.cutDollarHash(s.fullId);if("tv-scripting"===s.productId){const e=t.findByIdSync({type:"java",studyId:"Script@tv-scripting"});null!==e&&(n=e.fullId)}const r={id:e.sourceId(),study:n,inputs:i,scriptIdPart:void 0,scriptVersion:void 0};return s.pine?{...r,scriptIdPart:s.scriptIdPart,scriptVersion:s.pine.version}:r}))}},309858:(e,t,i)=>{"use strict";window.TradingView=window.TradingView||{},window.requireAll=function(e){return e.keys().map(e)},i(922651),i(778785).setClasses(),i(30285),i(128327).install(),i(424529),i(30707),i(638456),i(389137),i(586463),i(730128),i(327034),i(934440),i(529366),i(125226),i(49437),i(461794),i(233219),i(62802)},879422:(e,t,i)=>{"use strict";i(309858),i(826512);var s=i(650151),n=i(62802),r=i.n(n),o=i(244842);o.enabled("use_localstorage_for_settings")&&r().sync(void 0);var a=i(120780),l=i(777754),u=i(42292),c=i(325050),d=i.n(c),h=i(813773),_=i(342395),p=i(318172),g=i(199639),m=i(583912),f=i(59171),y=i.n(f),v=i(934440),b=i.n(v),S=i(876332),w=i(444331),T=i(223699),C=i(731042);function P(){return Promise.all([i.e(987),i.e(45702)]).then(i.bind(i,577602))}var I=i(246733),k=i(25517),E=i(823127);class D{constructor({resizerBridge:e,publishOptions:t}){this._publishOptions=t,e.negotiateHeight(31),e.container.subscribe(this._render.bind(this),{callWithLast:!0})}_render(e){E(e).empty().css("overflow","hidden");const t=E("<div>",e).attr("id","footer-chart-panel").addClass("publish-widget").appendTo(e),s=E("<div>",e).addClass("publish-buttons").appendTo(t);"dailyfx"===this._publishOptions.publishSource&&E('<label class="usage-help">For a guide on using Trading View charts, please click <a target="_blank" href="https://media.dailyfx.com/docs/TradingView.pdf">here</a>.</label>').appendTo(t),E('<a class="publish-chart-button"></a>').html(l.t(null,void 0,i(779203))).on("click",(e=>{e.preventDefault(),(0,k.publishChartWidget)(this._publishOptions)})).addClass("apply-common-tooltip").attr("title",l.t(null,void 0,i(792914))).appendTo(s)}}var x=i(600225),A=i(401580);class L{constructor(e,t){this._visibility=new A.WatchedValue(!1),this._dialogPromise=null,this._dialog=null,this._chartWidgetCollection=e,this._options=t,this._indicatorsPreloader=new x.IndicatorsPreloader(e)}visible(){return this._visibility.readonly()}show(e,t,i){var s,n;const r=Array.isArray(e)?e:[],o=Array.isArray(e)?void 0:e,a=(null===(s=this._options)||void 0===s?void 0:s.onWidget)?void 0:this._indicatorsPreloader.getIndicatorPromises();null===this._dialog&&this._requestDialog(null!=r?r:[],a,t,i,o),null===(n=this._dialog)||void 0===n||n.open(null!=r?r:[],a,t,i,o)}hide(){var e;null===(e=this._dialog)||void 0===e||e.hide()}getDialog(){return this._dialog}resetAllPages(){var e;null===(e=this._dialog)||void 0===e||e.resetAllStudies()}_requestDialog(e,t,s,n,r){var o;if(null===this._dialogPromise){let a
;a=(null===(o=this._options)||void 0===o?void 0:o.onWidget)?Promise.all([i.e(65280),i.e(22666),i.e(84139),i.e(92108),i.e(5993),i.e(9817),i.e(4015),i.e(92191),i.e(53842),i.e(38669),i.e(35649),i.e(5145),i.e(25190),i.e(32109),i.e(88548),i.e(91033),i.e(90684),i.e(40866),i.e(6209),i.e(6744),i.e(36752),i.e(34186),i.e(35542),i.e(92175),i.e(36842),i.e(24510),i.e(73353),i.e(63616),i.e(3189),i.e(50690),i.e(30979),i.e(25659),i.e(72176),i.e(6456)]).then(i.bind(i,4748)).then((e=>new e.IndicatorsLibraryContainer(this._chartWidgetCollection,this._options))):Promise.all([i.e(65280),i.e(22666),i.e(84139),i.e(92108),i.e(5993),i.e(9817),i.e(4015),i.e(92191),i.e(53842),i.e(38669),i.e(35649),i.e(5145),i.e(25190),i.e(32109),i.e(88548),i.e(91033),i.e(90684),i.e(40866),i.e(6209),i.e(6744),i.e(36752),i.e(34186),i.e(35542),i.e(92175),i.e(36842),i.e(24510),i.e(73353),i.e(63616),i.e(3189),i.e(50690),i.e(30979),i.e(25659),i.e(72176),i.e(6456)]).then(i.bind(i,281515)).then((e=>new e.IndicatorsContainer(this._chartWidgetCollection))),this._dialogPromise=a.then((i=>{this._dialog=i,this._dialog.visible().subscribe((e=>{this._visibility.setValue(e)})),this._dialog.open(e,t,s,n,r)}))}return this._dialogPromise}}var O=i(618820),R=i(429874),N=i(331633),M=i(778785),F=i(606311);const W={8:[F.timeFrames.ytd,F.timeFrames["12m"],F.timeFrames["60m"],F.timeFrames.all],3:[F.timeFrames["1d"],F.timeFrames["5d"],F.timeFrames["1m"],F.timeFrames["3m"],F.timeFrames["6m"],F.timeFrames.ytd,F.timeFrames["12m"],F.timeFrames["60m"],F.timeFrames.all]};function V(e,t){return 9===t&&(t=3),6===t&&(t=8),W[t]||[]}function U(e,t,i){const s={name:e,frameElementId:t,data:i};window.parent.postMessage(s,"*")}function B(e,t){function i(i){i.data&&i.data.name&&i.data.name===e&&t(i.data.data)}return window.addEventListener("message",i,!1),()=>{window.removeEventListener("message",i,!1)}}var H,z;function j(e){return"seekingalpha"===e||"smartlab-custom"===e?Promise.all([i.e(70166),i.e(65850),i.e(22666),i.e(5993),i.e(4015),i.e(53842),i.e(66639),i.e(35649),i.e(30006),i.e(46036),i.e(58056),i.e(91033),i.e(49205),i.e(98149),i.e(67080),i.e(15518),i.e(36752),i.e(12494),i.e(96025),i.e(56949),i.e(10102),i.e(92175),i.e(59185),i.e(97271),i.e(39),i.e(64619),i.e(50690),i.e(98355),i.e(41422),i.e(72176),i.e(90724),i.e(61309)]).then(i.bind(i,461309)):"cme"===e?Promise.all([i.e(70166),i.e(65850),i.e(22666),i.e(5993),i.e(4015),i.e(53842),i.e(66639),i.e(35649),i.e(30006),i.e(46036),i.e(58056),i.e(91033),i.e(49205),i.e(98149),i.e(67080),i.e(15518),i.e(36752),i.e(12494),i.e(96025),i.e(56949),i.e(10102),i.e(92175),i.e(59185),i.e(97271),i.e(39),i.e(50690),i.e(98355),i.e(41422),i.e(72176),i.e(90724),i.e(66660)]).then(i.bind(i,666660)):Promise.all([i.e(70166),i.e(65850),i.e(22666),i.e(5993),i.e(4015),i.e(53842),i.e(66639),i.e(35649),i.e(30006),i.e(46036),i.e(58056),i.e(91033),i.e(49205),i.e(98149),i.e(67080),i.e(15518),i.e(36752),i.e(12494),i.e(96025),i.e(56949),i.e(10102),i.e(92175),i.e(59185),i.e(97271),i.e(39),i.e(50690),i.e(98355),i.e(41422),i.e(72176),i.e(90724),i.e(99304)]).then(i.bind(i,399304))}
!function(e){let t;!function(e){e.SetSymbol="set-symbol",e.SetInterval="set-interval"}(t=e.Names||(e.Names={}))}(H||(H={})),function(e){let t;!function(e){e.SymbolClick="tv-widget-symbol-click",e.WidgetLoad="tv-widget-load",e.WidgetReady="tv-widget-ready",e.ResizeIframe="tv-widget-resize-iframe",e.NoData="tv-widget-no-data"}(t=e.Names||(e.Names={}))}(z||(z={}));var q=i(885482),$=i(616117),K=i(638456),Y=i(470316);function G(e,t=!1){if(!o.enabled("popup_hints"))return;const r=e.getContainer();let a=null,u=null;function c(e,t){if(a)a.show(e,h.bind(null,t));else{const s=q.tool.value();Promise.all([i.e(9817),i.e(93280),i.e(50690),i.e(26166)]).then(i.bind(i,410837)).then((i=>{a=new i.ChartEventHintRenderer(r),s===q.tool.value()&&a.show(e,h.bind(null,t))}))}}function d(e){return!Boolean(n.getBool(e))}function h(e){n.setValue(e,!0,{forceFlush:!0}),(0,s.ensureNotNull)(a).destroy(),null!==u&&u(),a=null}q.tool.subscribe((function(){if(!d("hint.touchPainting"))return;const e=q.tool.value(),t=(0,$.isLineToolDrawWithoutPoints)(e),s=K.CheckMobile.any();!(0,$.isStudyLineToolName)(e)||"LineToolRegressionTrend"===e||t||s?(0,$.isLineToolName)(e)&&!(0,$.isLineDrawnWithPressedButton)(e)&&!t&&s?c(l.t(null,void 0,i(967861)),"hint.touchPainting"):a&&a.hide():c(l.t(null,void 0,i(632234)),"hint.touchPainting")})),q.createdLineTool.subscribe(null,(function(){const e=q.tool.value();"LineToolPath"===e&&d("hint.finishBuildPathByDblClick")?c(l.t(null,void 0,i(605828)),"hint.finishBuildPathByDblClick"):"LineToolPolyline"===e&&d("hint.finishBuildPolylineByDblClick")&&c(l.t(null,void 0,i(763898)),"hint.finishBuildPolylineByDblClick")})),q.finishedLineTool.subscribe(null,(function(){if(a){const e=q.tool.value();"LineToolPath"===e?h("hint.finishBuildPathByDblClick"):"LineToolPolyline"===e&&h("hint.finishBuildPolylineByDblClick")}})),e.layoutSizesChanged().subscribe((function(){if(!d("hint.startResizingChartInLayout"))return;c(l.t(null,void 0,i(135273)),"hint.startResizingChartInLayout")})),t||K.CheckMobile.any()||!d("hint.startFocusedZoom")||(u=function(e,t){let i=!1;const s=n=>{n?(i&&t(n),e.onZoom().unsubscribe(null,s)):i||(t(n),i=!0)};return e.onZoom().subscribe(null,s),()=>e.onZoom().unsubscribe(null,s)}(e,(function(e){if(!d("hint.startFocusedZoom"))return;if(e)a&&(u=null,h("hint.startFocusedZoom"));else{const e=Y.isMacKeyboard?"⌘":"Ctrl";c(l.t(null,void 0,i(35963)).format({key:e}),"hint.startFocusedZoom")}})))}var J=i(251954);function Q(e,t){const n=l.t(null,void 0,i(678104)).format({emoji:"👍"}),r=l.t(null,void 0,i(812011)).format({emoji:"👍"}),o=l.t(null,void 0,i(979393)).format({emoji:"👍"});J.on("onServerScreenshotCopiedToClipboard",(()=>c(n)),null),J.on("onClientScreenshotCopiedToClipboard",(()=>c(r)),null),J.on("onServerScreenshotEmbedCodeCopiedToClipboard",(()=>c(o)),null);let a=null;const u=e.getContainer();function c(e){a?a.show(e):Promise.all([i.e(32109),i.e(6209),i.e(40719),i.e(50690),i.e(30092)]).then(i.bind(i,798090)).then((i=>{a||(a=new i.ChartScreenshotHintRenderer((0,s.ensureNotNull)(u),{bottomPadding:t.seriesControlBarEnabled}),
a.show(e))}))}}var X=i(49336),Z=i(975420),ee=i(261309),te=i(564894);class ie{constructor(e=[]){this._list={id:"DEFAULT_SINGLE_WATCHLIST",type:"custom",name:l.t(null,void 0,i(213402)),description:null,symbols:[...e],shared:!1}}getCustomWatchLists(){return Promise.resolve([this._list])}getSymbols(e){return Promise.resolve(this._list.symbols)}createWatchList(e){throw new Error("not implemented")}putWatchList(e){throw new Error("not implemented")}removeWatchList(e){throw new Error("not implemented")}renameWatchList(e,t){return Promise.resolve(t)}replaceSymbols(e,t){return this._list.symbols=[...t],Promise.resolve(this._list)}addSymbols(e,t){return this._list.symbols.push(...t),Promise.resolve(this._list.symbols)}removeSymbols(e,t){return this._list.symbols=this._list.symbols.filter((e=>!t.includes(e))),Promise.resolve(this._list.symbols)}setActive(e){return Promise.resolve(this._list)}getActive(){return Promise.resolve(this._list)}changeDescription(e,t){throw new Error("not implemented")}renameSeparator(e,t,i){return Promise.resolve()}}var se=i(541558),ne=i(707957);const re=new ne.Delegate,oe=new ne.Delegate,ae=new ne.Delegate,le=new ne.Delegate,ue=new ne.Delegate;class ce{constructor(e=[],t=n){if(this._lists={},this._activeListSettingsKey="widgetbar.widget.watchlist",o.enabled("trading_terminal")&&(this._activeListSettingsKey+="terminal"),this._settings=t,this._settings.onSync.subscribe(this,this._updateLists),this._updateLists(),0===Object.keys(this._lists).length){const t=this._createList({title:this._pickTitle(),symbols:[...e]});this.setActive(t.id)}}destroy(){this._settings.onSync.unsubscribeAll(this)}getCustomWatchLists(){this._updateLists();const e=[];return Object.keys(this._lists).forEach((t=>{const i=this._getList(t);i&&e.push(this._toSymbolList(i))})),Promise.resolve(e)}createWatchList(e){const t=this._createList({id:e.id,title:e.name||this._pickTitle(),symbols:e.symbols||[]});return ae.fire(t.id,[...t.symbols]),Promise.resolve(this._toSymbolList(t))}putWatchList(e){this._updateLists();const t=this._getList(e.id),i=null==t?void 0:t.title,s=e.name;return this.saveList({id:e.id,symbols:e.symbols,title:e.name}),void 0!==i&&i!==s&&ue.fire(e.id,i,s),null!==t?re.fire(e.id):ae.fire(e.id,e.symbols),Promise.resolve(e)}removeWatchList(e){const{id:t}=e;return this._settings.remove(`savedwatch.${t}`,{forceFlush:!0}),delete this._lists[t],le.fire(t),Promise.resolve()}renameWatchList(e,t){this._updateLists();const{name:i}=e;return e.name=t,this.saveList({id:e.id,symbols:e.symbols,title:t}),ue.fire(e.id,i,t),Promise.resolve(t)}replaceSymbols(e,t){const i=this._getList(e.id);return null===i||(i.symbols=[...t],this.saveList(i),re.fire(e.id)),Promise.resolve()}addSymbols(e,t){const i=this._getList(e.id);return null===i?Promise.resolve([]):(i.symbols.push(...t),this.saveList(i),re.fire(e.id),Promise.resolve([...i.symbols]))}removeSymbols(e,t){const i=this._getList(e.id);return null===i?Promise.resolve([]):(i.symbols=i.symbols.filter((e=>!t.includes(e))),this.saveList(i),re.fire(e.id),Promise.resolve([...i.symbols]))}
setActive(e){return this._settings.setValue(this._activeListSettingsKey,e),oe.fire(),Promise.resolve()}getActive(){const e=this._getActive();return Promise.resolve(this._toSymbolList(e))}changeDescription(e,t){throw new Error("not implemented")}renameSeparator(e,t,i){throw new Error("not implemented")}saveList(e){const t={symbols:e.symbols,title:String(e.title)};this._settings.setJSON(`savedwatch.${e.id}`,t,{forceFlush:!0}),this._lists[e.id]=t}_createList(e){var t;const i={id:null!==(t=e.id)&&void 0!==t?t:(0,se.randomHash)(),symbols:e.symbols,title:e.title};return this.saveList(i),i}_getList(e){if(this._updateLists(),this._lists.hasOwnProperty(e)){const t=this._lists[e];return{id:e,symbols:t.symbols.slice(),title:t.title}}return null}_toSymbolList(e){return{type:"custom",id:e.id,name:e.title,description:null,symbols:e.symbols,shared:!1}}_updateLists(){this._lists={};this._settings.keys().forEach((e=>{const t=/^savedwatch\.(.*)$/.exec(e);if(!t)return;const i=t[1],s=this._settings.getJSON(e,null);s&&(s.symbols||(s.symbols=[]),this._lists[i]=s)}))}_getActive(){const e=this._settings.getValue(this._activeListSettingsKey),[t,i]=Object.entries(this._lists)[0],s={id:t,...i};return void 0!==e&&this._getList(e)||s}_pickTitle(){this._updateLists();const e=Object.keys(this._lists).map((e=>this._lists[e].title));for(let t=1;;t++){const s=l.t(null,void 0,i(213402))+(t>1?` (${t})`:"");if(-1===e.indexOf(s))return s}}}var de=i(581996);class he{constructor(e){this._document=e,this.isFullscreen=new A.WatchedValue;const t=()=>{const e=["fullscreenElement","webkitFullscreenElement","mozFullscreenElement","mozFullScreenElement","msFullscreenElement"];for(let t=0;t<e.length;t++){const i=e[t];if(i in this._document){this.isFullscreen.setValue(!!this._document[i]);break}}};t();for(const i of["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"])e.addEventListener(i,t,!1)}enter(){const e=this._document.documentElement;for(const t of["requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen"])if("function"==typeof e[t]){e[t]();break}this.isFullscreen.setValue(!0)}exit(){const e=this._document;for(const t of["exitFullscreen","mozCancelFullScreen","mozExitFullscreen","webkitExitFullscreen","msExitFullscreen"])if("function"==typeof e[t]){e[t]();break}this.isFullscreen.setValue(!1)}}class _e{constructor(e){this.isFullscreen=new A.WatchedValue,this._handleExit=e=>{27!==(0,Y.hashFromEvent)(e)||e.defaultPrevented||(e.preventDefault(),this.exit())},this._element=e}enter(){this.isFullscreen.setValue(!0),J.emit("onInternalFullscreenShow"),this._element.addEventListener("keydown",this._handleExit)}exit(){this.isFullscreen.setValue(!1),J.emit("onInternalFullscreenHide"),this._element.removeEventListener("keydown",this._handleExit)}}var pe=i(554433),ge=i(314802);function me(e,t){let i=0;for(const{min:s,max:n}of t){if(e<s||n<s)continue;const t=Math.min(e,n);if(i=Math.max(i,t),e===i)break}return i}function fe(e){const t=[];if(void 0===e)return[];Array.isArray(e)||(e=[e]);for(const i of e){
let e,s;isFinite(i)?e=s=Number(i):(e=+i.min,s=+i.max),(e<0||isNaN(e))&&(e=0),isNaN(s)&&(s=1/0),e<=s&&s>0&&t.push({min:e,max:s})}return t.sort(((e,t)=>e.min-t.min||e.max-t.max)),t}function ye(e,t){if(e.length!==t.length)return!1;for(let i=e.length;i--;){if(e[i].min!==t[i].min)return!1;if(e[i].max!==t[i].max)return!1}return!0}const ve=o.enabled("no_min_chart_width");function be(e){const t=o.enabled("side_toolbar_in_fullscreen_mode"),i=o.enabled("header_in_fullscreen_mode");return"center"===e||"left"===e&&t||"top"===e&&i}const Se=[...V(0,3)];Se.splice(7,0,F.timeFrames["24m"]);var we=i(971417),Te=i(792795),Ce=i(125226);const Pe=window.initData,Ie=window.urlParams;let ke=void 0!==Pe.def_extended_hours?Pe.def_extended_hours?"extended":"regular":Pe.def_session_id;const Ee=Pe.hide_ideas,De=Pe.customer,xe=Pe.customerReadableName,Ae=Ie.range||Pe.def_range,Le=Ie.enablepublishing||Pe.def_enable_publishing,Oe=Ie.withdateranges||Pe.def_withdateranges,Re=void 0!==Ie.saveimage?lt(Ie.saveimage,!0):Pe.def_save_image,Ne=!(Ie.hideIdeas||Ie.hideideasbutton||Ee||Pe.hide_ideas_button);let Me;(void 0===Ie.symboledit?Pe.def_hide_symbol_edit:!parseInt(Ie.symboledit))&&o.setEnabled("header_symbol_search",!1),o.setEnabled("header_screenshot",Boolean(Re)),"bovespa"===De&&(o.disable("header_settings"),Me=[{symbol:"IBOV",title:"Bovespa Index"},{symbol:"IBXX",title:"Brazil 100 Index"},{symbol:"IBXL",title:"Brazil 50 Index"},{symbol:"IBRA",title:"Brazil Broad-Based Index"},{symbol:"IGCX",title:"Special Corporate Governance Stock Index"},{symbol:"ITAG",title:"Special Tag-Along Stock Index"},{symbol:"IGNM",title:"Novo Mercado Corporate Governance Equity Index"}]),window.pro=new p.Pro(window.shopConf);let Fe=Ie.symbol||Pe.defSymbol;"cme"===Ie.symbology&&(Fe=(e=>{const t=new(y().SymbolToken)(e);if(!t.root())return e;const i=g.CMEToTVSymbologyAdapter.convertSymbolDataToTV(t.root(),t.exchange(),Ie.venue);return"ok"!==i.status?e:(i.data.symbol&&t.root(i.data.symbol),i.data.exchange&&t.exchange(i.data.exchange),t.toString())})(Fe)),(lt(Ie.extended_hours)||lt(Ie.session_id))&&(ke="extended"),lt(Ie.extended_hours,!0)&&lt(Ie.session_id,!0)||(ke="regular");const We=b()(parent),Ve=[];let Ue,Be=[];if(Ie.watchlist&&(Be=Ie.watchlist.split(/\x1f/).map((e=>e.trim())).filter(Boolean)),Be.length||Ie.editablewatchlist){const e={type:"watchlist",properties:{list:Be}};Ie.editablewatchlist?(e.readonly=!1,e.data={hideTitleButton:!0},e.settingsKey="onwidget.watchlist",e.unAuthEditable=!0,function(e){const t=new ce(e);(0,te.registerService)(ee.SYMBOL_LIST_REPOSITORY_BACKEND_SERVICE,t)}(Be)):function(e){const t=new ie(e);(0,te.registerService)(ee.SYMBOL_LIST_REPOSITORY_BACKEND_SERVICE,t)}(Be),Ve.push(e)}"details"in Ie&&Ve.push({type:"detail"}),"widgetbarwidth"in Ie&&(Ue=+Ie.widgetbarwidth),(!Ue||!isFinite(Ue)||Ue<200)&&(Ue=200);const He=Ve.length?[{name:"base",title:l.t(null,void 0,i(744843)),icon:"base",widgets:Ve.map((e=>e))}]:[];Ie.hotlist&&He.push({name:"hotlist",title:l.t(null,void 0,i(225669)),icon:"hotlists",widgets:[{type:"hotlist",properties:{exchangeByLocale:{
default:window.COUNTRY_CODE_TO_DEFAULT_EXCHANGE.en},groupByLocale:{default:"volume_gainers"}}},{type:"hotlist",properties:{exchangeByLocale:{default:window.COUNTRY_CODE_TO_DEFAULT_EXCHANGE.en},groupByLocale:{default:"percent_change_gainers"}}},{type:"hotlist",properties:{exchangeByLocale:{default:window.COUNTRY_CODE_TO_DEFAULT_EXCHANGE.en},groupByLocale:{default:"percent_change_loosers"}}}]}),Ie.calendar&&He.push({name:"calendar",title:l.t(null,void 0,i(825034)),icon:"calendar",widgets:[{type:"reuters_calendar",properties:{}},{type:"earnings_calendar",properties:{}}]});const ze=new class{constructor(e,t){this._updateDocumentHeight=e=>{"visual"===this._viewportType&&this._window.document.documentElement.style.setProperty("height",`${e}px`,"important")},this._window=e,this._fullscreenApi=t?new _e(e.document.body):new he(e.document),this._viewportType=K.CheckMobile.iOS()&&!(0,ge.isOnMobileAppPage)("any")&&this._window.visualViewport?"visual":"quirks","visual"===this._viewportType?this._viewport=(0,s.ensure)(this._window.visualViewport):this._viewport=this._window;const i=this._layoutSizeSensor=this._window.document.createElement("div");i.id="layout-size-sensor",i.style.position="fixed",i.style.top="0",i.style.left="0",i.style.right="0",i.style.bottom="0",i.style.pointerEvents="none",i.style.visibility="hidden",this._initFullscreen()}allocate(){this.free();const e=this._window.document,t=e.createElement("div");t.classList.add("js-rootresizer__contents"),t.style.position="relative",t.style.width="100%",t.style.height="100%",e.body.insertAdjacentElement("afterbegin",t),e.body.insertAdjacentElement("afterbegin",this._layoutSizeSensor),this._visibilityApi=new pe.VisibilityApi(this._window.document);const i={alive:new A.WatchedValue(!0),fullscreenable:new A.WatchedValue(!0),container:new A.WatchedValue(t),width:new A.WatchedValue,height:new A.WatchedValue,availWidth:new A.WatchedValue,availHeight:new A.WatchedValue,visible:this._visibilityApi.isVisible,fullscreen:this._fullscreenApi.isFullscreen,remove:()=>{i.alive.setValue(!1)},attach:()=>{i.alive.setValue(!1),this._window.close()},requestFullscreen:()=>{this._requestFullscreen()},exitFullscreen:()=>{this._exitFullscreen()}};return i.alive.subscribe((e=>{e||i!==this._area||this.free()})),this._area=i,this._resizeHandler=()=>{const e=this._width(i)||800,t=this._height(i)||600;i.availHeight.setValue(t),i.availWidth.setValue(e),i.height.setValue(t),i.width.setValue(e)},this._area.height.subscribe(this._updateDocumentHeight,{callWithLast:!0}),this._resizeHandler(),this._viewport.addEventListener("resize",this._resizeHandler),new de.ResizerDetacherState(i).bridge()}free(){if(this._resizeHandler&&(this._viewport.removeEventListener("resize",this._resizeHandler),this._resizeHandler=void 0),this._visibilityApi&&(this._visibilityApi.destroy(),this._visibilityApi=void 0),this._area){const e=this._area;this._area=void 0,e.height.unsubscribe(this._updateDocumentHeight),e.alive.setValue(!1);const t=e.container.value(),i=null==t?void 0:t.parentElement;i&&(i.removeChild(t),
i.removeChild(this._layoutSizeSensor))}}_height(e){if("visual"===this._viewportType)return this._layoutSizeSensor.clientHeight;return e.container.value().clientHeight}_width(e){return e.container.value().clientWidth}_requestFullscreen(){this._fullscreenApi.enter()}_exitFullscreen(){this._fullscreenApi.exit()}_initFullscreen(){this._fullscreenApi.isFullscreen.subscribe((e=>{this._resizeHandler&&this._resizeHandler()}))}}(window),je=new class{constructor(e){this._processVisibility=e=>{const t=e.container.value();return this.affectsLayout(e.name)?(t&&t.classList.toggle("js-hidden",!1),!0):(t&&t.classList.toggle("js-hidden",!0),!1)},this._setWidth=(e,t,i)=>{let s=i;this._fullscreenArea!==e.name&&(e.availWidth.setValue(i),e.canNegotiate.width&&(s=me(i,e.negotiations.width))),t||(s=0);const n=e.container.value();return n&&t&&(n.style.width=s+"px"),e.width.setValue(s),s},this._setHeight=(e,t,i)=>{let s=i;this._fullscreenArea!==e.name&&(e.availHeight.setValue(i),e.canNegotiate.height&&(s=me(i,e.negotiations.height))),t||(s=0);const n=e.container.value();return n&&t&&(n.style.height=s+"px"),e.height.setValue(s),s};const t=e.container.value();if(!t)throw new Error("bridge.container.value() must be an element");this._container=t,this._availableAreas=["left","tradingpanel","right","top","bottom","center","topleft","extratop"],this._areas={},this._bridge=e,this._width=e.width,this._height=e.height,this._width.subscribe((()=>this.recalculate())),this._height.subscribe((()=>this.recalculate())),this._bridge.visible.subscribe((()=>this._updateVisibility())),this._bridge.fullscreen.subscribe((()=>this._onParentFullscreenChange())),this.recalculate()}allocate(e){const t=e&&e.areaName;if(-1===this._availableAreas.indexOf(t))throw new Error("unknown options.areaName");this.free(t);const i=this._createDOM(t),s={name:t,canNegotiate:{width:"left"===t||"right"===t||"tradingpanel"===t||"topleft"===t,height:"top"===t||"bottom"===t||"topleft"===t||"extratop"===t},negotiations:{width:[],height:[]},remove:()=>{for(const e in this._areas)this._areas[e]===s&&this.free(e)},negotiateWidth:e=>{if(!s.canNegotiate.width)return;const t=fe(e);ye(s.negotiations.width,t)||(s.negotiations.width=t,this.recalculate())},negotiateHeight:e=>{if(!s.canNegotiate.height)return;const t=fe(e);ye(s.negotiations.height,t)||(s.negotiations.height=t,this.recalculate())},requestFullscreen:()=>{this._fullscreenArea||("right"!==t&&"center"!==t||(this._fullscreenArea=t),"center"===t&&this._bridge.requestFullscreen(),this._updateFullscreen())},exitFullscreen:()=>{t===this._fullscreenArea&&(this._fullscreenArea=void 0,"center"===t&&this._bridge.exitFullscreen(),this._updateFullscreen())},width:new A.WatchedValue,height:new A.WatchedValue,availWidth:new A.WatchedValue,availHeight:new A.WatchedValue,alive:new A.WatchedValue(!0),container:new A.WatchedValue(i),visible:new A.WatchedValue(!0),fullscreen:new A.WatchedValue(!1),fullscreenable:new A.WatchedValue("right"===t||"center"===t),rdState:new de.ResizerDetacherState};return s.rdState.pushOwner(s),this._areas[t]=s,
s.rdState.owner.subscribe((e=>{const i=s.container.value();if(e!==s)i&&(i.innerHTML="",i.parentElement&&i.parentElement.removeChild(i));else{let e=null;for(let i=this._availableAreas.indexOf(t);i--;){const t=this._availableAreas[i];if(this.affectsLayout(t)){e=this._areas[t].container.value();break}}i&&(e&&i.parentElement?i.insertAdjacentElement("afterend",e):this._container.appendChild(i))}this.recalculate()}),{callWithLast:!0}),s.rdState.bridge()}free(e){const t=this._areas[e];if(!t)return;this._areas[e]=void 0;const i=t.container.value();i&&i.parentElement&&i.parentElement.removeChild(i),t.alive.setValue(!1)}recalculate(){const e={};this._recalcSingleRunToken=e;const t=this._areas.topleft,i=this._areas.left,s=this._areas.tradingpanel,n=this._areas.right,r=this._areas.top,o=this._areas.bottom,a=this._areas.center,l=this._areas.extratop,u=this._width.value(),c=this._height.value();let d=0,h=0,_=0,p=0,g=0,m=0,f=0,y=0;if(e===this._recalcSingleRunToken&&l){const e=this._processVisibility(l);y=this._setHeight(l,e,c),this._setWidth(l,e,u)}if(e===this._recalcSingleRunToken&&t){const e=this._processVisibility(t);f=this._setHeight(t,e,c),m=this._setWidth(t,e,u);const i=t.container.value();e&&i&&(i.style.top=y+"px")}let v=0;if(e===this._recalcSingleRunToken&&r){const e=this._processVisibility(r),t=r.container.value();e&&t&&(t.style.left=m+"px",t.style.top=y+"px");const i=u-m;this._setWidth(r,e,i),d=this._setHeight(r,e,c),d&&(v=1)}if(e===this._recalcSingleRunToken&&i){const e=this._processVisibility(i),t=Math.max(f,d);_=this._setWidth(i,e,u),_&&(_+=4),_&&1===v&&(v=4);const s=i.container.value();e&&s&&(s.style.top=t+y+v+"px"),this._setHeight(i,e,c-t-y)}if(e===this._recalcSingleRunToken&&s){const e=this._processVisibility(s);let t=u-_;ve||(t-=300),g=this._setWidth(s,e,t),g&&1===v&&(v=4),this._setHeight(s,e,c-y-d-v)}if(e===this._recalcSingleRunToken&&n){const e=this._processVisibility(n);let t=u-_-g;ve||(t-=300),p=this._setWidth(n,e,t),p&&1===v&&(v=4),this._setHeight(n,e,c-y-d-v);const i=n.container.value();e&&i&&(i.style.top=d+y+v+"px",i.classList.toggle("no-border-top-left-radius",Boolean(g)))}const b=g+p;let S=0;const w=u-_-g-p-(b?4:0);if(e===this._recalcSingleRunToken&&o){const e=this._processVisibility(o),t=o.container.value();e&&t&&(t.style.left=_+"px",t.classList.toggle("no-border-top-left-radius",!_),t.classList.toggle("no-border-top-right-radius",!b)),this._setWidth(o,e,w);const i=c-y;S=Math.min(300,i-0),h=this._setHeight(o,e,i)+4}const T=Boolean(d&&(_||b));if(this._container.classList.toggle("layout-with-border-radius",T),e===this._recalcSingleRunToken&&a){const e=this._processVisibility(a),t=a.container.value();e&&t&&(t.style.left=_+"px",t.style.top=d+y+v+"px",t.classList.toggle("no-border-bottom-left-radius",!h||!_),t.classList.toggle("no-border-bottom-right-radius",!b||!h),t.classList.toggle("no-border-top-left-radius",Boolean(!_&&b)),t.classList.toggle("no-border-top-right-radius",Boolean(_&&!b))),this._setWidth(a,e,w);const i=c-d-h-y-v;this._setHeight(a,e,Math.max(i,S))}
if(e===this._recalcSingleRunToken&&s&&this.affectsLayout("tradingpanel")){const e=s.container.value();e&&(e.style.right=p+"px",e.style.top=y+d+v+"px",e.style.borderTopLeftRadius=T?"4px":"0px")}e===this._recalcSingleRunToken&&this._updateVisibility()}affectsLayout(e){const t=this._areas[e];if(!t)return!1;if(t.rdState.owner.value()!==t)return!1;if(this._fullscreenArea&&this._fullscreenArea!==e)return be(e);if(this._width.value()<=567||this._height.value()<=445){if(!["center","top","left","topleft","extratop"].includes(e))return!1}return!0}_updateVisibility(){const e=this._bridge.visible.value();for(let t=0;t<this._availableAreas.length;t++){const i=this._availableAreas[t],s=this._areas[i];s&&(e&&this.affectsLayout(i)?s.visible.setValue(!0):s.visible.setValue(!1))}}_onParentFullscreenChange(){this._bridge.fullscreen.value()||(this._fullscreenArea=void 0,this._updateFullscreen())}_updateFullscreen(){const e=void 0!==this._fullscreenArea;for(let t=0;t<this._availableAreas.length;t++){const i=this._availableAreas[t],s=this._areas[i];if(!s)continue;if(i===this._fullscreenArea){s.fullscreen.setValue(!0);continue}s.fullscreen.setValue(!1);const n=s.container.value();n&&n.classList.toggle("js-hidden",e&&!be(i))}this._updateVisibility(),this.recalculate()}_createDOM(e){const t=document.createElement("div");return t.classList.add("layout__area--"+e),t.style.position="absolute","tradingpanel"===e&&(t.style.overflow="hidden",t.style.borderTopLeftRadius="4px"),"bottom"===e?t.style.bottom="0":t.style.top="0","right"===e||"tradingpanel"===e?t.style.right="0":t.style.left="0",t}}(ze.allocate()),qe=Ie.hidetoptoolbar?null:je.allocate({areaName:"top"}),$e=void 0===Ie.hidesidetoolbar||+Ie.hidesidetoolbar?null:je.allocate({areaName:"left"}),Ke=je.allocate({areaName:"center"}),Ye=He.length?je.allocate({areaName:"right"}):null,Ge=Le?je.allocate({areaName:"bottom"}):null;if(Ae){const e=(Je=Ae,Se.find((e=>e.value.value===Je)));e&&(Ie.range=Ae,Ie.interval=e.targetResolution)}var Je;let Qe,Xe;Qe=void 0===Ie.interval?void 0===Ie.style?Pe.def_interval:(0,C.getDefaultResolution)((0,w.isRangeStyle)(parseInt(Ie.style))):Ie.interval,Xe=void 0===Ie.style?void 0===Ie.interval?parseInt(Pe.def_style):(0,w.getDefaultStyle)(T.Interval.isRange(Ie.interval)):parseInt(Ie.style);const Ze=window.chartWidgetCollection=new(d())({resizerBridge:Ke,padding:5,edge:Number(Ie.padding)||0,publishedChartsEnabled:!1,saveChartEnabled:!1,widgetOptions:{onWidget:!0,addToWatchlistEnabled:!1,propertyPagesEnabled:!1,chartEventsEnabled:!0,esdEnabled:o.enabled("esdonwidget"),sourceStatusesWidget:{errorSolution:!1},marketStatusWidgetEnabled:!0,chartWarningWidget:{subscriptionFullInfo:!1},widgetCustomer:De,customerReadableName:xe,hideIdeas:Ee,controlBarEnabled:!0,addVolume:!Ie.hidevolume,muteSessionErrors:!o.enabled("referral_program_for_widget_owners"),defSymbol:Fe,defInterval:Qe,defStyle:Xe,defSessionId:ke,timezone:Ie.timezone||Pe.def_timezone,defTimeframe:Ae,isDrawingToolbarVisible:O.isDrawingToolbarVisible,watermarkEnabled:!0,paneContextMenuEnabled:!1,compareSymbols:Me,
timeScaleWidget:{contextMenuEnabled:!1,timezoneMenuEnabled:!1},timeScale:{preserveBarSpacing:!0,lockVisibleTimeRangeOnResize:!1},legendWidgetEnabled:!Ie.hidelegend,legendWidget:{contextMenu:{settings:!1,fundamentals:!1,showOpenMarketStatus:!0}},goToDateEnabled:!1,handleScroll:{vertTouchDrag:lt(Ie.verttouchdrag),horzTouchDrag:lt(Ie.horztouchdrag,!0)},handleScale:{mouseWheel:lt(Ie.mousewheelscale,"investopedia"!==De&&"eurex"!==De)},currencyConversionEnabled:!0,unitConversionEnabled:!0},seriesControlBarEnabled:!!Oe,seriesControlBar:{timeFramesWidgetEnabled:!0,timeFramesWidget:{goToDateEnabled:!1,availableTimeFrames:V},timeWidgetEnabled:!0,timeWidget:{timezoneMenuEnabled:!1},adjustForDividendsButtonEnabled:!0,sessionIdButtonEnabled:ke,backAdjustmentButtonEnabled:!1,settlementAsCloseButtonEnabled:!1,percentageScaleButtonEnabled:!(0,Ce.isFeatureEnabled)("hide_percent_bottom_toolbar"),logScaleButtonEnabled:!(0,Ce.isFeatureEnabled)("hide_log_bottom_toolbar"),autoScaleButtonEnabled:!(0,Ce.isFeatureEnabled)("hide_auto_bottom_toolbar"),fullscreenButtonEnabled:!0,mobileChangeLayoutEnabled:!1},mobileForceChartMaximizeEnabled:!1});let et=!1;Ze.onAboutToBeDestroyed.subscribe(null,(()=>{et=!0}),!0),Ie.studies_overrides&&Ze.applyStudiesOverrides(JSON.parse(Ie.studies_overrides)),Promise.all([i.e(27351),i.e(30187)]).then(i.bind(i,548810)).then((e=>{e.addBrandingSource(Ze)}));const tt=Ze.activeChartWidget.value();let it;if(window.chartWidget=tt,Ze.readOnly()||(window.studyMarket=new L(Ze,{onWidget:!0})),m.linking.bindToChartWidgetCollection(Ze),U(z.Names.WidgetLoad,Ie.frameElementId||null,void 0),Ie.theme){const e=Ie.theme.toLowerCase(),t=R.themes[e];if(t&&((0,N.setTheme)(e),!t.noChartTheme)){const e=Ie.theme&&Ie.theme.toLowerCase(),t=R.getStdTheme(e);t&&t.content&&(it=t.content,Ie.style&&(it.mainSourceProperties.style=parseInt(Ie.style)),(0,u.applyDefaultsOverrides)(it,{mainSeriesProperties:"mainSourceProperties"},!0))}}let st=!1,nt=!1;function rt(e){return(0,we.isPineIdString)(e)?{type:"pine",pineId:e}:{type:"java",studyId:e}}tt.withModel(null,(function(){const e=tt.model().mainSeries();tt.applyOverrides({"mainSeriesProperties.showCountdown":!1}),it&&tt.model().model().restoreTheme(it,!1),Ie.backgroundColor&&tt.applyOverrides({"paneProperties.background":Ie.backgroundColor,"paneProperties.backgroundType":Te.ColorType.Solid}),Ie.gridColor&&tt.applyOverrides({"paneProperties.vertGridProperties.color":Ie.gridColor,"paneProperties.horzGridProperties.color":Ie.gridColor}),e.dataEvents().symbolResolved().subscribe(e,(()=>{!function(e,t){if(!t)return;const i=e.model().model();try{JSON.parse(decodeURIComponent(t)).forEach((e=>{const t=i.createStudyInserter(rt(e.id));t.setForceOverlay(e.overlay),t.insert((()=>Promise.resolve({inputs:e.inputs,parentSources:[]})))}))}catch(e){(t.split(/\x1f/)||[]).forEach((e=>{i.createStudyInserter(rt(e)).insert()}))}}(window.chartWidget,Ie.studies)}),!0),e.dataEvents().completed().subscribe(this,(()=>{it&&at(),G&&!st&&(G(Ze,!0),st=!0),Q&&!nt&&(Q(Ze,{seriesControlBarEnabled:!!Oe}),nt=!0)})),
e.dataEvents().symbolError().subscribe(null,(()=>{U(z.Names.NoData,Ie.frameElementId||null,void 0)}))})),Ge&&(new D({resizerBridge:Ge,publishOptions:{onWidget:!0,publishSource:Ie.publishsource}}),async function(){const e=await(0,a.fetch)("/accounts/status_full/",{headers:{"Content-Type":"application/json"}});if(e.ok){return await e.json()}throw new Error(`Could not retrieve status: ${e.statusText}`)}().then((e=>{e.is_authenticated&&(window.is_authenticated=!0,window.user=e.user_data)})));const ot=window.saver=new h.ChartSaver(Ze);if(TradingView.setWidgetLogoOverlayVisibility=e=>{We.post(parent,"setLogoOverlayVisibility",{visible:!!e})},$e?(async()=>{const[e,t,{DrawingToolbar:s},{default:n}]=await Promise.all([Promise.all([i.e(70774),i.e(22666),i.e(5993),i.e(9817),i.e(4015),i.e(92191),i.e(53842),i.e(66639),i.e(35649),i.e(30006),i.e(93502),i.e(58056),i.e(91033),i.e(54712),i.e(99916),i.e(36956),i.e(98149),i.e(67080),i.e(15518),i.e(36752),i.e(22333),i.e(15886),i.e(54690),i.e(10102),i.e(18182),i.e(24534),i.e(97271),i.e(47341),i.e(6138),i.e(94192),i.e(93370),i.e(96070),i.e(50690),i.e(30979),i.e(29594),i.e(50973),i.e(41422),i.e(91890),i.e(73558)]).then(i.t.bind(i,50959,19)),Promise.all([i.e(70774),i.e(22666),i.e(5993),i.e(9817),i.e(4015),i.e(92191),i.e(53842),i.e(66639),i.e(35649),i.e(30006),i.e(93502),i.e(58056),i.e(91033),i.e(54712),i.e(99916),i.e(36956),i.e(98149),i.e(67080),i.e(15518),i.e(36752),i.e(22333),i.e(15886),i.e(54690),i.e(10102),i.e(18182),i.e(24534),i.e(97271),i.e(47341),i.e(6138),i.e(94192),i.e(93370),i.e(96070),i.e(50690),i.e(30979),i.e(29594),i.e(50973),i.e(41422),i.e(91890),i.e(73558)]).then(i.t.bind(i,500962,19)),Promise.all([i.e(70774),i.e(22666),i.e(5993),i.e(9817),i.e(4015),i.e(92191),i.e(53842),i.e(66639),i.e(35649),i.e(30006),i.e(93502),i.e(58056),i.e(91033),i.e(54712),i.e(99916),i.e(36956),i.e(98149),i.e(67080),i.e(15518),i.e(36752),i.e(22333),i.e(15886),i.e(54690),i.e(10102),i.e(18182),i.e(24534),i.e(97271),i.e(47341),i.e(6138),i.e(94192),i.e(93370),i.e(96070),i.e(50690),i.e(30979),i.e(29594),i.e(50973),i.e(41422),i.e(91890),i.e(73558)]).then(i.bind(i,756338)),Promise.all([i.e(70774),i.e(22666),i.e(5993),i.e(9817),i.e(4015),i.e(92191),i.e(53842),i.e(66639),i.e(35649),i.e(30006),i.e(93502),i.e(58056),i.e(91033),i.e(54712),i.e(99916),i.e(36956),i.e(98149),i.e(67080),i.e(15518),i.e(36752),i.e(22333),i.e(15886),i.e(54690),i.e(10102),i.e(18182),i.e(24534),i.e(97271),i.e(47341),i.e(6138),i.e(94192),i.e(93370),i.e(96070),i.e(50690),i.e(30979),i.e(29594),i.e(50973),i.e(41422),i.e(91890),i.e(73558)]).then(i.t.bind(i,49649,23))]);et||(t.render(e.createElement(s,{chartWidgetCollection:Ze,resizerBridge:$e,screenshotButton:"cme"===De}),$e.container.value()),window.lineToolPropertiesToolbar=new n(Ze))})():document.querySelectorAll(".tv-side-toolbar").forEach((e=>{e.classList.add("js-hidden")})),qe&&(async()=>{
const[e,t,s,{HeaderToolbar:n},{SaveChartService:r},{LoadChartService:o}]=await Promise.all([j(De),Promise.all([i.e(7242),i.e(93370),i.e(6237),i.e(50690),i.e(28557),i.e(79022)]).then(i.t.bind(i,50959,19)),Promise.all([i.e(7242),i.e(93370),i.e(6237),i.e(50690),i.e(28557),i.e(79022)]).then(i.t.bind(i,500962,19)),Promise.all([i.e(7242),i.e(93370),i.e(6237),i.e(50690),i.e(28557),i.e(79022)]).then(i.bind(i,273677)),Promise.all([i.e(7242),i.e(93370),i.e(6237),i.e(50690),i.e(28557),i.e(79022)]).then(i.bind(i,656519)),Promise.all([i.e(7242),i.e(93370),i.e(6237),i.e(50690),i.e(28557),i.e(79022)]).then(i.bind(i,448851))]),a=await e.getToolSet(),l=M.mobiletouch?["full"]:void 0;s.render(t.createElement(n,{tools:a,chartSaver:ot,chartApiInstance:window.ChartApiInstance,availableTimeFrames:V,chartWidgetCollection:Ze,ideas:Ne,resizerBridge:qe,popupButton:lt(Ie.showpopupbutton),studyMarket:window.studyMarket,windowMessageService:We,isFundamental:!1,allowedModes:l,saveChartService:new r(Ze,ot),loadChartService:new o(Ze)}),qe.container.value())})(),Ie.toolbarbg){const e=I.isHexColor(Ie.toolbarbg)?"#"+Ie.toolbarbg:Ie.toolbarbg,t=document.getElementById("widget-container");t&&t instanceof HTMLElement&&(t.style.backgroundColor=e)}function at(){document.querySelectorAll(".loading-indicator").forEach((e=>{e instanceof HTMLElement&&(e.style.display="none")}))}function lt(e,t=!1){return void 0===e?t:"1"===e}Ye&&(async()=>{const[{WidgetBar:e},{configuration:t}]=await Promise.all([Promise.all([i.e(70166),i.e(7566),i.e(71262),i.e(15453),i.e(9817),i.e(4015),i.e(92191),i.e(76592),i.e(89842),i.e(72639),i.e(32109),i.e(88548),i.e(13423),i.e(58056),i.e(33371),i.e(54712),i.e(6744),i.e(42244),i.e(58666),i.e(92991),i.e(76972),i.e(45403),i.e(46987),i.e(54690),i.e(60843),i.e(12781),i.e(20600),i.e(39164),i.e(42254),i.e(45932),i.e(47341),i.e(3436),i.e(52681),i.e(11647),i.e(80925),i.e(88482),i.e(40153),i.e(54336),i.e(50690),i.e(26300),i.e(30877),i.e(27763),i.e(97576),i.e(60146),i.e(95394),i.e(10488),i.e(69500),i.e(53837),i.e(54876)]).then(i.bind(i,639454)),Promise.all([i.e(70166),i.e(7566),i.e(71262),i.e(15453),i.e(9817),i.e(4015),i.e(92191),i.e(76592),i.e(89842),i.e(72639),i.e(32109),i.e(88548),i.e(13423),i.e(58056),i.e(33371),i.e(54712),i.e(6744),i.e(42244),i.e(58666),i.e(92991),i.e(76972),i.e(45403),i.e(46987),i.e(54690),i.e(60843),i.e(12781),i.e(20600),i.e(39164),i.e(42254),i.e(45932),i.e(47341),i.e(3436),i.e(52681),i.e(11647),i.e(80925),i.e(88482),i.e(40153),i.e(54336),i.e(50690),i.e(26300),i.e(30877),i.e(27763),i.e(97576),i.e(60146),i.e(95394),i.e(10488),i.e(69500),i.e(53837),i.e(54876)]).then(i.bind(i,667232))]);He.forEach((e=>{var t;e.widgets=null===(t=e.widgets)||void 0===t?void 0:t.filter((e=>!(void 0!==e.isEnabled&&!e.isEnabled)))}));window.widgetbar=new e({resizerBridge:Ye,affectsLayout:()=>je.affectsLayout("right"),readonly:!0,state:{width:Ue,pages:He},showCloseButton:!0,configuration:()=>t({chartApiInstance:window.ChartApiInstance})})})(),tt.onDisconnected().subscribe(null,(e=>{var t;at(),e&&(t=()=>{window.ChartApiInstance.disconnect(),
setTimeout((()=>{window.ChartApiInstance.connect(),tt.reconnect()}),500)},P().then((e=>e.showCriticalErrorMessage(t))))})),tt.onReconnectBailout().subscribe(null,(()=>{var e;e=()=>{setTimeout((()=>{window.ChartApiInstance.connect()}),0)},P().then((t=>t.showDisconnectedMessage(e)))})),document.querySelectorAll(".tv-content").forEach((e=>{e.addEventListener("contextmenu",(e=>{e.target instanceof Element&&e.target.matches("input, textarea")||e.preventDefault()}))})),Ie.whotrades&&o.setEnabled("whotrades_auth_only",!0),document.querySelectorAll(".loading-indicator").forEach((e=>{e.remove()})),(()=>{let e;const t=t=>{void 0!==e&&(0,S.getQuoteSessionInstance)("simple").unsubscribe("widgetQuoteListener",e),e=t,(0,S.getQuoteSessionInstance)("simple").subscribe("widgetQuoteListener",t,(e=>{const t=e.values,i=["change","change_percent","last_price","original_name","short_name","exchange","description","volume"],s={};for(let e=0;e<i.length;e++){const n=i[e];if(!t.hasOwnProperty(n))return;s[n]=t[n]}s.volume=1e100===t.volume?void 0:t.volume,We.post(parent,"quoteUpdate",s)}))};tt.withModel(null,(()=>{const e=tt.model().mainSeries();e.properties().childs().symbol.subscribe(e,(e=>{t(e.value())}))})),We.on("quoteSubscribe",(()=>{const e=tt.model().mainSeries().properties().childs().symbol.value();t(e)})),We.on("imageURL",((e,t)=>{(0,_.takeChartSnapshot)(Ze,(e=>{t(e)}),(()=>{t("")}),{wl:lt(Ie.whitelabel),cme:Pe.cme_widget})})),We.on("symbolInfo",((e,t)=>{const i=(0,s.ensureNotNull)(tt.model().mainSeries().symbolInfo()),n=tt.model().mainSeries().properties().childs().interval.value();t({name:i.name,exchange:i.exchange,description:i.description,type:i.type,interval:n})})),We.on("widgetReady",((e,t)=>{tt.withModel(null,(()=>{let e;tt.model().mainSeries().symbolInfo()?t():(e=()=>{t(),tt.model().mainSeries().dataEvents().symbolResolved().unsubscribe(null,e)},tt.model().mainSeries().dataEvents().symbolResolved().subscribe(null,e))}))})),B(H.Names.SetSymbol,(e=>{e&&e.symbol&&Ze.setSymbol(e.symbol)})),B(H.Names.SetInterval,(e=>{e&&e.interval&&Ze.setResolution(e.interval)}))})(),window.applyStudiesOverrides=e=>{e&&window.chartWidgetCollection.applyStudiesOverrides(e)},Promise.all([new Promise((e=>{tt.withModel(null,(()=>{tt.model().mainSeries().dataEvents().completed().subscribe(null,e,!0)}))})),X.whenDocumentReadyPromise]).then(Z.initGA)},81979:(e,t,i)=>{"use strict";i.r(t),i.d(t,{CubicBezier:()=>s.CubicBezier,color:()=>s.color,dur:()=>s.dur,easingFunc:()=>s.easingFunc});var s=i(745269)},960337:(e,t,i)=>{"use strict";i.d(t,{createGoProDialog:()=>o});const s=new Set,n=[],r=new Promise((e=>{window.addEventListener("load",(()=>{setTimeout((()=>{e()}),3e3)})),setTimeout((()=>{e()}),3e3)}));async function o(e){var t;if(await r,n.forEach((t=>{t(e.feature)})),s.has(e.feature))return
;const o=await Promise.all([i.e(40881),i.e(29016),i.e(22666),i.e(84139),i.e(92108),i.e(9817),i.e(92191),i.e(32109),i.e(61298),i.e(33199),i.e(6209),i.e(55242),i.e(73151),i.e(48478),i.e(44488),i.e(50690),i.e(24377),i.e(745),i.e(8658),i.e(99174),i.e(52489),i.e(5246)]).then(i.bind(i,331858));await(null===(t=window.pro)||void 0===t?void 0:t.ensureValidShopConf()),o.renderGoproDialog(e)}window.TradingView.createGoProDialog=o},526698:(e,t,i)=>{"use strict";i.d(t,{AggregateError:()=>f,ApiError:()=>m,accumulateErrors:()=>r,checkPhoneCode:()=>u,fetchPost:()=>o,firstLoginData:()=>a,firstLoginDataUrl:()=>n,recoverPassword:()=>v,recoverPasswordUrl:()=>y,recoveryPassword:()=>c,resendLink:()=>l,signin:()=>_,signinUrl:()=>d,signup:()=>g,signupUrl:()=>p});var s=i(120780);const n="/accounts/first_login_data/";function r(e,t){return Object.entries(e).map((e=>new m(e[1].join("\n"),t,e[0])))}function o(e,t){return(0,s.fetch)(e,{method:"POST",credentials:"include",mode:"same-origin",body:t})}function a(e){return o(n,e).then((e=>e.ok?e.json():e.json().then((t=>{throw new f(r(t.errors,e.status))}))))}function l(){return o("/api/v1/users/anon/change-email/resend/").then((e=>e.ok?e.json():e.json().then((e=>{throw Error(e.error)}))))}function u(e){return o("/api/v1/recover_password/check_phone_code/",e).then((e=>e.ok?e.json():e.json().then((e=>{throw Error(e.error)}))))}function c(e){return o("/api/v1/recover_password/",e).then((e=>e))}const d="/accounts/signin/";function h(e){return e.json().then((t=>{if("error"in t&&""!==t.error||"code"in t||!e.ok)throw new m(t.error||t.detail,e.status,t.code,t.two_factor_types);return t}))}function _(e){return o(d,e).then(h)}const p="/accounts/signup/";function g(e){return o(p,e).then((e=>e.json().then((t=>{if("errors"in t&&""!==t.errors)throw new f(r(t.errors,e.status))}))))}class m extends Error{constructor(e,t,i,s){super(e),this.type=i,this.status=t,this.secondFactorTypes=s}}class f extends Error{constructor(e){super(e.map((e=>e.message)).join("\n")),this.errors=[],this.errors=e}}const y="/api/v1/recover_password/search/";function v(e){return o(y,e).then(h)}},25517:(e,t,i)=>{"use strict";i.d(t,{publishChart:()=>n,publishChartWidget:()=>r});i(823127);let s;function n(e){const t={...e,...s};return new Promise((e=>{window.runOrSignIn((()=>{e(async function(e){return window.saver.publishChart(e)}(t))}),{source:"Publish chart",sourceMeta:"Chart"})}))}function r(e){n(e)}},867778:(e,t,i)=>{"use strict";var s,n=i(823127),r=(s={},{suggest:function(e,t){var i=n.ajax({url:t||"/pubscripts-suggest-json/",type:"GET",data:{search:e},dataType:"json"});return i.done((function(e){if(e&&e.results)for(var t=0;t<e.results.length;t++)s[e.results[t].scriptIdPart]=TradingView.clone(e.results[t])})),i},info:function(e,t=!1){for(var i=n.Deferred(),r=[],o=[],a=0;a<e.length;a++){var l=e[a];s[l]?r.push(TradingView.clone(s[l])):o.length<3e3&&o.push(l)}if(!o.length)return i.resolve(r).promise();var u={scriptIdPart:o.join(","),show_hidden:t};return n.ajax({url:"/pubscripts-get/",type:"POST",data:u,dataType:"json"}).done((function(e){
for(var t in e=e||[]){var n=e[t];s[n.scriptIdPart]=TradingView.clone(n),r.push(n)}i.resolve(r)})).fail((function(){i.reject()})),i},invalidateCache:function(e){e.forEach((function(e){delete s[e]}))},cleanCache:function(){s=[]}});e.exports=r},555656:(e,t,i)=>{"use strict";i.d(t,{ChartSaverBase:()=>h});var s=i(316230),n=i(708706),r=i(388482),o=i(389137),a=i(175203),l=i(707957);const u=new WeakMap;function c(e){let t=u.get(e);if(void 0===t){const i=JSON.parse(e.content);t=void 0!==i.charts?i.charts.map(JSON.stringify):[e.content],u.set(e,t)}return t}const d=new TextEncoder;class h{constructor(e){this._prevChartState=null,this._chartSavedDelegate=new l.Delegate,this._chartWidgetCollection=e,window.initData&&window.initData.content&&(this._prevChartState={content:JSON.stringify(window.initData.content)})}saveChartLineTools(e,t,i,s){{const n=(0,r.getChartStorage)(),o=this._chartWidgetCollection.metaInfo.uid.value();return n.saveLineToolsAndGroups(o,e,t,i,s)}}_getCommonSavingInfo(e){const t=this._chartWidgetCollection,i=this._chartWidgetCollection.chartsSymbols(),s=i[t.activeChartWidget.value().id()],n={...(r=s,{...r,legs:JSON.stringify(null!==(o=r.legs)&&void 0!==o?o:[])})};var r,o;const a=t.metaInfo;return a.id.value()&&(n.id=a.id.value()),n.name=a.name.value()||"",n.description=a.description.value()||"",n.charts_symbols=function(e){const t={};for(const i of Object.keys(e))t[i]={symbol:e[i].symbol};return JSON.stringify(t)}(i),n.is_realtime=n.is_realtime=e?"0":"1",n}async _saveLineToolsToStorage(){{if(!this._chartWidgetCollection.metaInfo.uid.value())return Promise.reject("Cannot save for new layout");const e=this._chartWidgetCollection.getAll().map((e=>{var t,i;return null!==(i=null===(t=e.lineToolsSynchronizer())||void 0===t?void 0:t.flushPendingSavings())&&void 0!==i?i:null})).filter(o.notNull);e.length&&await Promise.all(e)}}async _saveChart(e,t,i,r){var o;const l=this._chartWidgetCollection.metaInfo;let u=null!==(o=r.changes)&&void 0!==o?o:n.changedAll,h=!0;if(2&u)try{await this._saveLineToolsToStorage()}catch(e){u|=1,h=!1}if(1&u){const n=e(h);if((0,s.default)(this._prevChartState,n)&&null!==l.id.value())return this._chartSavedDelegate.fire(!0),void t(l,n);(function(e,t){const i=null===e?[]:c(e),s=c(t);let n=0,r=0;for(let e=0;e<s.length;++e){const t=d.encode(s[e]).length;n+=t,s[e]!==i[e]&&(r+=t)}a.telemetry.sendChartReport("save_layout_changed_to_total_bytes_ratio",{value:r/n})})(this._prevChartState,n);const o=(e,i)=>(h||this._chartWidgetCollection.getAll().forEach((e=>{var t;return null===(t=e.lineToolsSynchronizer())||void 0===t?void 0:t.markAsValidatedBecauseOfSavingToContent(!0)})),t(e,i));return this._saveChartImpl(n,l,o,i,r,e)}this._chartSavedDelegate.fire(!0),t(l,null)}}},813773:(e,t,i)=>{"use strict"
;var s=i(823127),n=i(650151).assert,r=i(516684),o=i(345848).trackEvent,a=i(960337).createGoProDialog,l=i(552279).reloginOrGoPro,u=i(867778),c=i(251954),d=i(125226).isFeatureEnabled,h=i(503595).asyncWindowOpen,_=i(922814),p=i(779923).showWarning,g=i(440058).forceTradingObjVisibilityOnScreenshot,m=i(578988).backend,f=i(555656).ChartSaverBase,y=i(707957).Delegate;const v={saverOnPublishError:i(777754).t(null,void 0,i(308162)),saveLibraryError:i(777754).t(null,void 0,i(717994)),saveScriptError:i(777754).t(null,void 0,i(487375))};function b(e,t){e.content=JSON.stringify(t)}function S(e){return e.returnValue=i(777754).t(null,void 0,i(901535)),e.returnValue}t.ChartSaver=class extends f{constructor(e){super(e),this._chartAboutToBeSavedDelegate=new y,this._chartSavedDelegate=new y,this._chartSizeLimitExceededDelegate=new y,this._savingToken=null}chartSizeLimitExceeded(){return this._chartSizeLimitExceededDelegate}chartAboutToBeSaved(){return this._chartAboutToBeSavedDelegate}chartSaved(){return this._chartSavedDelegate}saveToJSON(){var e=this._getCommonSavingInfo(!1);return b(e,this._getChartWidgetCollectionState(!1,!0)),e}_getChartWidgetCollectionState(e,t,i,s,n){return e||(t=!0,s=!1),t?this._chartWidgetCollection.state(!!e,i,s,n):this._chartWidgetCollection.activeChartWidget.value().state(!!e,i,s,n)}publishChart(e){var t=this;return new Promise((function(n){o("GUI","Publish Chart");var r=t,a={accessType:(e=e||{}).isPrivate||TVSettings.getBool("publishchart.private",!1)?0:1,publishSource:e.publishSource,videoFilename:e.videoFilename,videoDuration:e.videoDuration,videoCam:e.videoCam},l=s(".publish-dropdown-container"),u=s(".publish-chart-button"),c={savePrivacySetting:!e.doNotSavePrivacySetting,onWidget:e.onWidget},d=e.onPublishUrl,h=e.onPublishError
;r._ideaPublisher?n(r._ideaPublisher.openPublication(a,c)):Promise.all([Promise.all([i.e(28018),i.e(5393),i.e(22666),i.e(5993),i.e(4015),i.e(92191),i.e(53842),i.e(34465),i.e(69121),i.e(66639),i.e(88194),i.e(93502),i.e(36884),i.e(87845),i.e(58755),i.e(36088),i.e(39843),i.e(34873),i.e(13152),i.e(84281),i.e(73954),i.e(542),i.e(90592),i.e(37243),i.e(83966),i.e(68795),i.e(34545),i.e(30794),i.e(32591),i.e(50690),i.e(25977),i.e(35284),i.e(8676),i.e(44125)]).then(i.bind(i,777483)),Promise.all([i.e(28018),i.e(5393),i.e(22666),i.e(5993),i.e(4015),i.e(92191),i.e(53842),i.e(34465),i.e(69121),i.e(66639),i.e(88194),i.e(93502),i.e(36884),i.e(87845),i.e(58755),i.e(36088),i.e(39843),i.e(34873),i.e(13152),i.e(84281),i.e(73954),i.e(542),i.e(90592),i.e(37243),i.e(83966),i.e(68795),i.e(34545),i.e(30794),i.e(32591),i.e(50690),i.e(25977),i.e(35284),i.e(8676),i.e(44125)]).then(i.bind(i,792011)),Promise.all([i.e(28018),i.e(5393),i.e(22666),i.e(5993),i.e(4015),i.e(92191),i.e(53842),i.e(34465),i.e(69121),i.e(66639),i.e(88194),i.e(93502),i.e(36884),i.e(87845),i.e(58755),i.e(36088),i.e(39843),i.e(34873),i.e(13152),i.e(84281),i.e(73954),i.e(542),i.e(90592),i.e(37243),i.e(83966),i.e(68795),i.e(34545),i.e(30794),i.e(32591),i.e(50690),i.e(25977),i.e(35284),i.e(8676),i.e(44125)]).then(i.bind(i,773792)),Promise.all([i.e(28018),i.e(5393),i.e(22666),i.e(5993),i.e(4015),i.e(92191),i.e(53842),i.e(34465),i.e(69121),i.e(66639),i.e(88194),i.e(93502),i.e(36884),i.e(87845),i.e(58755),i.e(36088),i.e(39843),i.e(34873),i.e(13152),i.e(84281),i.e(73954),i.e(542),i.e(90592),i.e(37243),i.e(83966),i.e(68795),i.e(34545),i.e(30794),i.e(32591),i.e(50690),i.e(25977),i.e(35284),i.e(8676),i.e(44125)]).then(i.bind(i,556471))]).then((([{CategoriesProvider:e},{ChartInfoProvider:t},{IdeasProvider:i},{IdeaPublisher:s}])=>{var o=new t({chartWidgetCollection:r._chartWidgetCollection}),_=new i({publish:function(e,t){return new Promise((function(i,s){var n={closeForm:function(){i()},showError:function(e){s(e)},onPublishUrl:d,onPublishError:h};try{r.onPublish(e,Object.assign({},t,n))}catch(e){s(v.saverOnPublishError)}}))}}),p=new e;r._ideaPublisher=new s({chartInfoProvider:o,ideasProvider:_,categoriesProvider:p,onOpenEditor:function(){l.addClass("disabled")},onMinimizeEditor:function(){l.removeClass("disabled"),u.addClass("inprogress")},onCloseEditor:function(){l.removeClass("disabled"),u.removeClass("inprogress")}}),n(r._ideaPublisher.openPublication(a,c))}))}))}publishScript(e,t,i){var s=this;if(e.accessType=TVSettings.getBool("publishscript.private",!1)?0:1,s._scriptPublisher)s._scriptPublisher.openPublication(e,t);else{var n=i.scriptPublisher,r=i.scriptsProvider,o=i.categoriesProvider,a=new r({publish:function(e){return new Promise((function(t,i){var n={closeForm:function(){if(e&&e.scriptPublication&&e.scriptPublication.updateScriptIdPart){var i=e.scriptPublication.updateScriptIdPart;u.invalidateCache([i]),window.studyMarket&&window.studyMarket.resetAllPages()}t()},showError:function(e){i(e)},savePrivacySetting:!0};try{s.onPublish(e,n)}catch(e){i(v.saverOnPublishError)}}))}})
;s._scriptPublisher=new n({scriptsProvider:a,categoriesProvider:new o,scriptType:e.scriptType,scriptTitle:e.title,existingLibraryInfo:e.existingLibraryInfo}),s._scriptPublisher.openPublication(e,t)}}onPublish(e,t){{var n=this;if(n.publishInProgress)return;var a=t&&t.publishAllLayout,l=n._getCommonSavingInfo(!0),u=!1;e.scriptPublication&&(e.scriptPublication.scriptProtection===_.Access.ACCESS_CLOSED_NEEDS_AUTH&&(u=!0),l.scriptProtection=parseInt(_.Access.MAP_NAME_TO_ID[e.scriptPublication.scriptProtection])),b(l,this._getChartWidgetCollectionState(!0,a,!0,u)),g.setValue(!1),l.image=JSON.stringify(this._chartWidgetCollection.images({onlyActiveChart:!a})),g.setValue(null);const y=s=>{window.removeEventListener("beforeunload",S),n.publishInProgress=!1;var r=s.responseText||"";if("ok:"===r.substring(0,3)){var o=!1;if(t.savePrivacySetting){o=!e.is_public;TVSettings.setValue(e.scriptPublication?"publishscript.private":"publishchart.private",o)}var a=r.substring(3),l=JSON.parse(a);n._chartWidgetCollection.metaInfo.id.value()||n._chartWidgetCollection.metaInfo.id.setValue(l.id),t.closeForm&&t.closeForm(),t.onPublishUrl&&t.onPublishUrl(l.publishUrl,l.uuid),c.emit("onPublishUrl",l.uuid),n._lastPublishUrl=l.publishUrl,n.setPopupUrl&&n.setPopupUrl(l.publishUrl)}else{(413===s.status||/^[\d\s]*request.+large/i.test(r.trim()))&&(r=i(777754).t(null,void 0,i(701581)));var u=r||i(777754).t(null,void 0,i(669246));t.showError&&t.showError(u,{html:!0}),t.onPublishError&&t.onPublishError(u),n.setPopupUrl&&n.setPopupUrl(void 0)}};var d=e.scriptPublication,m=!(!d||!d.updateScriptIdPart),f=new Promise((function(e,t){var i;d?(m?(window.addEventListener("beforeunload",S),i=r.publishNext(d.scriptSource,d.updateScriptIdPart)):i=r.publishNew(d.scriptSource,d.scriptProtection),i.done((function(t){e(t.publishedstudyscript_id)})).fail((function(e){let i="";i=-1!==e.indexOf("already published library")?v.saveLibraryError:v.saveScriptError,p({title:i,text:e}),t()}))):e()}));m?f.then((function(t){var i={publishedstudyscript_id:t,script_terms:e.script_terms,description:e.description,tags:e.tags,preserve_old_chart:e.preserveOldChart};s.ajax({url:"/script-update/",type:"post",dataType:"text",data:s.extend({},l,i),complete:y})}),y):f.then((function(t){t&&(e.publishedstudyscript_id=t);for(var i=e.tags.split(","),n=e.scriptPublication?"Script":"Idea",r=0;r<i.length;r++)o(n+" Publication",n+" Tag",i[r]);if(e.scriptPublication){var a=e.scriptPublication.scriptProtection;o("Script Publication","Script Visibility",{open_no_auth:"Open",closed_no_auth:"Protected",closed_needs_auth:"Invite Only"}[a])}else{var u=e.is_education?"Education":"Analysis",c=e.is_public?"Public":"Private";o("Idea Publication","Idea Type",u),o("Idea Publication","Idea Strategy",["Neutral","Long","Short"][e.direction]),o("Idea Publication","Idea Privacy",c)}s.ajax({url:"/publishchart/",type:"post",dataType:"text",data:s.extend({},l,e),complete:y})}),y),n.publishInProgress=!0,t.onWidget||""!==e.name&&""!==e.description&&e.description.length<=7e4&&e.name.length<=64&&h(new Promise((function(e){
n.setPopupUrl=e})))}}_saveChartImpl(e,t,i,n,r,o){var u=i,c=n;if(this._savingToken=String(Math.random()),e.savingToken=this._savingToken,u=function(o){if(this._savingToken=null,"ok:"===o.substring(0,3)){var l=o.substring(3),u=JSON.parse(l);t.id.value()||(t.id.setValue(u.id),t.uid.setValue(u.uid)),t.lastModified.setValue(u.lastModified),"function"==typeof i&&i(t,e)}else if("saved_chart_limit_reached"===o||""===o){if("function"==typeof n&&n(),r.noDefaultOnFail)return;a({feature:"savedChartsLimit"})}else"function"==typeof n&&n(),s("#error").html(o);s(window).off("beforeunload.savechart")},c=async function(e){if(this._savingToken=null,e&&413===e.status)return this._chartSizeLimitExceededDelegate.fire(),void("function"==typeof n&&n.apply(null,arguments));if(e&&403===e.status){try{"login_required"===(await e.json()).code&&l({feature:"savedChartsLimit"})}catch(e){}"function"==typeof n&&n.apply(null,arguments)}else r.retry?"function"==typeof n&&n.apply(null,arguments):(r.retry=!0,this._saveChart(o,i,n,r))},!e.name)return console.warn("Saving chart with empty name is not allowed"),void n();m.saveChart(e.name,e.short_name,e.resolution,e,t).then(u.bind(this)).catch(c.bind(this))}saveChartSilently(e,t,r){r=r||{};var o=function(e){var t=e&&d("remove_line_tools_from_content"),i=this._getChartWidgetCollectionState(!1,void 0,void 0,void 0,t),s=this._getCommonSavingInfo(!1,t);return b(s,i),r.chartName&&(s.name=r.chartName),s.name&&0!==s.name.length||!r.defaultChartName||(s.name=r.defaultChartName),r.autoSave&&(s.autoSave=!0),s}.bind(this);s(window).on("beforeunload.savechart",(function(){return i(777754).t(null,void 0,i(274085))})),this._isSaveInProcess=!0,this._chartAboutToBeSavedDelegate.fire(),this._saveChart(o,function(t,i){n(!this._chartWidgetCollection.readOnly(),"Trying to save layout in read-only mode"),i&&this._chartWidgetCollection.metaInfo.name.setValue(i.name),this._prevChartState=i,this._chartSavedDelegate.fire(!0),this._isSaveInProcess=!1,e&&e({uid:t.uid.value(),data:i}),this._prevChartState&&delete this._prevChartState.savingToken}.bind(this),function(){this._chartSavedDelegate.fire(!1),this._isSaveInProcess=!1,t&&t.apply(null,arguments)}.bind(this),r),s(window).off("beforeunload.savechart")}isSaveInProcess(){return this._isSaveInProcess}}},199639:e=>{"use strict";var t={},i={XCBT:"CBOT",XNYM:"NYMEX",XCME:"CME",XCEC:"COMEX"};t.convertSymbolDataToTV=function(e,t,s){return s=2===s||"floor"===s||"pit"===s?"PIT":"GBX",t&&i[t]?{status:"ok",data:{symbol:e,exchange:i[t]+"_"+s}}:{status:"error",data:"Exchange `"+t+"` is not supported"}},e.exports=t},603706:(e,t,i)=>{"use strict";i.d(t,{getTimeFrames:()=>r});var s=i(777754),n=i(146585);function r(){return{"1d":{text:s.t(null,void 0,i(932120)),value:{value:"1D",type:"period-back"},targetResolution:(0,n.stringAsResolution)("1"),description:(0,n.daysStringLiteral)(1)},"5d":{text:s.t(null,void 0,i(905486)),value:{value:"5D",type:"period-back"},targetResolution:(0,n.stringAsResolution)("5"),description:(0,n.daysStringLiteral)(5)},"1w":{text:s.t(null,void 0,i(234880)),value:{
value:"7D",type:"period-back"},targetResolution:(0,n.stringAsResolution)("15"),description:(0,n.weeksStringLiteral)(1)},"1m":{text:s.t(null,void 0,i(460356)),value:{value:"1M",type:"period-back"},targetResolution:(0,n.stringAsResolution)("30"),description:(0,n.monthsStringLiteral)(1)},"3m":{text:s.t(null,void 0,i(440675)),value:{value:"3M",type:"period-back"},targetResolution:(0,n.stringAsResolution)("60"),description:(0,n.monthsStringLiteral)(3)},"6m":{text:s.t(null,void 0,i(281788)),value:{value:"6M",type:"period-back"},targetResolution:(0,n.stringAsResolution)("120"),description:(0,n.monthsStringLiteral)(6)},"12m":{text:s.t(null,void 0,i(254790)),value:{value:"12M",type:"period-back"},targetResolution:(0,n.stringAsResolution)("1D"),description:(0,n.yearsStringLiteral)(1)},"24m":{text:s.t(null,void 0,i(440956)),value:{value:"24M",type:"period-back"},targetResolution:(0,n.stringAsResolution)("1W"),description:(0,n.yearsStringLiteral)(2)},"60m":{text:s.t(null,void 0,i(320013)),value:{value:"60M",type:"period-back"},targetResolution:(0,n.stringAsResolution)("1W"),description:(0,n.yearsStringLiteral)(5)},"120m":{text:s.t(null,void 0,i(377628)),value:{value:"120M",type:"period-back"},targetResolution:(0,n.stringAsResolution)("1M"),description:(0,n.yearsStringLiteral)(10)},ytd:{text:s.t(null,void 0,i(989013)),value:{value:"YTD",type:"period-back"},targetResolution:(0,n.stringAsResolution)("1D"),description:s.t(null,void 0,i(388996))},all:{text:s.t(null,void 0,i(695271)),value:{value:"ALL",type:"period-back"},targetResolution:(0,n.stringAsResolution)("1M")},lastsession:{text:s.t(null,void 0,i(932120)),value:{value:"LASTSESSION",type:"period-back"},targetResolution:(0,n.stringAsResolution)("1"),description:(0,n.daysStringLiteral)(1)}}}},146585:(e,t,i)=>{"use strict";i.d(t,{daysStringLiteral:()=>o,hoursStringLiteral:()=>r,minutesStringLiteral:()=>n,monthsStringLiteral:()=>l,stringAsResolution:()=>c,weeksStringLiteral:()=>a,yearsStringLiteral:()=>u});var s=i(777754);const n=e=>s.t(null,{plural:"{str} minutes",count:e,replace:{str:`${e}`}},i(860144)),r=e=>s.t(null,{plural:"{str} hours",count:e,replace:{str:`${e}`}},i(217174)),o=e=>s.t(null,{plural:"{str} days",count:e,replace:{str:`${e}`}},i(774262)),a=e=>s.t(null,{plural:"{str} weeks",count:e,replace:{str:`${e}`}},i(14074)),l=e=>s.t(null,{plural:"{str} months",count:e,replace:{str:`${e}`}},i(128039)),u=e=>s.t(null,{plural:"{str} years",count:e,replace:{str:`${e}`}},i(408222)),c=e=>e},606311:(e,t,i)=>{"use strict";i.d(t,{timeFrames:()=>s});const s=(0,i(603706).getTimeFrames)()},665570:(e,t,i)=>{"use strict";i.d(t,{getTranslatedSymbolDescription:()=>r});var s=i(777754);function n(e){const t=`#${e}-symbol-description`,n=s.t(t,void 0,i(118562));return n===t?null:n}function r(e){if(void 0!==e.pro_name){const t=n(e.pro_name);if(null!==t)return t;if(void 0!==e.short_name){const t=n(e.short_name);if(null!==t)return t}}
return"en"!==e.language&&void 0!==e.local_description&&e.language===window.language||"en"===e.language&&void 0!==e.local_description&&e.language===window.language?e.local_description:e.description||""}},501437:(e,t,i)=>{"use strict";function s(e){return decodeURIComponent(e.replace(/\+/g," ")).replace(/<\/?[^>]+(>|$)/g,"")}function n(e){const t=/([^&=]+)=?([^&]*)/g,i={};if(!e)return i;let n=t.exec(e);for(;n;)i[s(n[1])]=s(n[2]),n=t.exec(e);return i}function r(){return n(window.location.search.substring(1))}function o(e){const t=[];for(const i in e)e.hasOwnProperty(i)&&null!=e[i]&&t.push({key:i,pair:encodeURIComponent(i)+"="+encodeURIComponent(e[i])});return t.sort(((e,t)=>e.key>t.key?1:e.key<t.key?-1:0)).map((e=>e.pair)).join("&")}i.d(t,{createUrlParams:()=>o,getUrlParams:()=>r})},49336:(e,t,i)=>{"use strict";function s(e,t=!1){"loading"!==document.readyState?t?setTimeout((()=>e()),1):e():document.addEventListener("DOMContentLoaded",(()=>e()))}i.d(t,{whenDocumentReady:()=>s,whenDocumentReadyPromise:()=>n});const n=new Promise((e=>{s(e)}))},586240:e=>{"use strict";e.exports=JSON.parse('{"size-header-height":"64px","size-dialog-fixed-header-height":"72px","media-phone":"screen and (max-width: 767px)","media-phone-vertical":"screen and (max-width: 479px)","media-mf-phone-vertical":"screen and (min-width: 320px)","media-mf-phone-landscape":"screen and (min-width: 568px)","media-mf-tablet-vertical":"screen and (min-width: 768px)","media-mf-tablet-landscape":"screen and (min-width: 1024px)","media-mf-laptop":"screen and (min-width: 1280px)","media-mf-desktop-medium":"screen and (min-width: 1440px)","media-mf-desktop-large":"screen and (min-width: 1920px)","media-mf-desktop-extra-large":"screen and (min-width: 2560px)"}')},384898:e=>{"use strict"
;e.exports=JSON.parse('{"ebitda":43000553610,"gross_profit":43000553611,"total_revenue":43000553619,"cost_of_goods":43000553618,"dep_amort_exp_income_s":43000563477,"cost_of_goods_excl_dep_amort":43000563478,"operating_expenses":43000563463,"sell_gen_admin_exp_total":43000553613,"sell_gen_admin_exp_other":43000553614,"research_and_dev":43000553612,"other_oper_expense_total":43000563483,"total_oper_expense":43000553615,"earnings_per_share_diluted":43000553616,"net_income":43000553617,"oper_income":43000563464,"total_non_oper_income":43000563465,"non_oper_interest_exp":43000563466,"interest_expense_on_debt":43000563467,"interest_capitalized":43000563468,"non_oper_income":43000563471,"non_oper_interest_income":43000563473,"pretax_equity_in_earnings":43000563474,"other_income":43000563479,"unusual_expense_inc":43000563476,"pretax_income":43000563462,"equity_in_earnings":43000563487,"income_tax":43000563492,"minority_interest_exp":43000563495,"after_tax_other_income":43000563497,"net_income_bef_disc_oper":43000563500,"discontinued_operations":43000563502,"dilution_adjustment":43000563504,"preferred_dividends":43000563506,"diluted_net_income":43000563516,"earnings_per_share_basic":43000563520,"total_liabilities_shrhldrs_equity":43000553626,"total_debt":43000553622,"total_assets":43000553623,"total_current_assets":43000557441,"cash_n_short_term_invest":43000563702,"cash_n_equivalents":43000563709,"short_term_invest":43000563716,"total_receivables_net":43000563738,"accounts_receivables_net":43000563740,"other_receivables":43000563741,"inventory_work_in_progress":43000563746,"inventory_progress_payments":43000563748,"inventory_finished_goods":43000563749,"inventory_raw_materials":43000563753,"prepaid_expenses":43000563757,"other_current_assets_total":43000563761,"total_non_current_assets":43000557440,"long_term_investments":43000563639,"long_term_note_receivable":43000563641,"investments_in_unconcsolidate":43000563645,"other_investments":43000563649,"ppe_total_net":43000563657,"ppe_total_gross":43000563667,"accum_deprec_total":43000563673,"deferred_tax_assests":43000563683,"intangibles_net":43000563686,"goodwill":43000563688,"other_intangibles_net":43000563689,"long_term_other_assets_total":43000563693,"total_liabilities":43000553624,"total_current_liabilities":43000557437,"short_term_debt":43000563554,"current_port_debt_capital_leases":43000563557,"short_term_debt_excl_current_port":43000563563,"notes_payable_short_term_debt":43000563600,"other_short_term_debt":43000563614,"accounts_payable":43000563619,"income_tax_payable":43000563621,"dividends_payable":43000563624,"accrued_payroll":43000563628,"deferred_income_current":43000563631,"other_current_liabilities":43000563635,"total_non_current_liabilities":43000557436,"long_term_debt":43000553621,"long_term_debt_excl_capital_lease":43000563521,"capital_operating_lease_obligations":43000563522,"capital_lease_obligations":43000563527,"operating_lease_liabilities":43000563532,"provision_f_risks":43000563535,"deferred_tax_liabilities":43000563536,"deferred_income_non_current":43000563540,"other_liabilities_total":43000563545,"total_equity":43000553625,"shrhldrs_equity":43000557442,"common_equity_total":43000563866,"retained_earnings":43000563867,"paid_in_capital":43000563871,"common_stock_par":43000563873,"additional_paid_in_capital":43000563874,"treasury_stock_common":43000563875,"other_common_equity":43000563877,"preferred_stock_carrying_value":43000563879,"minority_interest":43000563884,"free_cash_flow":43000553630,"cash_f_operating_activities":43000553627,"funds_f_operations":43000563886,"net_income_starting_line":43000563888,"cash_flow_deprecation_n_amortization":43000563892,"depreciation_depletion":43000564142,"amortization":43000564143,"cash_flow_deferred_taxes":43000564144,"non_cash_items":43000564146,"total_extra_items":43000564145,"changes_in_working_capital":43000564147,"change_in_accounts_receivable":43000564148,"change_in_taxes_payable":43000564149,"change_in_accounts_payable":43000564150,"change_in_accrued_expenses":43000564151,"change_in_inventories":43000564153,"change_in_other_assets":43000564154,"cash_f_investing_activities":43000553628,"purchase_sale_business":43000564156,"sales_of_business":43000564158,"purchase_of_business":43000564159,"purchase_sale_investments":43000564160,"sales_of_investments":43000564161,"purchase_of_investments":43000564162,"other_investing_cash_flow_items_total":43000564163,"other_investing_cash_flow_sources":43000564164,"other_investing_cash_flow_uses":43000564165,"capital_expenditures":43000564166,"capital_expenditures_fixed_assets":43000564167,"capital_expenditures_other_assets":43000564168,"cash_f_financing_activities":43000553629,"issuance_of_stock_net":43000564169,"sale_of_stock":43000564170,"purchase_of_stock":43000564171,"issuance_of_debt_net":43000564172,"issuance_of_short_term_debt":43000564173,"issuance_of_long_term_debt":43000564175,"supplying_of_long_term_debt":43000564176,"reduction_of_long_term_debt":43000564177,"issuance_of_other_debt":43000564178,"other_financing_cash_flow_items_total":43000564179,"other_financing_cash_flow_sources":43000564181,"other_financing_cash_flow_uses":43000564182,"total_cash_dividends_paid":43000564183,"common_dividends_cash_flow":43000564185,"preferred_dividends_cash_flow":43000564186,"market_cap_basic":43000597015,"number_of_employees":43000597080,"dividends_yield":43000597817,"dividend_payout_ratio":43000597738,"price_earnings":43000597017,"price_sales":43000597019,"price_cash_flow":43000597816,"price_book":43000597016,"enterprise_value":43000597077,"enterprise_value_ebitda":43000597064,"ev_ebit":43000597063,"ev_revenue":43000597065,"price_to_free_cash_flow":43000597814,"price_to_tangible_book":43000597815,"price_earnings_forward":43000597831,"price_sales_forward":43000597832,"return_on_assets":43000597054,"return_on_equity":43000597021,"return_on_invested_capital":43000597056,"gross_margin":43000597811,"operating_margin":43000597076,"ebitda_margin":43000597075,"net_margin":43000597074,"return_on_equity_adjust_to_book":43000597055,"return_on_tang_assets":43000597052,"return_on_tang_equity":43000597053,"free_cash_flow_margin":43000597813,"quick_ratio":43000597050,"current_ratio":43000597051,"invent_turnover":43000597046,"asset_turnover":43000597022,"debt_to_asset":43000597031,"debt_to_equity":43000597078,"long_term_debt_to_assets":43000597048,"debt_to_ebitda":43000597032,"debt_to_revenue":43000597033,"effective_interest_rate_on_debt":43000597034,"equity_to_asset":43000597035,"goodwill_to_asset":43000597036,"interst_cover":43000597037,"invent_to_revenue":43000597047,"share_buyback_ratio":43000597057,"sloan_ratio":43000597058,"earnings_estimate":43000597066,"sales_estimates":43000597067,"revenue_one_year_growth":43000597068,"earnings_per_share_basic_one_year_growth":43000597069,"earnings_per_share_diluted_one_year_growth":43000597071,"accruals_ratio":43000597073,"tangible_common_equity_ratio":43000597079,"revenue_per_employee":43000597081,"net_income_per_employee":43000597082,"graham_numbers":43000597084,"ncavps_ratio":43000597085,"quality_ratio":43000597086,"gross_profit_to_asset":43000597087,"buyback_yield":43000597088,"cash_conversion_cycle":43000597089,"peg_ratio":43000597090,"altman_z_score":43000597092,"piotroski_f_score":43000597734,"sustainable_growth_rate":43000597736,"research_and_develop_to_revenue":43000597739,"earnings_yield":43000597010,"tobin_q_ratio":43000597834,"beneish_m_score":43000597835,"kz_index":43000597844,"fulmer_h_factor":43000597847,"springate_score":43000597848,"zmijewski_score":43000597850,"cash_to_debt":43000597023,"cogs_to_revenue":43000597026,"days_invent":43000597028,"days_pay":43000597029,"day_sales_out":43000597030,"price_free_cash_flow":43000597814,"price_tangible_book":43000597815,"book_value_per_share":43000670330,"book_tangible_per_share":43000597072,"return_on_common_equity":43000656797,"ebit":43000670329,"total_shares_outstanding":43000670331,"float_shares_outstanding":43000670341,"dps_common_stock_prim_issue":43000670334,"basic_shares_outstanding":43000670320,"diluted_shares_outstanding":43000670322,"total_inventory":43000563745,"net_debt":43000665310}')
}},e=>{e.O(0,[18562,7566,68716,66949,37787,24227,56391,20994,67949,99578,27915,88403,76592,92483,50293,67103,73151,24028,64094,90854,65885,41326,38348,23127,24377,24951,74853,14545,14061,35060,30128,62072,83433,42292,75692,86452,15674,41414,84484,1937,84289,13931,36444,54935,79169,83126,751,36905,86742,34599],(()=>{return t=879422,e(e.s=t);var t}));e.O()}]);